<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Core Flight Executive Users Guide: Specifying Time Source</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Core Flight Executive Users Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Core Flight Executive Documentation</a></li><li class="navelem"><a class="el" href="cfetimeovr.html">cFE Time Services Overview</a></li><li class="navelem"><a class="el" href="cfetimeugconfig.html">Time Configuration</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Specifying Time Source </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>TIME configuration provides the ability to specify where the source for time data is originating - either internal or external. In hypothetical system one, the MET is internal. In system two, TIME cannot directly read the MET, therefore time data must be received from an external source.</p>
<p>This selection also enables a command interface to switch between internal and external input. When commanded to use internal time data, TIME will ignore the external data. However, TIME will continue to use the API function as the trigger to generate a "time at the tone" command packet regardless of the internal/external command selection.</p>
<p>Set the following definition to TRUE only for TIME servers using an external time data source.</p>
<pre class="fragment">#define CFE_TIME_CFG_SOURCE  TRUE
</pre><p>The remainder of this section pertains only to TIME servers configured to accept external time data.</p>
<p>When configured to accept external time data, TIME requires an additional definition for the type of external data (GPS, MET, spacecraft time, etc.). This selection will enable an API function specific to the selected data type. Regardless of how the time data is received, the receiver need only pass the data to the appropriate API function.</p>
<p>TIME servers using an external time data source must set one, and only one, of the following to TRUE, for example:</p>
<pre class="fragment">#define CFE_TIME_CFG_SRC_MET   TRUE
#define CFE_TIME_CFG_SRC_GPS   FALSE
#define CFE_TIME_CFG_SRC_TIME  FALSE
</pre><p>configuration definitions for the particular source.</p>
<p>If the cfe_platform_cfg.h file contains "#define CFE_TIME_CFG_SOURCE  TRUE" then time is configured to allow switching between internal and external time sources (see <a class="el" href="cfe__time__msg_8h.html#a26b9af41759d4c05178503e6480bc6bd">CFE_TIME_SET_SOURCE_CC</a>). If this configuration parameter is set to FALSE then the command to set the source will be rejected.</p>
<p>If this configuration parameter is set to TRUE then ONE and ONLY ONE of the following configuration parameters must also be set TRUE in order to specify the external time source, for example:</p>
<pre class="fragment">#define CFE_TIME_CFG_SRC_MET   TRUE
#define CFE_TIME_CFG_SRC_GPS   FALSE
#define CFE_TIME_CFG_SRC_TIME  FALSE
</pre><p>Note that Internal MET source depends on available hardware. It may be the local count of tone signals, the contents of a hardware register or an OS specific time function.</p>
<p>Note also that when configured to use an external time source, commands to set the time will be overwritten.</p>
<dl class="section see"><dt>See also</dt><dd>#CFE_TIME_CFG_SRC_MET, #CFE_TIME_CFG_SRC_GPS, #CFE_TIME_CFG_SRC_TIME</dd></dl>
<p>Next: <a class="el" href="cfetimeugsignal.html">Specifying Time Signal</a> <br />
 Prev: <a class="el" href="cfetimeugvirtualmet.html">Virtual MET</a> <br />
 Up To: <a class="el" href="cfetimeugconfig.html">Time Configuration</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
