<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Core Flight Executive Detailed Design: Sending Commands to the cFE Core and Applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Core Flight Executive Detailed Design
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="cfedeployguide.html">cFE Deployment Guide</a></li><li class="navelem"><a class="el" href="cfedeploy_4.html">cFE Tools</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Sending Commands to the cFE Core and Applications </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following text is from the <code>readme.txt</code> file in the <code>.../tools/cmdUtil</code> directory:</p>
<p>cmdUtil is a command line C program that is designed to run on a host computer ( development machine, ground system, test system, etc.. ) and send commands to a CCSDS system over a UDP network socket.</p>
<p>This utility will format and send a CCSDS command packet over a UDP network socket. It can be used to send commands on a localhost, or a remote system. It is primarily used for cFE ( core Flight Executive ) development and testing.</p>
<h4>Documentation for the cmdUtil Program: </h4>
<p>The following is the help text from cmdUtil:<br />
 </p><pre class="fragment">  cmdUtil -- A CCSDS Command Client.
      The parameters are:
      --host : The hostname or IP address to send the command to ( default = localhost)
      --port : The UDP port to send the command to ( default = 1234 )
      --pktid : The Packet ID for the command being sent
      --cmdcode : The command code for the command being sent
      --endian : BE: Dont swap words, LE: Swap words on packet
      --half : Add a 16 bit parameter to the packet ( hex or dec )
      --long : Add a 32 bit parameter to the packet ( hex or dec )
      --string : Add a fixed length string to the packet
          The string parameter has the form "NNN:StringData"
          Where NNN is the length of the parameter in the
          command, and StringData is the string. So you could put
          --string="32:ES_APP" and it will build the string
          parameter and pad the rest of the 32 bytes with 0's.
      --byte : Add an 8 bit parameter to the packet ( hex or dec )
          This one is not implemented yet, because I will have to
          pad the other 8 bits..
 
       An example of using this is:
 
  ./cmdUtil --host=localhost --port=1234 --pktid=0x1803 --cmdcode=3 --half=100 --string="16:ES_APP"</pre><p>There are a couple of example shell scripts to show how the cmdUtil program can be invoked: <br />
 The <code>to-enable-tlm.sh</code> is a script that sends a single command to the Telemetry Output (TO) application.</p>
<p>The user can modify a copy of the <code>to-enable-tlm.sh</code> script to include the desired commands to be sent.</p>
<p>To send the commands, just execute the script at the command prompt like this: </p><pre class="fragment">  $./to-enable-tlm.sh</pre><hr/>
<h4>IMPORTANT BUG!: </h4>
<p>This program currently does not handle Endianness. The underlying sendUdp function will get the endian option passed to it, but it will swap words regardless of the datatype. The endian option needs to be totally reworked to account for:<br />
</p><ol type="1">
<li>Sending on a Little Endian Host to a Big Endian target<br />
</li>
<li>Sending on a Big Endian Host to a Little Endian target<br />
</li>
<li>( all other combinations.. )<br />
</li>
<li>Properly swapping the specific header and data fields ( rather than just the whole packet )<br />
</li>
</ol>
<p>Right now it works when sending from a Little Endian ( x86 ) to Little Endian ( x86 ) machine ONLY!</p>
<p>Next: <a class="el" href="cfedeploy_4_3.html">Viewing Telemetry from the cFE Core and Applications</a> <br />
 Prev: <a class="el" href="cfedeploy_4_1.html">cFE Table Compiler</a> <br />
 Up To: <a class="el" href="cfedeploy_4.html">cFE Tools</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
