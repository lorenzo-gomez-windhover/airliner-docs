<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Core Flight Executive Detailed Design: PC / Cygwin-Windows Platform</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Core Flight Executive Detailed Design
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="cfedeployguide.html">cFE Deployment Guide</a></li><li class="navelem"><a class="el" href="cfedeploy_3.html">Target Specific Instructions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PC / Cygwin-Windows Platform </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><center> <h4>cFE Core Configuration for the PC / Cygwin-Windows Platform </h4>
</center><center> </center> <center> <b> cfe-config.mak Settings </b> </center> <table  align="CENTER">
<tr>
<td><b>cfe-config.mak variable </b> </td><td><b>Required selection </b> </td><td><b>Notes</b> </td></tr>
<tr>
<td>HWARCH </td><td>x86 </td></tr>
<tr>
<td>PLATFORM </td><td>pc </td></tr>
<tr>
<td>OS </td><td>linux </td></tr>
<tr>
<td>BSP </td><td>cygwin </td></tr>
</table>
<center> <h4>How to run the cFE on the PC / Cygwin-Windows Platform </h4>
</center><center> </center><ol>
<li>
Create the directory to hold the non-volatile applications. <pre class="fragment">        $ mkdir /tmp/eedev0/apps ( in DOS: C:\\cygwin\\tmp\\eedev0\\apps )</pre> </li>
<li>
Change the extension of the files files listed in the startup script to <code>.dll</code> (from the default of <code>.o</code>) </li>
<li>
Copy the files listed in the startup script (and the startup script) to the non-volatile directory. <pre class="fragment">        ...fsw/build/cpu1]$cp exe/ci.dll /tmp/eedev0/apps
        ...fsw/build/cpu1]$cp exe/to.dll /tmp/eedev0/apps
        ...fsw/build/cpu1]$cp exe/sch.dll /tmp/eedev0/apps
        ...fsw/build/cpu1]$cp exe/tst_lib.dll /tmp/eedev0/apps
        ...fsw/build/cpu1]$cp exe/cfe_es_startup.scr /tmp/eedev0/apps</pre> </li>
<li>
<p class="startli">To run the cFE, type the following: </p><pre class="fragment">        ...fsw/build/cpu1]$ ./exe/core-cygwin.bin PO 1</pre><p> If running the cFE results in a <code>'bad system call'</code> error at startup, the user must 1) enable the cygserver and 2) export the <code>CGYWIN</code> environment variable to resolve the issue. </p><ol>
<li>
Enable the cygserver: <ul>
<li>
You may have to be logged in as an Administrator to continue. </li>
<li>
Type <code>'cygserver-config'</code> at the cygwin prompt. It may ask you to start the cygserver as a system service or overwrite a configuration script. Say yes to both. </li>
<li>
You will either have to start the service using the 'Administration Tools' -&gt; 'Services' application or restart the computer (it is Windows, after all). </li>
<li>
To verify that the service is running, go to Start -&gt; Run, type in <code>'msconfig'</code> and hit ENTER. Go to the 'Services' tab and check the 'Hide all Microsoft services'. After that you should see the cygserver listed in a state other than <code>'stopped'</code> or <code>'not running'</code>. </li>
</ul>
</li>
<li>
export an environment variable <ul>
<li>
type <code>'export CGYWIN=server'</code> at the cygwin prompt. You'll have to do this every time you bring up a new cygwin shell to run the cFE, so you might as well put it in your <code>.bashrc</code> with your other environment variables. </li>
<li>
If the above doesn't work, use <code>'set CYGWIN=server'</code>. </li>
</ul>
</li>
</ol>
<p class="endli"><b>Note:</b> See section called <a class="el" href="cfedeploy_3_6.html">PC / Cygwin-Windows Platform</a>. </p>
</li>
</ol>
<center> <h4>Exception Handling </h4>
</center><center> </center><p>This port does not install exception handlers. Exceptions will be caught by the operating system or debugger. The UNIX signal handler facility could be used to catch exceptions in the cFE.</p>
<center> <h4>BSP Panic </h4>
</center><center> </center><p>If the cFE core startup fails, the generic cFE code will call the #OS_BSPPanic routine. This is a target specific routine. If the cFE Startup fails and calls #OS_BSPPanic, this port will exit to the shell.</p>
<center> <h4>Compressed file support </h4>
</center><center> </center><p>The cFE supports loading compressed cFE Application files. The files must be compressed with the “gzip” utility. An example: “$ gzip ci.o “. This will produce the file “ci.o.gz”. When the cFE code detects the .gz file extension, it will uncompress the cFE application when loading it.</p>
<p>Next: <a class="el" href="cfedeploy_3_7.html">Notes on Parameters to starting the cFE in Linux, OS X, and Cygwin</a> <b>OR</b> <a class="el" href="cfedeploy_4.html">cFE Tools</a> <br />
 Prev: <a class="el" href="cfedeploy_3_5.html">PC / Linux Platform</a> <br />
 Up To: <a class="el" href="cfedeploy_3.html">Target Specific Instructions</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
