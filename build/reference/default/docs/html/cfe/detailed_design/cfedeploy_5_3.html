<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Core Flight Executive Detailed Design: Creating the Command and Telemetry Databases</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Core Flight Executive Detailed Design
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="cfedeployguide.html">cFE Deployment Guide</a></li><li class="navelem"><a class="el" href="cfedeploy_5.html">Building the Ground Database and Pages</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Creating the Command and Telemetry Databases </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>NOTE: The cFE Software Bus contains three commands and two telemetry packets that are needed only when the Software Bus Networking (SBN) application is present in the system. The SBN application is needed only when the standard cFE Software Bus is required to perform interprocessor communication. If the SBN application is not required, a project may want to remove these commands and telemetry packets from the ground system database. If this is the case, the following cFE SB commands may be removed:</p><ul>
<li>Enable Subscription Reporting</li>
<li>Disable Subscription Reporting</li>
<li>Send Previous Subscriptions The following cFE SB telemetry packets may also be removed:</li>
<li>Subscription Report Packet</li>
<li>Previous Subscriptions Packet</li>
</ul>
<ol>
<li>
In the <code>'rdl/template'</code> directory, generate all rdl files using the following perl script: <pre class="fragment">        -&gt; create_rdls &lt;spacecraft&gt;</pre> Use <code>""</code> in place of the <code>spacecraft</code> if you want it omitted. </li>
<li>
Move the generated rdl files from the template directory up one directory to the rdl directory. </li>
<li>
Move up to the <code>'rdl'</code> directory by entering <code>'cd ..'</code> at the command prompt. </li>
<li>
Rename the following <code>"table"</code> rdls: <pre class="fragment">        mv scx__cpu1_tst_tbl_4002.rdl scx_table_cpu1_tst_tbl_4002p.rdl
        mv scx__cpu2_tst_tbl_4032.rdl scx_table_cpu2_tst_tbl_4032p.rdl
        mv scx__cpu3_tst_tbl_4064.rdl scx_table_cpu3_tst_tbl_4064p.rdl</pre> </li>
<li>
<p class="startli">Make the following manual changes in order to ensure that the TST_TBL table rdls will compile:</p>
<ul>
<li>Edit the <code>scx_table_cpu1_tst_tbl_4002p.rdl</code> file. <ol>
<li>
In the file header comments, change the second Packet Application ID: comment from 4002 to 4003 and the hex value from '0FA2' to '0FA3'. </li>
<li>
Find the Packet specification for Table 2. The packet specification starts with PACKET Pxxxx APID=yyyy. Change the specification from "P0FA2 APID=4002" to "P0FA3 APID=4003". </li>
<li>
Save the changes and exit the file editor. </li>
</ol>
</li>
<li>Edit the <code>scx_table_cpu2_tst_tbl_4032p.rdl</code> file. <ol>
<li>
In the file header comments, change the second Packet Application ID: comment from 4002 to 4003 and the hex value from '0FA2' to '0FA3'. </li>
<li>
Find the Packet specification for Table 2. The packet specification starts with PACKET Pxxxx APID=yyyy. Change the specification from "P0FA2 APID=4002" to "P0FA3 APID=4003". </li>
<li>
Save the changes and exit the file editor. </li>
</ol>
</li>
<li>Edit the <code>scx_table_cpu3_tst_tbl_4064p.rdl</code> file. <ol>
<li>
In the file header comments, change the second Packet Application ID: comment from 4064 to 4065 and the hex value from '0FE0' to '0FE1'. </li>
<li>
Find the Packet specification for Table 2. The packet specification starts with PACKET Pxxxx APID=yyyy. Change the specification from "P0FE0 APID=4064" to "P0FE1 APID=4065". </li>
<li>
Save the changes and exit the file editor. </li>
</ol>
</li>
</ul>
</li>
<li>
Edit the <code>cfe_shell_tlm.rdl</code> file to contain the appropriate packets for the CPUs that your mission will support. </li>
<li>
Make sure that the <code>'cfe_user_tlm.rdl'</code> and <code>'cfe_user_cmd.rdl'</code> files contain entries to match the file names in the directory. If they do not, you must edit these files so that they do match the files in the directory. </li>
<li>
Compile the command database by entering <code>'dbcmpcmd'</code> on the command line. If there were NO errors, proceed to the next step. Otherwise, correct any errors and repeat until a clean compile is achieved. </li>
<li>
Load the command database by entering <code>'dbloadcmd'</code> on the command line. </li>
<li>
Compile the telemetry database by entering <code>'dbcmptlm'</code> on the command line. If there were NO errors, proceed to the next step. Otherwise, correct any errors and repeat until a clean compile is achieved. </li>
<li>
Load the telemetry database by entering <code>'dbloadtlm'</code> on the command line. </li>
<li>
Enter the command <code>'cd ../prc'</code> and compile all the procs by entering the following command <code>"stol_compiler \&lt;filename\&gt;"</code>. </li>
<li>
Start or re-start ASIST. If you made changes to the existing databases, you can verify your changes by opening the CMD or TLM Database Browser and selecting the ID that you changed. </li>
<li>
Enter the command <code>'cd template'</code> and create all the procedures from the templates by entering the command <code>'create_proc &lt;template filename&gt; "\&lt;scid\&gt;" "\&lt;cpu\&gt;"</code> for each template file. </li>
<li>
Enter the command <code>'cd ..'</code> and compile all the procs just generated by entering the command <code>"stol_compiler \&lt;filename\&gt;"</code>. </li>
</ol>
<p>Next: <a class="el" href="cfedeploy_5_4.html">Generating the ASIST cFE Pages</a> <br />
 Prev: <a class="el" href="cfedeploy_5_2.html">Populating the Local Directory</a> <br />
 Up To: <a class="el" href="cfedeploy_5.html">Building the Ground Database and Pages</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
