<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="cfe__sb__api_8c" kind="file" language="C++">
    <compoundname>cfe_sb_api.c</compoundname>
    <includes refid="common__types_8h" local="yes">common_types.h</includes>
    <includes refid="cfe__private_8h" local="yes">private/cfe_private.h</includes>
    <includes refid="cfe__sb__events_8h" local="yes">cfe_sb_events.h</includes>
    <includes refid="cfe__sb__priv_8h" local="yes">cfe_sb_priv.h</includes>
    <includes refid="cfe__sb_8h" local="yes">cfe_sb.h</includes>
    <includes refid="osapi_8h" local="yes">osapi.h</includes>
    <includes refid="cfe__es_8h" local="yes">cfe_es.h</includes>
    <includes local="yes">cfe_psp.h</includes>
    <includes refid="cfe__error_8h" local="yes">cfe_error.h</includes>
    <includes local="no">string.h</includes>
    <incdepgraph>
      <node id="7551">
        <label>sys/stat.h</label>
      </node>
      <node id="7545">
        <label>stdarg.h</label>
      </node>
      <node id="7538">
        <label>common_types.h</label>
        <link refid="common__types_8h"/>
      </node>
      <node id="7565">
        <label>cfe_psp.h</label>
      </node>
      <node id="7569">
        <label>cfe_sb_events.h</label>
        <link refid="cfe__sb__events_8h"/>
      </node>
      <node id="7549">
        <label>stdlib.h</label>
      </node>
      <node id="7566">
        <label>ccsds.h</label>
        <link refid="ccsds_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7555" relation="include">
        </childnode>
      </node>
      <node id="7557">
        <label>cfe_msgids.h</label>
      </node>
      <node id="7546">
        <label>osapi-os-rtm.h</label>
        <link refid="osapi-os-rtm_8h"/>
      </node>
      <node id="7560">
        <label>cfe_es_perfids.h</label>
        <link refid="cfe__es__perfids_8h"/>
      </node>
      <node id="7537">
        <label>sb/cfe_sb_api.c</label>
        <link refid="cfe_sb_api.c"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7539" relation="include">
        </childnode>
        <childnode refid="7569" relation="include">
        </childnode>
        <childnode refid="7570" relation="include">
        </childnode>
        <childnode refid="7564" relation="include">
        </childnode>
        <childnode refid="7541" relation="include">
        </childnode>
        <childnode refid="7559" relation="include">
        </childnode>
        <childnode refid="7565" relation="include">
        </childnode>
        <childnode refid="7558" relation="include">
        </childnode>
        <childnode refid="7572" relation="include">
        </childnode>
      </node>
      <node id="7562">
        <label>cfe_time.h</label>
        <link refid="cfe__time_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
      </node>
      <node id="7563">
        <label>cfe_evs_msg.h</label>
        <link refid="cfe__evs__msg_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7562" relation="include">
        </childnode>
        <childnode refid="7541" relation="include">
        </childnode>
        <childnode refid="7564" relation="include">
        </childnode>
        <childnode refid="7559" relation="include">
        </childnode>
      </node>
      <node id="7547">
        <label>osapi-os-filesys.h</label>
        <link refid="osapi-os-filesys_8h"/>
        <childnode refid="7548" relation="include">
        </childnode>
        <childnode refid="7549" relation="include">
        </childnode>
        <childnode refid="7550" relation="include">
        </childnode>
        <childnode refid="7551" relation="include">
        </childnode>
      </node>
      <node id="7542">
        <label>osapi-version.h</label>
        <link refid="osapi-version_8h"/>
      </node>
      <node id="7541">
        <label>osapi.h</label>
        <link refid="osapi_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7542" relation="include">
        </childnode>
        <childnode refid="7543" relation="include">
        </childnode>
        <childnode refid="7544" relation="include">
        </childnode>
        <childnode refid="7547" relation="include">
        </childnode>
        <childnode refid="7552" relation="include">
        </childnode>
        <childnode refid="7553" relation="include">
        </childnode>
        <childnode refid="7554" relation="include">
        </childnode>
        <childnode refid="7546" relation="include">
        </childnode>
      </node>
      <node id="7554">
        <label>osapi-os-timer.h</label>
        <link refid="osapi-os-timer_8h"/>
      </node>
      <node id="7572">
        <label>string.h</label>
      </node>
      <node id="7570">
        <label>cfe_sb_priv.h</label>
        <link refid="cfe__sb__priv_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7539" relation="include">
        </childnode>
        <childnode refid="7564" relation="include">
        </childnode>
        <childnode refid="7571" relation="include">
        </childnode>
        <childnode refid="7562" relation="include">
        </childnode>
        <childnode refid="7559" relation="include">
        </childnode>
      </node>
      <node id="7555">
        <label>cfe_mission_cfg.h</label>
        <link refid="cfe__mission__cfg_8h"/>
      </node>
      <node id="7556">
        <label>cfe_platform_cfg.h</label>
      </node>
      <node id="7543">
        <label>osconfig.h</label>
      </node>
      <node id="7552">
        <label>osapi-os-net.h</label>
        <link refid="osapi-os-net_8h"/>
      </node>
      <node id="7564">
        <label>cfe_sb.h</label>
        <link refid="cfe__sb_8h"/>
        <childnode refid="7543" relation="include">
        </childnode>
        <childnode refid="7565" relation="include">
        </childnode>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7555" relation="include">
        </childnode>
        <childnode refid="7556" relation="include">
        </childnode>
        <childnode refid="7566" relation="include">
        </childnode>
        <childnode refid="7562" relation="include">
        </childnode>
      </node>
      <node id="7559">
        <label>cfe_es.h</label>
        <link refid="cfe__es_8h"/>
        <childnode refid="7555" relation="include">
        </childnode>
        <childnode refid="7560" relation="include">
        </childnode>
      </node>
      <node id="7540">
        <label>cfe.h</label>
        <link refid="cfe_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7541" relation="include">
        </childnode>
        <childnode refid="7555" relation="include">
        </childnode>
        <childnode refid="7556" relation="include">
        </childnode>
        <childnode refid="7557" relation="include">
        </childnode>
        <childnode refid="7558" relation="include">
        </childnode>
        <childnode refid="7559" relation="include">
        </childnode>
        <childnode refid="7561" relation="include">
        </childnode>
        <childnode refid="7567" relation="include">
        </childnode>
        <childnode refid="7564" relation="include">
        </childnode>
        <childnode refid="7562" relation="include">
        </childnode>
        <childnode refid="7568" relation="include">
        </childnode>
        <childnode refid="7565" relation="include">
        </childnode>
      </node>
      <node id="7561">
        <label>cfe_evs.h</label>
        <link refid="cfe__evs_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7562" relation="include">
        </childnode>
        <childnode refid="7563" relation="include">
        </childnode>
        <childnode refid="7541" relation="include">
        </childnode>
        <childnode refid="7564" relation="include">
        </childnode>
      </node>
      <node id="7553">
        <label>osapi-os-loader.h</label>
        <link refid="osapi-os-loader_8h"/>
      </node>
      <node id="7567">
        <label>cfe_fs.h</label>
        <link refid="cfe__fs_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7562" relation="include">
        </childnode>
      </node>
      <node id="7539">
        <label>private/cfe_private.h</label>
        <link refid="cfe__private_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7540" relation="include">
        </childnode>
        <childnode refid="7556" relation="include">
        </childnode>
      </node>
      <node id="7568">
        <label>cfe_tbl.h</label>
        <link refid="cfe__tbl_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7562" relation="include">
        </childnode>
        <childnode refid="7543" relation="include">
        </childnode>
      </node>
      <node id="7558">
        <label>cfe_error.h</label>
        <link refid="cfe__error_8h"/>
        <childnode refid="7541" relation="include">
        </childnode>
      </node>
      <node id="7548">
        <label>stdio.h</label>
      </node>
      <node id="7571">
        <label>cfe_sb_msg.h</label>
        <link refid="cfe__sb__msg_8h"/>
        <childnode refid="7538" relation="include">
        </childnode>
        <childnode refid="7564" relation="include">
        </childnode>
        <childnode refid="7543" relation="include">
        </childnode>
        <childnode refid="7559" relation="include">
        </childnode>
      </node>
      <node id="7544">
        <label>osapi-os-core.h</label>
        <link refid="osapi-os-core_8h"/>
        <childnode refid="7545" relation="include">
        </childnode>
        <childnode refid="7546" relation="include">
        </childnode>
      </node>
      <node id="7550">
        <label>dirent.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" prot="public" static="no">
        <name>CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</name>
        <initializer>(sizeof(CFE_SB.StatTlmMsg.Payload.PipeDepthStats) / sizeof(CFE_SB.StatTlmMsg.Payload.PipeDepthStats[0]))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="142" column="9" bodyfile="sb/cfe_sb_api.c" bodystart="142" bodyend="-1"/>
        <referencedby refid="cfe__sb__api_8c_1ac169b781c59074e6cbab49325726c4e2" compoundref="cfe__sb__api_8c" startline="170" endline="274">CFE_SB_CreatePipe</referencedby>
        <referencedby refid="cfe__sb__priv_8h_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" compoundref="cfe__sb__api_8c" startline="345" endline="455">CFE_SB_DeletePipeFull</referencedby>
        <referencedby refid="cfe__sb__api_8c_1a54840fe06aeb08b1e2c8df420474780d" compoundref="cfe__sb__api_8c" startline="1449" endline="1566">CFE_SB_RcvMsg</referencedby>
        <referencedby refid="cfe__sb__priv_8h_1a265af9ed654b1d0fcfaedead0c1b5257" compoundref="cfe__sb__api_8c" startline="1122" endline="1421">CFE_SB_SendMsgFull</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="cfe__sb__api_8c_1ac169b781c59074e6cbab49325726c4e2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_CreatePipe</definition>
        <argsstring>(CFE_SB_PipeId_t *PipeIdPtr, uint16 Depth, const char *PipeName)</argsstring>
        <name>CFE_SB_CreatePipe</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref> *</type>
          <declname>PipeIdPtr</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref></type>
          <declname>Depth</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>PipeName</declname>
        </param>
        <briefdescription>
<para>Creates a new software bus pipe. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine creates and initializes an input pipe that the calling application can use to receive software bus messages. By default, no messages are routed to the new pipe. So, the application must use <ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe()</ref> to specify which messages it wants to receive on this pipe.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">PipeIdPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to a variable of type <ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref>, which will be filled in with the pipe ID information by the <ref refid="cfe__sb_8h_1ac169b781c59074e6cbab49325726c4e2" kindref="member">CFE_SB_CreatePipe</ref> routine.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">Depth</parametername>
</parameternamelist>
<parameterdescription>
<para>The maximum number of messages that will be allowed on this pipe at one time.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeName</parametername>
</parameternamelist>
<parameterdescription>
<para>A string to be used to identify this pipe in error messages and routing information telemetry. The string must be no longer than <ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>. Longer strings will be truncated.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">*PipeIdPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>The identifier for the created pipe.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="4" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1af72c6ae680c03227ba2263580157745a" kindref="member">CFE_SB_MAX_PIPES_MET</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1ac169b781c59074e6cbab49325726c4e2" kindref="member">CFE_SB_CreatePipe</ref> when the SB cannot accomodate the request to create a pipe because the maximum number of pipes (#CFE_SB_MAX_PIPES) are in use. This configuration parameter is defined in the cfe_platform_cfg.h file.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a862a08f1f8c99a989efe62b36947f087" kindref="member">CFE_SB_PIPE_CR_ERR</ref> </para></entry><entry thead="no"><para>The maximum number of queues(#OS_MAX_QUEUES) are in use. Or possibly a lower level problem with creating the underlying queue has occurred such as a lack of memory. If the latter is the problem, the status code displayed in the event must be tracked.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a268a5a36f7628873472456e02565bfcf" kindref="member">CFE_SB_DeletePipe</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="170" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="170" bodyend="274"/>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" compoundref="cfe__sb__priv_8h" startline="256">CFE_SB_PipeD_t::AppId</references>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a865478ad5b0a0ceecce6404a987054a4" compoundref="cfe__sb__priv_8h" startline="254">CFE_SB_PipeD_t::AppName</references>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__es_8h_1afd92c81b56467c04b95aa0440e8e3751" compoundref="cfe__es__api_8c" startline="819" endline="847">CFE_ES_GetAppName</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" compoundref="cfe__evs_8h" startline="124">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" compoundref="cfe__error_8h" startline="804">CFE_SB_BAD_ARGUMENT</references>
        <references refid="cfe__sb__events_8h_1a6f9b10791474db7aadf819dba68cb0a5" compoundref="cfe__sb__events_8h" startline="98">CFE_SB_CR_PIPE_BAD_ARG_EID</references>
        <references refid="cfe__sb__events_8h_1af1c1fa676f909e3ab163dba611befc70" compoundref="cfe__sb__events_8h" startline="125">CFE_SB_CR_PIPE_ERR_EID</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__priv_8c_1a2f3b499727c38eb005301ab73b04a120" compoundref="cfe__sb__priv_8c" startline="143" endline="158">CFE_SB_GetAvailPipeIdx</references>
        <references refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" compoundref="cfe__sb__priv_8c" startline="453" endline="463">CFE_SB_GetPipeName</references>
        <references refid="cfe__sb__priv_8h_1a37a22bd6a07bb55768d2f1af2720fc10" compoundref="cfe__sb__priv_8h" startline="128">CFE_SB_IN_USE</references>
        <references refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" compoundref="cfe__sb__priv_8h" startline="107">CFE_SB_INVALID_PIPE</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__error_8h_1af72c6ae680c03227ba2263580157745a" compoundref="cfe__error_8h" startline="814">CFE_SB_MAX_PIPES_MET</references>
        <references refid="cfe__sb__events_8h_1a24c608a56ec85263903d93065d5d792a" compoundref="cfe__sb__events_8h" startline="110">CFE_SB_MAX_PIPES_MET_EID</references>
        <references refid="cfe__sb__events_8h_1aa5ff1282f153a91a50a434614c1c1c1c" compoundref="cfe__sb__events_8h" startline="137">CFE_SB_PIPE_ADDED_EID</references>
        <references refid="cfe__error_8h_1a862a08f1f8c99a989efe62b36947f087" compoundref="cfe__error_8h" startline="824">CFE_SB_PIPE_CR_ERR</references>
        <references refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" compoundref="cfe__sb__api_8c" startline="142">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abc6e0a9bc6d295dacb45013c31cafa31" compoundref="cfe__sb__msg_8h" startline="575">CFE_SB_HKMsg_Payload_t::CreatePipeErrCnt</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" compoundref="cfe__sb__priv_8h" startline="261">CFE_SB_PipeD_t::CurrentBuff</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ad4738ab32eba5047d28c85d9a620eabe" compoundref="cfe__sb__msg_8h" startline="619">CFE_SB_PipeDepthStats_t::Depth</references>
        <references refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" compoundref="cfe__sb__priv_8h" startline="295">cfe_sb_t::HKTlmMsg</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1aee4ecc553a79e3a94f94dfa13535d023" compoundref="cfe__sb__priv_8h" startline="251">CFE_SB_PipeD_t::InUse</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" compoundref="cfe__sb__msg_8h" startline="621">CFE_SB_PipeDepthStats_t::InUse</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi-os-core_8h_1ae3e72f5403b7e3cac2c20ac65a5bb511" compoundref="osapi_8c" startline="1268" endline="1354">OS_QueueCreate</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" compoundref="osapi_8h" startline="87">OS_SUCCESS</references>
        <references refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" compoundref="osapi_8c" startline="1088" endline="1101">OS_TaskGetId</references>
        <references refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" compoundref="cfe__sb__msg_8h" startline="604">CFE_SB_HKMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a8e48327cf6bf91c42a3e4bfe5554adad" compoundref="cfe__sb__msg_8h" startline="623">CFE_SB_PipeDepthStats_t::PeakInUse</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a3177b29cd982b7e06c48b453bc863a7c" compoundref="cfe__sb__msg_8h" startline="644">CFE_SB_StatMsg_Payload_t::PeakPipesInUse</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" compoundref="cfe__sb__msg_8h" startline="671">CFE_SB_StatMsg_Payload_t::PipeDepthStats</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" compoundref="cfe__sb__priv_8h" startline="252">CFE_SB_PipeD_t::PipeId</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a81a22b174bd406c0575b9ead514b22d8" compoundref="cfe__sb__msg_8h" startline="615">CFE_SB_PipeDepthStats_t::PipeId</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1adcdc596b1ea37288fe84d696c7f7e132" compoundref="cfe__sb__priv_8h" startline="253">CFE_SB_PipeD_t::PipeName</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae9e840c679b1b8912c79abca5dc37a9e" compoundref="cfe__sb__msg_8h" startline="642">CFE_SB_StatMsg_Payload_t::PipesInUse</references>
        <references refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" compoundref="cfe__sb__priv_8h" startline="294">cfe_sb_t::PipeTbl</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a22f6d869fdc09cc321284ab4e3692cb7" compoundref="cfe__sb__priv_8h" startline="259">CFE_SB_PipeD_t::QueueDepth</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a76bf018c159c92eae7269d99c8029830" compoundref="cfe__sb__priv_8h" startline="260">CFE_SB_PipeD_t::SendErrors</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" compoundref="cfe__sb__priv_8h" startline="257">CFE_SB_PipeD_t::SysQueueId</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" compoundref="cfe__sb__priv_8h" startline="262">CFE_SB_PipeD_t::ToTrashBuff</references>
        <referencedby refid="cfe__es__task_8h_1a2f345bd26af3f0098904879305791264" compoundref="cfe__es__task_8c" startline="298" endline="479">CFE_ES_TaskInit</referencedby>
        <referencedby refid="cfe__evs__task_8h_1ae9540d92a3221348f68f7e2947ae2bc8" compoundref="cfe__evs__task_8c" startline="364" endline="426">CFE_EVS_TaskInit</referencedby>
        <referencedby refid="cfe__sb__task_8c_1a4802e15e16324c6129743be7aa076917" compoundref="cfe__sb__task_8c" startline="192" endline="352">CFE_SB_AppInit</referencedby>
        <referencedby refid="cfe__tbl__task_8h_1a7bc9d7bcdac0f966cc9c6b2dc155992f" compoundref="cfe__tbl__task_8c" startline="151" endline="230">CFE_TBL_TaskInit</referencedby>
        <referencedby refid="cfe__time__utils_8h_1ac75193e9814f7dd8dfd42f15106e08f0" compoundref="cfe__time__task_8c" startline="236" endline="464">CFE_TIME_TaskInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a268a5a36f7628873472456e02565bfcf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_DeletePipe</definition>
        <argsstring>(CFE_SB_PipeId_t PipeId)</argsstring>
        <name>CFE_SB_DeletePipe</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <briefdescription>
<para>Delete a software bus pipe. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine deletes an input pipe and cleans up all data structures associated with the pipe. All subscriptions made for this pipe by calls to <ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref> will be automatically removed from the SB routing tables. Any messages in the pipe will be discarded. Applications must call this routine for all of their SB pipes as part of their orderly shutdown process.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID (obtained previously from <ref refid="cfe__sb_8h_1ac169b781c59074e6cbab49325726c4e2" kindref="member">CFE_SB_CreatePipe</ref>) of the pipe to be deleted.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="2" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1ac169b781c59074e6cbab49325726c4e2" kindref="member">CFE_SB_CreatePipe</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="290" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="290" bodyend="302"/>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__sb__api_8c_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" compoundref="cfe__sb__api_8c" startline="345" endline="455">CFE_SB_DeletePipeFull</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a400c44b1cebfd28c4f4c1c30f27c42eb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_DeletePipeWithAppId</definition>
        <argsstring>(CFE_SB_PipeId_t PipeId, uint32 AppId)</argsstring>
        <name>CFE_SB_DeletePipeWithAppId</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>AppId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="318" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="318" bodyend="326"/>
        <references refid="cfe__sb__api_8c_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" compoundref="cfe__sb__api_8c" startline="345" endline="455">CFE_SB_DeletePipeFull</references>
        <referencedby refid="cfe__sb__priv_8c_1a3c4c1a5416dfb9987a3cb7924f07d852" compoundref="cfe__sb__priv_8c" startline="108" endline="126">CFE_SB_CleanUpApp</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_DeletePipeFull</definition>
        <argsstring>(CFE_SB_PipeId_t PipeId, uint32 AppId)</argsstring>
        <name>CFE_SB_DeletePipeFull</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>AppId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="345" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="345" bodyend="455"/>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" compoundref="cfe__sb__priv_8h" startline="256">CFE_SB_PipeD_t::AppId</references>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" compoundref="cfe__evs_8h" startline="124">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" compoundref="cfe__error_8h" startline="804">CFE_SB_BAD_ARGUMENT</references>
        <references refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" compoundref="cfe__sb__buf_8c" startline="226" endline="241">CFE_SB_DecrBufUseCnt</references>
        <references refid="cfe__sb__events_8h_1aa7549492614e1ce10686f7bfed91b114" compoundref="cfe__sb__events_8h" startline="690">CFE_SB_DEL_PIPE_ERR1_EID</references>
        <references refid="cfe__sb__events_8h_1a63c4767ce6117a70e2a7d2b7105ea646" compoundref="cfe__sb__events_8h" startline="794">CFE_SB_DEL_PIPE_ERR2_EID</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__priv_8c_1a64905d40b4b4d6ef20a69943afb624b4" compoundref="cfe__sb__priv_8c" startline="208" endline="223">CFE_SB_GetPipeIdx</references>
        <references refid="cfe__sb__priv_8h_1ad5e2892f393253303e66416bbc91869d" compoundref="cfe__sb__priv_8h" startline="105">CFE_SB_INVALID_MSG_ID</references>
        <references refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" compoundref="cfe__sb__priv_8h" startline="107">CFE_SB_INVALID_PIPE</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__sb__priv_8h_1a61b7a420c4b730f4c253cf28e94f77c5" compoundref="cfe__sb__priv_8h" startline="127">CFE_SB_NOT_IN_USE</references>
        <references refid="cfe__sb__events_8h_1a72cc6ac67fa3c20a454a490c425f8245" compoundref="cfe__sb__events_8h" startline="702">CFE_SB_PIPE_DELETED_EID</references>
        <references refid="cfe__sb_8h_1a0c0ca8cca37a759bd5e68e81e73ce67a" compoundref="cfe__sb_8h" startline="87">CFE_SB_POLL</references>
        <references refid="cfe__sb__api_8c_1a54840fe06aeb08b1e2c8df420474780d" compoundref="cfe__sb__api_8c" startline="1449" endline="1566">CFE_SB_RcvMsg</references>
        <references refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" compoundref="cfe__sb__api_8c" startline="142">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__sb__api_8c_1a462455f0287804d4b979b953cbd4ae2b" compoundref="cfe__sb__api_8c" startline="862" endline="872">CFE_SB_UnsubscribeWithAppId</references>
        <references refid="cfe__sb__priv_8h_1ade485b7e25e839a3282b96e45bf23464" compoundref="cfe__sb__priv_8h" startline="106">CFE_SB_UNUSED_QUEUE</references>
        <references refid="cfe__sb__priv_8c_1a0ba59d04948ba613ce0550c032f5cf98" compoundref="cfe__sb__priv_8c" startline="572" endline="582">CFE_SB_ValidatePipeId</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abc6e0a9bc6d295dacb45013c31cafa31" compoundref="cfe__sb__msg_8h" startline="575">CFE_SB_HKMsg_Payload_t::CreatePipeErrCnt</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" compoundref="cfe__sb__priv_8h" startline="261">CFE_SB_PipeD_t::CurrentBuff</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ad4738ab32eba5047d28c85d9a620eabe" compoundref="cfe__sb__msg_8h" startline="619">CFE_SB_PipeDepthStats_t::Depth</references>
        <references refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" compoundref="cfe__sb__priv_8h" startline="295">cfe_sb_t::HKTlmMsg</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1aee4ecc553a79e3a94f94dfa13535d023" compoundref="cfe__sb__priv_8h" startline="251">CFE_SB_PipeD_t::InUse</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" compoundref="cfe__sb__msg_8h" startline="621">CFE_SB_PipeDepthStats_t::InUse</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1aa0f6d453782a0c589b55c22e82c7784e" compoundref="cfe__sb__priv_8h" startline="238">CFE_SB_RouteEntry_t::ListHeadPtr</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" compoundref="cfe__sb__priv_8h" startline="235">CFE_SB_RouteEntry_t::MsgId</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi-os-core_8h_1a15f67f089080b67931eb4d91564b367e" compoundref="stubs_8c" startline="112" endline="115">OS_QueueDelete</references>
        <references refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" compoundref="osapi_8c" startline="1088" endline="1101">OS_TaskGetId</references>
        <references refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" compoundref="cfe__sb__msg_8h" startline="604">CFE_SB_HKMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a8e48327cf6bf91c42a3e4bfe5554adad" compoundref="cfe__sb__msg_8h" startline="623">CFE_SB_PipeDepthStats_t::PeakInUse</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" compoundref="cfe__sb__msg_8h" startline="671">CFE_SB_StatMsg_Payload_t::PipeDepthStats</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" compoundref="cfe__sb__priv_8h" startline="252">CFE_SB_PipeD_t::PipeId</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a81a22b174bd406c0575b9ead514b22d8" compoundref="cfe__sb__msg_8h" startline="615">CFE_SB_PipeDepthStats_t::PipeId</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1adcdc596b1ea37288fe84d696c7f7e132" compoundref="cfe__sb__priv_8h" startline="253">CFE_SB_PipeD_t::PipeName</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae9e840c679b1b8912c79abca5dc37a9e" compoundref="cfe__sb__msg_8h" startline="642">CFE_SB_StatMsg_Payload_t::PipesInUse</references>
        <references refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" compoundref="cfe__sb__priv_8h" startline="294">cfe_sb_t::PipeTbl</references>
        <references refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" compoundref="cfe__sb__priv_8h" startline="301">cfe_sb_t::RoutingTbl</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" compoundref="cfe__sb__priv_8h" startline="257">CFE_SB_PipeD_t::SysQueueId</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" compoundref="cfe__sb__priv_8h" startline="262">CFE_SB_PipeD_t::ToTrashBuff</references>
        <referencedby refid="cfe__sb__api_8c_1a268a5a36f7628873472456e02565bfcf" compoundref="cfe__sb__api_8c" startline="290" endline="302">CFE_SB_DeletePipe</referencedby>
        <referencedby refid="cfe__sb__priv_8h_1a400c44b1cebfd28c4f4c1c30f27c42eb" compoundref="cfe__sb__api_8c" startline="318" endline="326">CFE_SB_DeletePipeWithAppId</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a5939c3681044a3d953d0fe72dd577889" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_SubscribeEx</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId, CFE_SB_Qos_t Quality, uint16 MsgLim)</argsstring>
        <name>CFE_SB_SubscribeEx</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="struct_c_f_e___s_b___qos__t" kindref="compound">CFE_SB_Qos_t</ref></type>
          <declname>Quality</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref></type>
          <declname>MsgLim</declname>
        </param>
        <briefdescription>
<para>Subscribe to a message on the software bus. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine adds the specified pipe to the destination list associated with the specified message ID.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>Note: As subscriptions are received, the destinations are added to the head of a linked list. During the sending of a message, the list is traversed beginning at the head of the list. Therefore the message will first be sent to the last subscriber. If an application has timing constraints and needs to receive a message in the shortest possible time, the developer may consider holding off its subscription until other applications have subscribed to the message.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgId</parametername>
</parameternamelist>
<parameterdescription>
<para>The message ID of the message to be subscribed to.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID of the pipe the subscribed message should be sent to.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">Quality</parametername>
</parameternamelist>
<parameterdescription>
<para>The requested Quality of Service (QoS) required of the messages. Most callers will use <ref refid="cfe__sb_8h_1aa20e8d7fe06a65514dd39e65a7be5ca5" kindref="member">CFE_SB_Default_Qos</ref> for this parameter.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">MsgLim</parametername>
</parameternamelist>
<parameterdescription>
<para>The maximum number of messages with this Message ID to allow in this pipe at the same time.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="5" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a4805de4690c87ca5299eb8a0be1226a1" kindref="member">CFE_SB_MAX_MSGS_MET</ref> </para></entry><entry thead="no"><para>Will be returned when calling one of the SB subscription API&apos;s if the SB routing table cannot accomodate another unique message ID because the platform configuration parameter #CFE_SB_MAX_MSG_IDS has been met.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1aa11b3471244f9f583d03d27156d206e1" kindref="member">CFE_SB_MAX_DESTS_MET</ref> </para></entry><entry thead="no"><para>Will be returned when calling one of the SB subscription API&apos;s if the SB routing table cannot accomodate another destination for a particular the given message ID. This occurs when the number of destinations in use meets the platform configuration parameter #CFE_SB_MAX_DEST_PER_PKT.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> when the memory in the SB message buffer pool has been depleted. The amount of memory in the pool is dictated by the configuration parameter #CFE_SB_BUF_MEMORY_BYTES specified in the cfe_platform_cfg.h file. Also the memory statistics, including current utilization figures and high water marks for the SB Buffer memory pool can be monitored by sending a Software Bus command to send the SB statistics packet.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref>, <ref refid="cfe__sb_8h_1a72139ef72948ee8dddc4fe17eb174c22" kindref="member">CFE_SB_SubscribeLocal</ref>, <ref refid="cfe__sb_8h_1a70ea901e65f03221e3787d73733db060" kindref="member">CFE_SB_Unsubscribe</ref>, <ref refid="cfe__sb_8h_1a2d9017dba160c86fd79fd386201753be" kindref="member">CFE_SB_UnsubscribeLocal</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="489" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="489" bodyend="496"/>
        <references refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" compoundref="cfe__sb__priv_8h" startline="118">CFE_SB_GLOBAL</references>
        <references refid="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" compoundref="cfe__sb__api_8c" startline="606" endline="768">CFE_SB_SubscribeFull</references>
        <referencedby refid="cfe__es__task_8h_1a2f345bd26af3f0098904879305791264" compoundref="cfe__es__task_8c" startline="298" endline="479">CFE_ES_TaskInit</referencedby>
        <referencedby refid="cfe__evs__task_8h_1ae9540d92a3221348f68f7e2947ae2bc8" compoundref="cfe__evs__task_8c" startline="364" endline="426">CFE_EVS_TaskInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a72139ef72948ee8dddc4fe17eb174c22" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_SubscribeLocal</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId, uint16 MsgLim)</argsstring>
        <name>CFE_SB_SubscribeLocal</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref></type>
          <declname>MsgLim</declname>
        </param>
        <briefdescription>
<para>Subscribe to a message while keeping the request local to a cpu. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine adds the specified pipe to the destination list for the specified message ID. This is similar to <ref refid="cfe__sb_8h_1a5939c3681044a3d953d0fe72dd577889" kindref="member">CFE_SB_SubscribeEx</ref> with the Quality field set to <ref refid="cfe__sb_8h_1aa20e8d7fe06a65514dd39e65a7be5ca5" kindref="member">CFE_SB_Default_Qos</ref> and MsgLim set to #CFE_SB_DEFAULT_MSG_LIMIT, but will not report the subscription. Subscription Reporting is enabled for interprocessor communication by way of the Software Bus Network (SBN) Application.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><itemizedlist>
<listitem><para>This API is typically only used by Software Bus Network (SBN) Application</para></listitem></itemizedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgId</parametername>
</parameternamelist>
<parameterdescription>
<para>The message ID of the message to be subscribed to.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID of the pipe the subscribed message should be sent to.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">MsgLim</parametername>
</parameternamelist>
<parameterdescription>
<para>The maximum number of messages with this Message ID to allow in this pipe at the same time.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="5" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a4805de4690c87ca5299eb8a0be1226a1" kindref="member">CFE_SB_MAX_MSGS_MET</ref> </para></entry><entry thead="no"><para>Will be returned when calling one of the SB subscription API&apos;s if the SB routing table cannot accomodate another unique message ID because the platform configuration parameter #CFE_SB_MAX_MSG_IDS has been met.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1aa11b3471244f9f583d03d27156d206e1" kindref="member">CFE_SB_MAX_DESTS_MET</ref> </para></entry><entry thead="no"><para>Will be returned when calling one of the SB subscription API&apos;s if the SB routing table cannot accomodate another destination for a particular the given message ID. This occurs when the number of destinations in use meets the platform configuration parameter #CFE_SB_MAX_DEST_PER_PKT.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> when the memory in the SB message buffer pool has been depleted. The amount of memory in the pool is dictated by the configuration parameter #CFE_SB_BUF_MEMORY_BYTES specified in the cfe_platform_cfg.h file. Also the memory statistics, including current utilization figures and high water marks for the SB Buffer memory pool can be monitored by sending a Software Bus command to send the SB statistics packet.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref>, <ref refid="cfe__sb_8h_1a5939c3681044a3d953d0fe72dd577889" kindref="member">CFE_SB_SubscribeEx</ref>, <ref refid="cfe__sb_8h_1a70ea901e65f03221e3787d73733db060" kindref="member">CFE_SB_Unsubscribe</ref>, <ref refid="cfe__sb_8h_1a2d9017dba160c86fd79fd386201753be" kindref="member">CFE_SB_UnsubscribeLocal</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="529" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="529" bodyend="536"/>
        <references refid="cfe__sb_8h_1aa20e8d7fe06a65514dd39e65a7be5ca5" compoundref="cfe__sb__task_8c" startline="106">CFE_SB_Default_Qos</references>
        <references refid="cfe__sb__priv_8h_1ad117920a479061f45f4587b4a867976d" compoundref="cfe__sb__priv_8h" startline="119">CFE_SB_LOCAL</references>
        <references refid="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" compoundref="cfe__sb__api_8c" startline="606" endline="768">CFE_SB_SubscribeFull</references>
        <referencedby refid="cfe__time__utils_8h_1ac75193e9814f7dd8dfd42f15106e08f0" compoundref="cfe__time__task_8c" startline="236" endline="464">CFE_TIME_TaskInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1afc2c2db1a504f544b430f33f28be769b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_Subscribe</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId)</argsstring>
        <name>CFE_SB_Subscribe</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <briefdescription>
<para>Subscribe to a message on the software bus with default parameters. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine adds the specified pipe to the destination list for the specified message ID. This is the same as <ref refid="cfe__sb_8h_1a5939c3681044a3d953d0fe72dd577889" kindref="member">CFE_SB_SubscribeEx</ref> with the Quality field set to <ref refid="cfe__sb_8h_1aa20e8d7fe06a65514dd39e65a7be5ca5" kindref="member">CFE_SB_Default_Qos</ref> and MsgLim set to #CFE_SB_DEFAULT_MSG_LIMIT (4).</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>Note: As subscriptions are received, the destinations are added to the head of a linked list. During the sending of a message, the list is traversed beginning at the head of the list. Therefore the message will first be sent to the last subscriber. If an application has timing constraints and needs to receive a message in the shortest possible time, the developer may consider holding off its subscription until other applications have subscribed to the message.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgId</parametername>
</parameternamelist>
<parameterdescription>
<para>The message ID of the message to be subscribed to.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID of the pipe the subscribed message should be sent to.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="5" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a4805de4690c87ca5299eb8a0be1226a1" kindref="member">CFE_SB_MAX_MSGS_MET</ref> </para></entry><entry thead="no"><para>Will be returned when calling one of the SB subscription API&apos;s if the SB routing table cannot accomodate another unique message ID because the platform configuration parameter #CFE_SB_MAX_MSG_IDS has been met.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1aa11b3471244f9f583d03d27156d206e1" kindref="member">CFE_SB_MAX_DESTS_MET</ref> </para></entry><entry thead="no"><para>Will be returned when calling one of the SB subscription API&apos;s if the SB routing table cannot accomodate another destination for a particular the given message ID. This occurs when the number of destinations in use meets the platform configuration parameter #CFE_SB_MAX_DEST_PER_PKT.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> when the memory in the SB message buffer pool has been depleted. The amount of memory in the pool is dictated by the configuration parameter #CFE_SB_BUF_MEMORY_BYTES specified in the cfe_platform_cfg.h file. Also the memory statistics, including current utilization figures and high water marks for the SB Buffer memory pool can be monitored by sending a Software Bus command to send the SB statistics packet.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a5939c3681044a3d953d0fe72dd577889" kindref="member">CFE_SB_SubscribeEx</ref>, <ref refid="cfe__sb_8h_1a72139ef72948ee8dddc4fe17eb174c22" kindref="member">CFE_SB_SubscribeLocal</ref>, <ref refid="cfe__sb_8h_1a70ea901e65f03221e3787d73733db060" kindref="member">CFE_SB_Unsubscribe</ref>, <ref refid="cfe__sb_8h_1a2d9017dba160c86fd79fd386201753be" kindref="member">CFE_SB_UnsubscribeLocal</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="567" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="567" bodyend="574"/>
        <references refid="cfe__sb_8h_1aa20e8d7fe06a65514dd39e65a7be5ca5" compoundref="cfe__sb__task_8c" startline="106">CFE_SB_Default_Qos</references>
        <references refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" compoundref="cfe__sb__priv_8h" startline="118">CFE_SB_GLOBAL</references>
        <references refid="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" compoundref="cfe__sb__api_8c" startline="606" endline="768">CFE_SB_SubscribeFull</references>
        <referencedby refid="cfe__sb__task_8c_1a4802e15e16324c6129743be7aa076917" compoundref="cfe__sb__task_8c" startline="192" endline="352">CFE_SB_AppInit</referencedby>
        <referencedby refid="cfe__tbl__task_8h_1a7bc9d7bcdac0f966cc9c6b2dc155992f" compoundref="cfe__tbl__task_8c" startline="151" endline="230">CFE_TBL_TaskInit</referencedby>
        <referencedby refid="cfe__time__utils_8h_1ac75193e9814f7dd8dfd42f15106e08f0" compoundref="cfe__time__task_8c" startline="236" endline="464">CFE_TIME_TaskInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_SubscribeFull</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId, CFE_SB_Qos_t Quality, uint16 MsgLim, uint8 Scope)</argsstring>
        <name>CFE_SB_SubscribeFull</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="struct_c_f_e___s_b___qos__t" kindref="compound">CFE_SB_Qos_t</ref></type>
          <declname>Quality</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref></type>
          <declname>MsgLim</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref></type>
          <declname>Scope</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="606" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="606" bodyend="768"/>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" compoundref="cfe__sb__priv_8h" startline="256">CFE_SB_PipeD_t::AppId</references>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" compoundref="cfe__evs_8h" startline="124">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" compoundref="cfe__evs_8h" startline="125">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__sb__priv_8h_1add635f6e2805091369b9cb4fc5752b4d" compoundref="cfe__sb__priv_8h" startline="116">CFE_SB_ACTIVE</references>
        <references refid="cfe__sb__priv_8c_1a0b3015e0fb06715ca67e53e28cf133a2" compoundref="cfe__sb__priv_8c" startline="730" endline="760">CFE_SB_AddDest</references>
        <references refid="cfe__sb__priv_8h_1ade8cd3834120ca7ab077203207e5194c" compoundref="cfe__sb__priv_8h" startline="103">CFE_SB_AVAILABLE</references>
        <references refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" compoundref="cfe__error_8h" startline="804">CFE_SB_BAD_ARGUMENT</references>
        <references refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" compoundref="cfe__error_8h" startline="858">CFE_SB_BUF_ALOC_ERR</references>
        <references refid="cfe__sb__events_8h_1a1fc67b8b066213fbae9f916900534d23" compoundref="cfe__sb__events_8h" startline="358">CFE_SB_DEST_BLK_ERR_EID</references>
        <references refid="cfe__sb__events_8h_1a04a43c8a570afab1d1a02c1456c0b0f2" compoundref="cfe__sb__events_8h" startline="170">CFE_SB_DUP_SUBSCRIP_EID</references>
        <references refid="cfe__sb__priv_8h_1abdaf28b59a92bc6dbbaac80ce0cbb00d" compoundref="cfe__sb__priv_8h" startline="113">CFE_SB_DUPLICATE</references>
        <references refid="cfe__sb__priv_8c_1a8c702e5140d529acf6278fff8d8b1362" compoundref="cfe__sb__priv_8c" startline="481" endline="507">CFE_SB_DuplicateSubscribeCheck</references>
        <references refid="cfe__sb__priv_8h_1a4094c63c03474476111fe10c11ab122b" compoundref="cfe__sb__priv_8h" startline="131">CFE_SB_ENABLE</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__priv_8c_1ab9f590bcd33c7615a7a7f14167ed04c4" compoundref="cfe__sb__priv_8c" startline="176" endline="192">CFE_SB_GetAvailRoutingIdx</references>
        <references refid="cfe__sb__buf_8c_1a03935efec131d0b26d05c1410d4e4d45" compoundref="cfe__sb__buf_8c" startline="257" endline="277">CFE_SB_GetDestinationBlk</references>
        <references refid="cfe__sb__priv_8c_1a64905d40b4b4d6ef20a69943afb624b4" compoundref="cfe__sb__priv_8c" startline="208" endline="223">CFE_SB_GetPipeIdx</references>
        <references refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" compoundref="cfe__sb__priv_8c" startline="453" endline="463">CFE_SB_GetPipeName</references>
        <references refid="cfe__sb__priv_8c_1a9ef1179eae9f13d7648876b838c03b26" compoundref="cfe__sb__priv_8c" startline="387" endline="400">CFE_SB_GetRoutingTblIdx</references>
        <references refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" compoundref="cfe__sb__priv_8h" startline="118">CFE_SB_GLOBAL</references>
        <references refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" compoundref="cfe__sb__priv_8h" startline="107">CFE_SB_INVALID_PIPE</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__error_8h_1aa11b3471244f9f583d03d27156d206e1" compoundref="cfe__error_8h" startline="878">CFE_SB_MAX_DESTS_MET</references>
        <references refid="cfe__sb__events_8h_1a6eec4a76378d6503e5e4c9bfc9484930" compoundref="cfe__sb__events_8h" startline="201">CFE_SB_MAX_DESTS_MET_EID</references>
        <references refid="cfe__error_8h_1a4805de4690c87ca5299eb8a0be1226a1" compoundref="cfe__error_8h" startline="867">CFE_SB_MAX_MSGS_MET</references>
        <references refid="cfe__sb__events_8h_1aea35c5f696a9ece8364b00ba4c3d4896" compoundref="cfe__sb__events_8h" startline="187">CFE_SB_MAX_MSGS_MET_EID</references>
        <references refid="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" compoundref="cfe__sb__api_8c" startline="1050" endline="1058">CFE_SB_SendMsg</references>
        <references refid="cfe__sb__priv_8c_1a924b490b166f6b82aef7d70fb1bd6677" compoundref="cfe__sb__priv_8c" startline="420" endline="434">CFE_SB_SetRoutingTblIdx</references>
        <references refid="cfe__sb__events_8h_1abd0005ffef2e4e68be9bd1aad47bccab" compoundref="cfe__sb__events_8h" startline="152">CFE_SB_SUB_ARG_ERR_EID</references>
        <references refid="cfe__sb__events_8h_1a6a79ab5795cfc7b6e3f00aa3a423eacb" compoundref="cfe__sb__events_8h" startline="754">CFE_SB_SUB_INV_CALLER_EID</references>
        <references refid="cfe__sb__events_8h_1afb22f9e3a04b74b2088990b6d054881f" compoundref="cfe__sb__events_8h" startline="741">CFE_SB_SUB_INV_PIPE_EID</references>
        <references refid="cfe__sb_8h_1a28842c3298db0d367a64cb79d56220c6" compoundref="cfe__sb_8h" startline="90">CFE_SB_SUBSCRIPTION</references>
        <references refid="cfe__sb__events_8h_1a7e2ddce30ca96403f818b9e4b40103df" compoundref="cfe__sb__events_8h" startline="213">CFE_SB_SUBSCRIPTION_RCVD_EID</references>
        <references refid="cfe__sb__events_8h_1a14faf18594bd890811fad4c50941dcc7" compoundref="cfe__sb__events_8h" startline="384">CFE_SB_SUBSCRIPTION_RPT_EID</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__sb__priv_8c_1affd094305f35ceb2452540d9adac015b" compoundref="cfe__sb__priv_8c" startline="545" endline="557">CFE_SB_ValidateMsgId</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1a281f94b6809f59b45c05b73765d8fe4e" compoundref="cfe__sb__priv_8h" startline="236">CFE_SB_RouteEntry_t::Destinations</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a8f67a325c75bdd236e8572ce26e0e4b1" compoundref="cfe__sb__msg_8h" startline="582">CFE_SB_HKMsg_Payload_t::DupSubscriptionsCnt</references>
        <references refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" compoundref="cfe__sb__priv_8h" startline="295">cfe_sb_t::HKTlmMsg</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" compoundref="cfe__sb__priv_8h" startline="235">CFE_SB_RouteEntry_t::MsgId</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a86f714ea447258b867fb4c63815be40d" compoundref="cfe__sb__msg_8h" startline="720">CFE_SB_SubRprtMsg_Payload_t::MsgId</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1acc648d6130ed253a42dfaf16c2033458" compoundref="cfe__sb__msg_8h" startline="635">CFE_SB_StatMsg_Payload_t::MsgIdsInUse</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" compoundref="osapi_8c" startline="1088" endline="1101">OS_TaskGetId</references>
        <references refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" compoundref="cfe__sb__msg_8h" startline="604">CFE_SB_HKMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" compoundref="cfe__sb__msg_8h" startline="728">CFE_SB_SubRprtMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a612355ed819acfc4f829686edc3c6404" compoundref="cfe__sb__msg_8h" startline="637">CFE_SB_StatMsg_Payload_t::PeakMsgIdsInUse</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1afff69951138831dad0892419f6e8db0b" compoundref="cfe__sb__msg_8h" startline="658">CFE_SB_StatMsg_Payload_t::PeakSubscriptionsInUse</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a71c4ac17cd0146e7c505ef850bd6c5d8" compoundref="cfe__sb__msg_8h" startline="722">CFE_SB_SubRprtMsg_Payload_t::Pipe</references>
        <references refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" compoundref="cfe__sb__priv_8h" startline="294">cfe_sb_t::PipeTbl</references>
        <references refid="struct_c_f_e___s_b___qos__t_1ad3d2be85fd6ae49344ed70aa0a57df0c" compoundref="cfe__sb_8h" startline="182">CFE_SB_Qos_t::Priority</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a2c2c940989e32534aa73b50b748b412e" compoundref="cfe__sb__msg_8h" startline="721">CFE_SB_SubRprtMsg_Payload_t::Qos</references>
        <references refid="struct_c_f_e___s_b___qos__t_1adff0dd4ccb04e862db28afe8b4722cfb" compoundref="cfe__sb_8h" startline="183">CFE_SB_Qos_t::Reliability</references>
        <references refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" compoundref="cfe__sb__priv_8h" startline="301">cfe_sb_t::RoutingTbl</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" compoundref="cfe__sb__priv_8h" startline="303">cfe_sb_t::SubRprtMsg</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a3a961502affbf30bd3e89539688a8491" compoundref="cfe__sb__msg_8h" startline="577">CFE_SB_HKMsg_Payload_t::SubscribeErrCnt</references>
        <references refid="structcfe__sb__t_1a28d2211968e0b9eac2abed73ba3edfd5" compoundref="cfe__sb__priv_8h" startline="289">cfe_sb_t::SubscriptionReporting</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae0469ecff4396cbe36a61e042b910187" compoundref="cfe__sb__msg_8h" startline="656">CFE_SB_StatMsg_Payload_t::SubscriptionsInUse</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1aa921fee5d18f656d14b67eb858514d48" compoundref="cfe__sb__msg_8h" startline="719">CFE_SB_SubRprtMsg_Payload_t::SubType</references>
        <referencedby refid="cfe__sb__api_8c_1afc2c2db1a504f544b430f33f28be769b" compoundref="cfe__sb__api_8c" startline="567" endline="574">CFE_SB_Subscribe</referencedby>
        <referencedby refid="cfe__sb__api_8c_1a5939c3681044a3d953d0fe72dd577889" compoundref="cfe__sb__api_8c" startline="489" endline="496">CFE_SB_SubscribeEx</referencedby>
        <referencedby refid="cfe__sb__api_8c_1a72139ef72948ee8dddc4fe17eb174c22" compoundref="cfe__sb__api_8c" startline="529" endline="536">CFE_SB_SubscribeLocal</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a70ea901e65f03221e3787d73733db060" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_Unsubscribe</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId)</argsstring>
        <name>CFE_SB_Unsubscribe</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <briefdescription>
<para>Remove a subscription to a message on the software bus. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine removes the specified pipe from the destination list for the specified message ID.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgId</parametername>
</parameternamelist>
<parameterdescription>
<para>The message ID of the message to be unsubscribed.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID of the pipe the subscribed message should no longer be sent to.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="3" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a0dfe9b4a304487595cefd475aa673530" kindref="member">CFE_SB_NO_SUBSCRIBERS</ref> </para></entry><entry thead="no"><para>This error code is returned by the <ref refid="cfe__sb_8h_1a70ea901e65f03221e3787d73733db060" kindref="member">CFE_SB_Unsubscribe</ref> API if there has not been an entry in the routing tables for the MsgId/PipeId given as parameters.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab15b9aa23fe6e2cd7239219ace5ec1e7" kindref="member">CFE_SB_INTERNAL_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned by the <ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref> API if the code detects an internal index is out of range. The most likely cause would be a Single Event Upset.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref>, <ref refid="cfe__sb_8h_1a5939c3681044a3d953d0fe72dd577889" kindref="member">CFE_SB_SubscribeEx</ref>, <ref refid="cfe__sb_8h_1a72139ef72948ee8dddc4fe17eb174c22" kindref="member">CFE_SB_SubscribeLocal</ref>, <ref refid="cfe__sb_8h_1a2d9017dba160c86fd79fd386201753be" kindref="member">CFE_SB_UnsubscribeLocal</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="790" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="790" bodyend="802"/>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" compoundref="cfe__sb__priv_8h" startline="118">CFE_SB_GLOBAL</references>
        <references refid="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" compoundref="cfe__sb__api_8c" startline="903" endline="1023">CFE_SB_UnsubscribeFull</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a2d9017dba160c86fd79fd386201753be" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_UnsubscribeLocal</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId)</argsstring>
        <name>CFE_SB_UnsubscribeLocal</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <briefdescription>
<para>Remove a subscription to a message on the software bus on the current CPU. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine removes the specified pipe from the destination list for the specified message ID on the current CPU.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><itemizedlist>
<listitem><para>This API is typically only used by Software Bus Network (SBN) Application</para></listitem></itemizedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgId</parametername>
</parameternamelist>
<parameterdescription>
<para>The message ID of the message to be unsubscribed.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID of the pipe the subscribed message should no longer be sent to.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="3" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a0dfe9b4a304487595cefd475aa673530" kindref="member">CFE_SB_NO_SUBSCRIBERS</ref> </para></entry><entry thead="no"><para>This error code is returned by the <ref refid="cfe__sb_8h_1a70ea901e65f03221e3787d73733db060" kindref="member">CFE_SB_Unsubscribe</ref> API if there has not been an entry in the routing tables for the MsgId/PipeId given as parameters.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab15b9aa23fe6e2cd7239219ace5ec1e7" kindref="member">CFE_SB_INTERNAL_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned by the <ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref> API if the code detects an internal index is out of range. The most likely cause would be a Single Event Upset.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref>, <ref refid="cfe__sb_8h_1a5939c3681044a3d953d0fe72dd577889" kindref="member">CFE_SB_SubscribeEx</ref>, <ref refid="cfe__sb_8h_1a72139ef72948ee8dddc4fe17eb174c22" kindref="member">CFE_SB_SubscribeLocal</ref>, <ref refid="cfe__sb_8h_1a70ea901e65f03221e3787d73733db060" kindref="member">CFE_SB_Unsubscribe</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="825" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="825" bodyend="837"/>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__sb__priv_8h_1ad117920a479061f45f4587b4a867976d" compoundref="cfe__sb__priv_8h" startline="119">CFE_SB_LOCAL</references>
        <references refid="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" compoundref="cfe__sb__api_8c" startline="903" endline="1023">CFE_SB_UnsubscribeFull</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a462455f0287804d4b979b953cbd4ae2b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_UnsubscribeWithAppId</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId, uint32 AppId)</argsstring>
        <name>CFE_SB_UnsubscribeWithAppId</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>AppId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="862" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="862" bodyend="872"/>
        <references refid="cfe__sb__priv_8h_1ad117920a479061f45f4587b4a867976d" compoundref="cfe__sb__priv_8h" startline="119">CFE_SB_LOCAL</references>
        <references refid="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" compoundref="cfe__sb__api_8c" startline="903" endline="1023">CFE_SB_UnsubscribeFull</references>
        <referencedby refid="cfe__sb__priv_8h_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" compoundref="cfe__sb__api_8c" startline="345" endline="455">CFE_SB_DeletePipeFull</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_UnsubscribeFull</definition>
        <argsstring>(CFE_SB_MsgId_t MsgId, CFE_SB_PipeId_t PipeId, uint8 Scope, uint32 AppId)</argsstring>
        <name>CFE_SB_UnsubscribeFull</name>
        <param>
          <type><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref></type>
          <declname>MsgId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref></type>
          <declname>Scope</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>AppId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="903" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="903" bodyend="1023"/>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" compoundref="cfe__sb__priv_8h" startline="256">CFE_SB_PipeD_t::AppId</references>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" compoundref="cfe__evs_8h" startline="124">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" compoundref="cfe__evs_8h" startline="125">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__sb__priv_8h_1ade8cd3834120ca7ab077203207e5194c" compoundref="cfe__sb__priv_8h" startline="103">CFE_SB_AVAILABLE</references>
        <references refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" compoundref="cfe__error_8h" startline="804">CFE_SB_BAD_ARGUMENT</references>
        <references refid="cfe__sb__priv_8h_1a4094c63c03474476111fe10c11ab122b" compoundref="cfe__sb__priv_8h" startline="131">CFE_SB_ENABLE</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__priv_8c_1a64905d40b4b4d6ef20a69943afb624b4" compoundref="cfe__sb__priv_8c" startline="208" endline="223">CFE_SB_GetPipeIdx</references>
        <references refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" compoundref="cfe__sb__priv_8c" startline="453" endline="463">CFE_SB_GetPipeName</references>
        <references refid="cfe__sb__priv_8c_1a9ef1179eae9f13d7648876b838c03b26" compoundref="cfe__sb__priv_8c" startline="387" endline="400">CFE_SB_GetRoutingTblIdx</references>
        <references refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" compoundref="cfe__sb__priv_8h" startline="118">CFE_SB_GLOBAL</references>
        <references refid="cfe__sb__priv_8h_1ad5e2892f393253303e66416bbc91869d" compoundref="cfe__sb__priv_8h" startline="105">CFE_SB_INVALID_MSG_ID</references>
        <references refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" compoundref="cfe__sb__priv_8h" startline="107">CFE_SB_INVALID_PIPE</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__sb__buf_8c_1aab809c8ca01290b3a8041571e856f1f0" compoundref="cfe__sb__buf_8c" startline="292" endline="309">CFE_SB_PutDestinationBlk</references>
        <references refid="cfe__sb__priv_8c_1ab3cfded1e68d506cf3e848f2ea4d39ca" compoundref="cfe__sb__priv_8c" startline="778" endline="822">CFE_SB_RemoveDest</references>
        <references refid="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" compoundref="cfe__sb__api_8c" startline="1050" endline="1058">CFE_SB_SendMsg</references>
        <references refid="cfe__sb__priv_8c_1a924b490b166f6b82aef7d70fb1bd6677" compoundref="cfe__sb__priv_8c" startline="420" endline="434">CFE_SB_SetRoutingTblIdx</references>
        <references refid="cfe__sb__events_8h_1a7d3f99f5b0b1df63d79d862f95f7c98a" compoundref="cfe__sb__events_8h" startline="714">CFE_SB_SUBSCRIPTION_REMOVED_EID</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__sb__events_8h_1a1862fe9db898fbf8559ed03fa4dd91ef" compoundref="cfe__sb__events_8h" startline="228">CFE_SB_UNSUB_ARG_ERR_EID</references>
        <references refid="cfe__sb__events_8h_1a5c82f812ce548e58235a2f8aa4beb722" compoundref="cfe__sb__events_8h" startline="781">CFE_SB_UNSUB_INV_CALLER_EID</references>
        <references refid="cfe__sb__events_8h_1ae843b9270f5ab886241eb7bedf4517f4" compoundref="cfe__sb__events_8h" startline="768">CFE_SB_UNSUB_INV_PIPE_EID</references>
        <references refid="cfe__sb__events_8h_1a1cd0fa919edd4c90ac0f3c103ffa2c3a" compoundref="cfe__sb__events_8h" startline="241">CFE_SB_UNSUB_NO_SUBS_EID</references>
        <references refid="cfe__sb_8h_1a9471edf830792940448e050b468e619d" compoundref="cfe__sb_8h" startline="91">CFE_SB_UNSUBSCRIPTION</references>
        <references refid="cfe__sb__events_8h_1a1b7890c396d5bb2d151749643241b36c" compoundref="cfe__sb__events_8h" startline="397">CFE_SB_UNSUBSCRIPTION_RPT_EID</references>
        <references refid="cfe__sb__priv_8c_1affd094305f35ceb2452540d9adac015b" compoundref="cfe__sb__priv_8c" startline="545" endline="557">CFE_SB_ValidateMsgId</references>
        <references refid="cfe__sb__priv_8c_1a0ba59d04948ba613ce0550c032f5cf98" compoundref="cfe__sb__priv_8c" startline="572" endline="582">CFE_SB_ValidatePipeId</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1a281f94b6809f59b45c05b73765d8fe4e" compoundref="cfe__sb__priv_8h" startline="236">CFE_SB_RouteEntry_t::Destinations</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" compoundref="common__types_8h" startline="318">FALSE</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1aa0f6d453782a0c589b55c22e82c7784e" compoundref="cfe__sb__priv_8h" startline="238">CFE_SB_RouteEntry_t::ListHeadPtr</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" compoundref="cfe__sb__priv_8h" startline="235">CFE_SB_RouteEntry_t::MsgId</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a86f714ea447258b867fb4c63815be40d" compoundref="cfe__sb__msg_8h" startline="720">CFE_SB_SubRprtMsg_Payload_t::MsgId</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1acc648d6130ed253a42dfaf16c2033458" compoundref="cfe__sb__msg_8h" startline="635">CFE_SB_StatMsg_Payload_t::MsgIdsInUse</references>
        <references refid="struct_c_f_e___s_b___destination_d__t_1a37d5671755ee1af438f9a385344a9e48" compoundref="cfe__sb__priv_8h" startline="203">CFE_SB_DestinationD_t::Next</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" compoundref="osapi_8c" startline="1088" endline="1101">OS_TaskGetId</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" compoundref="cfe__sb__msg_8h" startline="728">CFE_SB_SubRprtMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a71c4ac17cd0146e7c505ef850bd6c5d8" compoundref="cfe__sb__msg_8h" startline="722">CFE_SB_SubRprtMsg_Payload_t::Pipe</references>
        <references refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" compoundref="cfe__sb__priv_8h" startline="195">CFE_SB_DestinationD_t::PipeId</references>
        <references refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" compoundref="cfe__sb__priv_8h" startline="294">cfe_sb_t::PipeTbl</references>
        <references refid="struct_c_f_e___s_b___qos__t_1ad3d2be85fd6ae49344ed70aa0a57df0c" compoundref="cfe__sb_8h" startline="182">CFE_SB_Qos_t::Priority</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a2c2c940989e32534aa73b50b748b412e" compoundref="cfe__sb__msg_8h" startline="721">CFE_SB_SubRprtMsg_Payload_t::Qos</references>
        <references refid="struct_c_f_e___s_b___qos__t_1adff0dd4ccb04e862db28afe8b4722cfb" compoundref="cfe__sb_8h" startline="183">CFE_SB_Qos_t::Reliability</references>
        <references refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" compoundref="cfe__sb__priv_8h" startline="301">cfe_sb_t::RoutingTbl</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" compoundref="cfe__sb__priv_8h" startline="303">cfe_sb_t::SubRprtMsg</references>
        <references refid="structcfe__sb__t_1a28d2211968e0b9eac2abed73ba3edfd5" compoundref="cfe__sb__priv_8h" startline="289">cfe_sb_t::SubscriptionReporting</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae0469ecff4396cbe36a61e042b910187" compoundref="cfe__sb__msg_8h" startline="656">CFE_SB_StatMsg_Payload_t::SubscriptionsInUse</references>
        <references refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1aa921fee5d18f656d14b67eb858514d48" compoundref="cfe__sb__msg_8h" startline="719">CFE_SB_SubRprtMsg_Payload_t::SubType</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" compoundref="common__types_8h" startline="314">TRUE</references>
        <referencedby refid="cfe__sb__api_8c_1a70ea901e65f03221e3787d73733db060" compoundref="cfe__sb__api_8c" startline="790" endline="802">CFE_SB_Unsubscribe</referencedby>
        <referencedby refid="cfe__sb__api_8c_1a2d9017dba160c86fd79fd386201753be" compoundref="cfe__sb__api_8c" startline="825" endline="837">CFE_SB_UnsubscribeLocal</referencedby>
        <referencedby refid="cfe__sb__priv_8h_1a462455f0287804d4b979b953cbd4ae2b" compoundref="cfe__sb__api_8c" startline="862" endline="872">CFE_SB_UnsubscribeWithAppId</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_SendMsg</definition>
        <argsstring>(CFE_SB_Msg_t *MsgPtr)</argsstring>
        <name>CFE_SB_SendMsg</name>
        <param>
          <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
          <declname>MsgPtr</declname>
        </param>
        <briefdescription>
<para>Send a software bus message. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine sends the specified message to all subscribers. The software bus will read the message ID from the message header to determine which pipes should receive the message.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><itemizedlist>
<listitem><para>This routine will not normally wait for the receiver tasks to process the message before returning control to the caller&apos;s task.</para></listitem><listitem><para>However, if a higher priority task is pending and subscribed to this message, that task may get to run before <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> returns control to the caller.</para></listitem><listitem><para>This function tracks and increments the source sequence counter of a telemetry message.</para></listitem></itemizedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to the message to be sent. This must point to the first byte of the software bus message header (<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref>).</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="4" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a07f24d1c49358bc9bb0b2d8dd19508bf" kindref="member">CFE_SB_MSG_TOO_BIG</ref> </para></entry><entry thead="no"><para>The size field in the message header indicates the message exceeds the max Software Bus message size. The max size is defined by configuration parameter <ref refid="cfe__mission__cfg_8h_1ac5a1b99c0ee718d0a9c8148e70ddd473" kindref="member">CFE_SB_MAX_SB_MSG_SIZE</ref> in <ref refid="cfe__mission__cfg_8h" kindref="compound">cfe_mission_cfg.h</ref>  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> when the memory in the SB message buffer pool has been depleted. The amount of memory in the pool is dictated by the configuration parameter #CFE_SB_BUF_MEMORY_BYTES specified in the cfe_platform_cfg.h file. Also the memory statistics, including current utilization figures and high water marks for the SB Buffer memory pool can be monitored by sending a Software Bus command to send the SB statistics packet.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref>, <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>, <ref refid="cfe__sb_8h_1ade2170aac98e2b761332d96e7af88ff1" kindref="member">CFE_SB_PassMsg</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1050" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1050" bodyend="1058"/>
        <references refid="cfe__sb__priv_8h_1aee8fc79a7eb25443e07bad5173af34bb" compoundref="cfe__sb__priv_8h" startline="137">CFE_SB_INCREMENT_TLM</references>
        <references refid="cfe__sb__priv_8h_1a79630fa73e2e29ea412bc464eebb6bf7" compoundref="cfe__sb__priv_8h" startline="125">CFE_SB_SEND_ONECOPY</references>
        <references refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" compoundref="cfe__sb__api_8c" startline="1122" endline="1421">CFE_SB_SendMsgFull</references>
        <referencedby refid="cfe__es__task_8h_1ae75d1caf2ecdbc8c5e6b9923086eabdc" compoundref="cfe__es__task_8c" startline="638" endline="738">CFE_ES_HousekeepingCmd</referencedby>
        <referencedby refid="cfe__es__task_8h_1ac99750332e09a94ab330db51b479e464" compoundref="cfe__es__task_8c" startline="1200" endline="1253">CFE_ES_QueryOneCmd</referencedby>
        <referencedby refid="cfe__es__shell_8h_1a1658383f251f6a3ab51105e11e7cd6a1" compoundref="cfe__es__shell_8c" startline="79" endline="276">CFE_ES_ShellOutputCommand</referencedby>
        <referencedby refid="cfe__es__task_8h_1ab8e2c0622ff73040123dda6b243bc08d" compoundref="cfe__es__task_8c" startline="2038" endline="2083">CFE_ES_TlmPoolStatsCmd</referencedby>
        <referencedby refid="cfe__evs__task_8c_1a2178c4deec1ccc1344bedbc3ee259b50" compoundref="cfe__evs__task_8c" startline="750" endline="787">CFE_EVS_ReportHousekeepingCmd</referencedby>
        <referencedby refid="cfe__sb__task_8c_1a03de4f053d2c8e6e024927b13f518f44" compoundref="cfe__sb__task_8c" startline="468" endline="476">CFE_SB_SendHKTlmPkt</referencedby>
        <referencedby refid="cfe__sb__task_8c_1ad97ab36ca5f4402f41968ab58a1f96ee" compoundref="cfe__sb__task_8c" startline="997" endline="1069">CFE_SB_SendPrevSubs</referencedby>
        <referencedby refid="cfe__sb__task_8c_1a28fb2543a65901276283b1ffa449e5e6" compoundref="cfe__sb__task_8c" startline="627" endline="636">CFE_SB_SendStats</referencedby>
        <referencedby refid="cfe__sb__priv_8h_1ac5d1727dd8072b5548cb7b7e028fbe09" compoundref="cfe__sb__api_8c" startline="606" endline="768">CFE_SB_SubscribeFull</referencedby>
        <referencedby refid="cfe__sb__priv_8h_1a48e6859da8820f497b806df05027bf1c" compoundref="cfe__sb__api_8c" startline="903" endline="1023">CFE_SB_UnsubscribeFull</referencedby>
        <referencedby refid="cfe__tbl__task__cmds_8h_1a7510cf082438f11898b487bc2cda5275" compoundref="cfe__tbl__task__cmds_8c" startline="87" endline="179">CFE_TBL_HousekeepingCmd</referencedby>
        <referencedby refid="cfe__tbl__internal_8h_1aa8ce24e478827b0cb10565fd1e5b0356" compoundref="cfe__tbl__internal_8c" startline="1543" endline="1576">CFE_TBL_SendNotificationMsg</referencedby>
        <referencedby refid="cfe__time__task_8c_1adfa0442397ba388187db454940f9635b" compoundref="cfe__time__task_8c" startline="859" endline="879">CFE_TIME_DiagCmd</referencedby>
        <referencedby refid="cfe__time__task_8c_1aed7f2d2f00f8f1592db0a91e4ff0fea1" compoundref="cfe__time__task_8c" startline="638" endline="669">CFE_TIME_HousekeepingCmd</referencedby>
        <referencedby refid="cfe__time__utils_8h_1a2b598bd57056daa9b51b637e2a9799a1" compoundref="cfe__time__tone_8c" startline="1302" endline="1363">CFE_TIME_Local1HzTask</referencedby>
        <referencedby refid="cfe__time__utils_8h_1aae8daa55ed3bbdbc012c5cc4bc4ff1c8" compoundref="cfe__time__tone_8c" startline="1124" endline="1164">CFE_TIME_Tone1HzTask</referencedby>
        <referencedby refid="cfe__time__utils_8h_1ad9875825431fb06a6279daf67736eb63" compoundref="cfe__time__tone_8c" startline="100" endline="186">CFE_TIME_ToneSend</referencedby>
        <referencedby refid="cfe__evs__utils_8h_1a4e45b4b485743a0911743e025d71966a" compoundref="cfe__evs__utils_8c" startline="407" endline="452">EVS_SendPacket</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1ade2170aac98e2b761332d96e7af88ff1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_PassMsg</definition>
        <argsstring>(CFE_SB_Msg_t *MsgPtr)</argsstring>
        <name>CFE_SB_PassMsg</name>
        <param>
          <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
          <declname>MsgPtr</declname>
        </param>
        <briefdescription>
<para>Passes a software bus message. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine sends the specified message to all subscribers. The software bus will read the message ID from the message header to determine which pipes should receive the message. This routine is intended to pass messages not generated by the sending application.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><itemizedlist>
<listitem><para>This routine will not normally wait for the receiver tasks to process the message before returning control to the caller&apos;s task.</para></listitem><listitem><para>However, if a higher priority task is pending and subscribed to this message, that task may get to run before <ref refid="cfe__sb_8h_1ade2170aac98e2b761332d96e7af88ff1" kindref="member">CFE_SB_PassMsg</ref> returns control to the caller.</para></listitem><listitem><para>Unlike <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> this routine will preserve the source sequence counter in a telemetry message.</para></listitem></itemizedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to the message to be sent. This must point to the first byte of the software bus message header (<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref>).</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="4" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a07f24d1c49358bc9bb0b2d8dd19508bf" kindref="member">CFE_SB_MSG_TOO_BIG</ref> </para></entry><entry thead="no"><para>The size field in the message header indicates the message exceeds the max Software Bus message size. The max size is defined by configuration parameter <ref refid="cfe__mission__cfg_8h_1ac5a1b99c0ee718d0a9c8148e70ddd473" kindref="member">CFE_SB_MAX_SB_MSG_SIZE</ref> in <ref refid="cfe__mission__cfg_8h" kindref="compound">cfe_mission_cfg.h</ref>  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> when the memory in the SB message buffer pool has been depleted. The amount of memory in the pool is dictated by the configuration parameter #CFE_SB_BUF_MEMORY_BYTES specified in the cfe_platform_cfg.h file. Also the memory statistics, including current utilization figures and high water marks for the SB Buffer memory pool can be monitored by sending a Software Bus command to send the SB statistics packet.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref>, <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>, <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1085" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1085" bodyend="1093"/>
        <references refid="cfe__sb__priv_8h_1a80a2f3705478104e07069d85478e86b9" compoundref="cfe__sb__priv_8h" startline="136">CFE_SB_DO_NOT_INCREMENT</references>
        <references refid="cfe__sb__priv_8h_1a79630fa73e2e29ea412bc464eebb6bf7" compoundref="cfe__sb__priv_8h" startline="125">CFE_SB_SEND_ONECOPY</references>
        <references refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" compoundref="cfe__sb__api_8c" startline="1122" endline="1421">CFE_SB_SendMsgFull</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_SendMsgFull</definition>
        <argsstring>(CFE_SB_Msg_t *MsgPtr, uint32 TlmCntIncrements, uint32 CopyMode)</argsstring>
        <name>CFE_SB_SendMsgFull</name>
        <param>
          <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
          <declname>MsgPtr</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>TlmCntIncrements</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>CopyMode</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1122" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1122" bodyend="1421"/>
        <references refid="struct_c_f_e___s_b___destination_d__t_1a9777e7d0894cc1e5f2b8314199cd5738" compoundref="cfe__sb__priv_8h" startline="196">CFE_SB_DestinationD_t::Active</references>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="struct_c_f_e___s_b___sender_id__t_1a8f5ec6f6aeb0fd40089e60e76c642d97" compoundref="cfe__sb_8h" startline="196">CFE_SB_SenderId_t::AppName</references>
        <references refid="struct_c_f_e___s_b___destination_d__t_1a6731003c6baa11dca7325a6cf560eed1" compoundref="cfe__sb__priv_8h" startline="198">CFE_SB_DestinationD_t::BuffCount</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1a66217409429f3a8011013fb73e109564" compoundref="cfe__sb__priv_8h" startline="178">CFE_SB_BufferD_t::Buffer</references>
        <references refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625" compoundref="cfe__es_8h" startline="1401">CFE_ES_PerfLogEntry</references>
        <references refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4" compoundref="cfe__es_8h" startline="1420">CFE_ES_PerfLogExit</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" compoundref="cfe__evs_8h" startline="125">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__psp__support_8c_1a30087ba17d2cdf1e1735c4e1a2ea2314" compoundref="cfe__psp__support_8c" startline="145" endline="148">CFE_PSP_GetProcessorId</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__sb__priv_8h_1ade8cd3834120ca7ab077203207e5194c" compoundref="cfe__sb__priv_8h" startline="103">CFE_SB_AVAILABLE</references>
        <references refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" compoundref="cfe__error_8h" startline="804">CFE_SB_BAD_ARGUMENT</references>
        <references refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" compoundref="cfe__error_8h" startline="858">CFE_SB_BUF_ALOC_ERR</references>
        <references refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" compoundref="cfe__sb__buf_8c" startline="226" endline="241">CFE_SB_DecrBufUseCnt</references>
        <references refid="cfe__sb__priv_8c_1ab603690a7c1fd94305a0dc85cd52916c" compoundref="cfe__sb__priv_8c" startline="707" endline="713">CFE_SB_FinishSendEvent</references>
        <references refid="cfe__sb__events_8h_1aeaa1dbff9ffe6f67e9fd71fdeebd17b8" compoundref="cfe__sb__events_8h" startline="299">CFE_SB_GET_BUF_ERR_EID</references>
        <references refid="cfe__sb__priv_8h_1a20ef6cd371107178b221c2709eefa1c8" compoundref="cfe__sb__priv_8h" startline="154">CFE_SB_GET_BUF_ERR_EID_BIT</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__buf_8c_1a857d5b3749c8dec42c723088ec54fde0" compoundref="cfe__sb__buf_8c" startline="165" endline="174">CFE_SB_GetBufferFromCaller</references>
        <references refid="cfe__sb__buf_8c_1abd9f4fbc34ad7ee3268b5cf4489f8c19" compoundref="cfe__sb__buf_8c" startline="108" endline="146">CFE_SB_GetBufferFromPool</references>
        <references refid="cfe__sb_8h_1afd43694dea8b3cb74af4c2969493256d" compoundref="cfe__sb__util_8c" startline="176" endline="183">CFE_SB_GetMsgId</references>
        <references refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" compoundref="cfe__sb__priv_8c" startline="453" endline="463">CFE_SB_GetPipeName</references>
        <references refid="cfe__sb__priv_8c_1aed98ee504800ab91ae8d5424c2e5c5a4" compoundref="cfe__sb__priv_8c" startline="649" endline="657">CFE_SB_GetPktType</references>
        <references refid="cfe__sb__priv_8c_1a9ef1179eae9f13d7648876b838c03b26" compoundref="cfe__sb__priv_8c" startline="387" endline="400">CFE_SB_GetRoutingTblIdx</references>
        <references refid="cfe__sb_8h_1ac32b86cf9e1d12a547792853c35f6aa1" compoundref="cfe__sb__util_8c" startline="279" endline="286">CFE_SB_GetTotalMsgLength</references>
        <references refid="cfe__sb__priv_8h_1ab1c4f86b83fc02aee95e87f01ee84ded" compoundref="cfe__sb__priv_8h" startline="134">CFE_SB_GRANTED</references>
        <references refid="cfe__sb__priv_8h_1a9019dfc13449d2687db31537f6a8de5b" compoundref="cfe__sb__priv_8h" startline="115">CFE_SB_INACTIVE</references>
        <references refid="cfe__sb__priv_8h_1aee8fc79a7eb25443e07bad5173af34bb" compoundref="cfe__sb__priv_8h" startline="137">CFE_SB_INCREMENT_TLM</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__mission__cfg_8h_1ac5a1b99c0ee718d0a9c8148e70ddd473" compoundref="cfe__mission__cfg_8h" startline="64">CFE_SB_MAX_SB_MSG_SIZE</references>
        <references refid="cfe__es__perfids_8h_1a4abd863f7490698eabc759825f24fcfe" compoundref="cfe__es__perfids_8h" startline="74">CFE_SB_MSG_LIM_PERF_ID</references>
        <references refid="cfe__error_8h_1a07f24d1c49358bc9bb0b2d8dd19508bf" compoundref="cfe__error_8h" startline="845">CFE_SB_MSG_TOO_BIG</references>
        <references refid="cfe__sb__events_8h_1ab2104f1ad4fc6d65cff6d058fd85f695" compoundref="cfe__sb__events_8h" startline="285">CFE_SB_MSG_TOO_BIG_EID</references>
        <references refid="cfe__sb__events_8h_1aca1ffa8b63bc24a135090f2528e936bc" compoundref="cfe__sb__events_8h" startline="318">CFE_SB_MSGID_LIM_ERR_EID</references>
        <references refid="cfe__sb__priv_8h_1a0eea1f15445e753b706b7045f8a4a870" compoundref="cfe__sb__priv_8h" startline="155">CFE_SB_MSGID_LIM_ERR_EID_BIT</references>
        <references refid="cfe__es__perfids_8h_1a21cdf5fa9d8440091fc16b0d9524bab1" compoundref="cfe__es__perfids_8h" startline="75">CFE_SB_PIPE_OFLOW_PERF_ID</references>
        <references refid="cfe__sb__events_8h_1ae307373383046c5dc051941f7874fece" compoundref="cfe__sb__events_8h" startline="414">CFE_SB_Q_FULL_ERR_EID</references>
        <references refid="cfe__sb__priv_8h_1a6b3ebf5cfb590405137b7a50b4beae0d" compoundref="cfe__sb__priv_8h" startline="156">CFE_SB_Q_FULL_ERR_EID_BIT</references>
        <references refid="cfe__sb__events_8h_1aad2429b7e645b488c153df98976ab8ab" compoundref="cfe__sb__events_8h" startline="430">CFE_SB_Q_WR_ERR_EID</references>
        <references refid="cfe__sb__priv_8h_1aca2f2a684546853351bb652c04b914ad" compoundref="cfe__sb__priv_8h" startline="157">CFE_SB_Q_WR_ERR_EID_BIT</references>
        <references refid="cfe__sb__priv_8c_1a3c77f35f8109da514786070d69f6425d" compoundref="cfe__sb__priv_8c" startline="675" endline="692">CFE_SB_RequestToSendEvent</references>
        <references refid="cfe__sb__events_8h_1aa0c834952e6e0be338fa64c6ddf3e153" compoundref="cfe__sb__events_8h" startline="253">CFE_SB_SEND_BAD_ARG_EID</references>
        <references refid="cfe__sb__events_8h_1a291ea8374837d7136d4a16aaf55ac320" compoundref="cfe__sb__events_8h" startline="372">CFE_SB_SEND_INV_MSGID_EID</references>
        <references refid="cfe__sb__events_8h_1a6af4cd28e435cbca1b335f474cbf3267" compoundref="cfe__sb__events_8h" startline="271">CFE_SB_SEND_NO_SUBS_EID</references>
        <references refid="cfe__sb__priv_8h_1aecbc541c5cb1bad87fed99dc475ed0f1" compoundref="cfe__sb__priv_8h" startline="153">CFE_SB_SEND_NO_SUBS_EID_BIT</references>
        <references refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" compoundref="cfe__sb__priv_8h" startline="124">CFE_SB_SEND_ZEROCOPY</references>
        <references refid="cfe__sb__priv_8c_1ace28f1cb2141b38f71e501fab3d0a567" compoundref="cfe__sb__priv_8c" startline="525" endline="531">CFE_SB_SetMsgSeqCnt</references>
        <references refid="cfe__sb__priv_8h_1af505e0d32a3141b8f585571289f82a83" compoundref="cfe__sb__priv_8h" startline="121">CFE_SB_TLM</references>
        <references refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" compoundref="cfe__sb__api_8c" startline="142">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__sb__priv_8c_1affd094305f35ceb2452540d9adac015b" compoundref="cfe__sb__priv_8c" startline="545" endline="557">CFE_SB_ValidateMsgId</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___destination_d__t_1aee8ef7c1e0fee3b779bb3a939870462d" compoundref="cfe__sb__priv_8h" startline="199">CFE_SB_DestinationD_t::DestCnt</references>
        <references refid="struct_c_f_e___s_b___event_buf__t_1a98e0797bf7b2abef77da2cb935bb76cc" compoundref="cfe__sb__priv_8h" startline="328">CFE_SB_EventBuf_t::EvtsToSnd</references>
        <references refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" compoundref="cfe__sb__priv_8h" startline="295">cfe_sb_t::HKTlmMsg</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a805f919fb1a7cda4146afb7a9275cc24" compoundref="cfe__sb__msg_8h" startline="573">CFE_SB_HKMsg_Payload_t::InternalErrCnt</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" compoundref="cfe__sb__msg_8h" startline="621">CFE_SB_PipeDepthStats_t::InUse</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" compoundref="cfe__sb__priv_8h" startline="235">CFE_SB_RouteEntry_t::MsgId</references>
        <references refid="struct_c_f_e___s_b___destination_d__t_1ac258c9e67c8f32e2e231815833d2b3df" compoundref="cfe__sb__priv_8h" startline="197">CFE_SB_DestinationD_t::MsgId2PipeLim</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a98e1a8a67f5bb54a6288d42feb394874" compoundref="cfe__sb__msg_8h" startline="589">CFE_SB_HKMsg_Payload_t::MsgLimErrCnt</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abea3de6cdff3bd907c4de702160912cf" compoundref="cfe__sb__msg_8h" startline="568">CFE_SB_HKMsg_Payload_t::MsgSendErrCnt</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a0afe0cbad1f511cc0af2e448f6b5689a" compoundref="cfe__sb__msg_8h" startline="566">CFE_SB_HKMsg_Payload_t::NoSubscribersCnt</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi_8h_1a1bb3ced7e39cd5e1ca6d4c45f153cbc2" compoundref="osapi_8h" startline="96">OS_QUEUE_FULL</references>
        <references refid="osapi-os-core_8h_1a514794c514fed167939e3bc870d50d44" compoundref="osapi_8c" startline="1580" endline="1658">OS_QueuePut</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" compoundref="osapi_8h" startline="87">OS_SUCCESS</references>
        <references refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" compoundref="osapi_8c" startline="1088" endline="1101">OS_TaskGetId</references>
        <references refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" compoundref="cfe__sb__msg_8h" startline="604">CFE_SB_HKMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a8e48327cf6bf91c42a3e4bfe5554adad" compoundref="cfe__sb__msg_8h" startline="623">CFE_SB_PipeDepthStats_t::PeakInUse</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" compoundref="cfe__sb__msg_8h" startline="671">CFE_SB_StatMsg_Payload_t::PipeDepthStats</references>
        <references refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" compoundref="cfe__sb__priv_8h" startline="195">CFE_SB_DestinationD_t::PipeId</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" compoundref="cfe__sb__priv_8h" startline="252">CFE_SB_PipeD_t::PipeId</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a59da4c28d101e932ba28308d98bea249" compoundref="cfe__sb__msg_8h" startline="587">CFE_SB_HKMsg_Payload_t::PipeOverflowErrCnt</references>
        <references refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" compoundref="cfe__sb__priv_8h" startline="294">cfe_sb_t::PipeTbl</references>
        <references refid="struct_c_f_e___s_b___sender_id__t_1a2267e7296e4adb70095ec787bd8caad6" compoundref="cfe__sb_8h" startline="195">CFE_SB_SenderId_t::ProcessorId</references>
        <references refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" compoundref="cfe__sb__priv_8h" startline="301">cfe_sb_t::RoutingTbl</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1afca62759929b998cc151f71d18cc666b" compoundref="cfe__sb__priv_8h" startline="179">CFE_SB_BufferD_t::Sender</references>
        <references refid="structcfe__sb__t_1a7901579fe0b442c4bd14dfc5d7da858f" compoundref="cfe__sb__priv_8h" startline="290">cfe_sb_t::SenderReporting</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a76bf018c159c92eae7269d99c8029830" compoundref="cfe__sb__priv_8h" startline="260">CFE_SB_PipeD_t::SendErrors</references>
        <references refid="struct_c_f_e___s_b___route_entry__t_1a7954e4e05c639bde04b3ada3c7152640" compoundref="cfe__sb__priv_8h" startline="237">CFE_SB_RouteEntry_t::SeqCnt</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" compoundref="cfe__sb__priv_8h" startline="257">CFE_SB_PipeD_t::SysQueueId</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1adbc5b9d3dd19a2ff8d35cb94c455c2a5" compoundref="cfe__sb__priv_8h" startline="176">CFE_SB_BufferD_t::UseCount</references>
        <referencedby refid="cfe__sb__api_8c_1ade2170aac98e2b761332d96e7af88ff1" compoundref="cfe__sb__api_8c" startline="1085" endline="1093">CFE_SB_PassMsg</referencedby>
        <referencedby refid="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" compoundref="cfe__sb__api_8c" startline="1050" endline="1058">CFE_SB_SendMsg</referencedby>
        <referencedby refid="cfe__sb__api_8c_1ab0908003ed01106c310b97d984be76b8" compoundref="cfe__sb__api_8c" startline="1937" endline="1950">CFE_SB_ZeroCopyPass</referencedby>
        <referencedby refid="cfe__sb__api_8c_1afabab99c8bed70a6d74b662f8620866c" compoundref="cfe__sb__api_8c" startline="1898" endline="1911">CFE_SB_ZeroCopySend</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a54840fe06aeb08b1e2c8df420474780d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_RcvMsg</definition>
        <argsstring>(CFE_SB_MsgPtr_t *BufPtr, CFE_SB_PipeId_t PipeId, int32 TimeOut)</argsstring>
        <name>CFE_SB_RcvMsg</name>
        <param>
          <type><ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member">CFE_SB_MsgPtr_t</ref> *</type>
          <declname>BufPtr</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
          <declname>TimeOut</declname>
        </param>
        <briefdescription>
<para>Receive a message from a software bus pipe. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine retrieves the next message from the specified pipe. If the pipe is empty, this routine will block until either a new message comes in or the timeout value is reached.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>Note - If an error occurs in this API, the *BufPtr value may be NULL or random. Therefore, it is recommended that the return code be tested for CFE_SUCCESS before processing the message.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">BufPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to a local variable of type <ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member">CFE_SB_MsgPtr_t</ref>. Typically a caller declares a ptr of type <ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> (i.e. <ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *Ptr) then gives the address of that pointer (&amp;Ptr) as this parmeter. After a successful receipt of a message, *BufPtr will point to the first byte of the software bus message header. This should be used as a read-only pointer (in systems with an MMU, writes to this pointer may cause a memory protection fault). The *BufPtr is valid only until the next call to CFE_SB_RcvMsg for the same pipe.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID of the pipe containing the message to be obtained.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">TimeOut</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of milliseconds to wait for a new message if the pipe is empty at the time of the call. This can also be set to <ref refid="cfe__sb_8h_1a0c0ca8cca37a759bd5e68e81e73ce67a" kindref="member">CFE_SB_POLL</ref> for a non-blocking receive or <ref refid="cfe__sb_8h_1acc9e6f66cd026d1c987c4c3de827366f" kindref="member">CFE_SB_PEND_FOREVER</ref> to wait forever for a message to arrive.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">*BufPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to the message obtained from the pipe. Valid only until the next call to CFE_SB_RcvMsg for the same pipe.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="5" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a68b8b8ed93cecb670c945388a797e970" kindref="member">CFE_SB_TIME_OUT</ref> </para></entry><entry thead="no"><para>In <ref refid="cfe__sb_8h_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref>, this return value indicates that a packet has not been received in the time given in the &quot;timeout&quot; parameter.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a5975053b3478fa6ff2a2b5a6207bce19" kindref="member">CFE_SB_PIPE_RD_ERR</ref> </para></entry><entry thead="no"><para>This return value indicates an error at the Queue read level. This error typically cannot be corrected by the caller. Some possible causes are: queue was not properly initialized or created, the number of bytes read from the queue was not the number of bytes requested in the read. The queue id is invalid. Similar errors regarding the pipe will be caught by higher level code in the Software Bus.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1aa9ebdcf79be28ce49c79c12f20ce53b7" kindref="member">CFE_SB_NO_MESSAGE</ref> </para></entry><entry thead="no"><para>When &quot;Polling&quot; a pipe for a message in <ref refid="cfe__sb_8h_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref>, this return value indicates that there was not a message on the pipe.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref>, <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1449" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1449" bodyend="1566"/>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="struct_c_f_e___s_b___destination_d__t_1a6731003c6baa11dca7325a6cf560eed1" compoundref="cfe__sb__priv_8h" startline="198">CFE_SB_DestinationD_t::BuffCount</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1a66217409429f3a8011013fb73e109564" compoundref="cfe__sb__priv_8h" startline="178">CFE_SB_BufferD_t::Buffer</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" compoundref="cfe__error_8h" startline="804">CFE_SB_BAD_ARGUMENT</references>
        <references refid="cfe__sb__events_8h_1a9ebc3fc50d63a2830404c98d01247e55" compoundref="cfe__sb__events_8h" startline="344">CFE_SB_BAD_PIPEID_EID</references>
        <references refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" compoundref="cfe__sb__buf_8c" startline="226" endline="241">CFE_SB_DecrBufUseCnt</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__priv_8c_1a003da6460d877af3c84a06b5457d0e0a" compoundref="cfe__sb__priv_8c" startline="342" endline="368">CFE_SB_GetDestPtr</references>
        <references refid="cfe__sb__priv_8c_1a5f81df796fa13a545fa3dbcb7c0740ba" compoundref="cfe__sb__priv_8c" startline="310" endline="323">CFE_SB_GetPipePtr</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__sb__events_8h_1a4d4d1979aae6b0a061ac3ae6a1e958cd" compoundref="cfe__sb__events_8h" startline="331">CFE_SB_RCV_BAD_ARG_EID</references>
        <references refid="cfe__sb__api_8c_1a42ecc1a82d77b37c0a0728f3289aadd9" compoundref="cfe__sb__api_8c" startline="1979" endline="2042">CFE_SB_ReadQueue</references>
        <references refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" compoundref="cfe__sb__api_8c" startline="142">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" compoundref="cfe__sb__priv_8h" startline="261">CFE_SB_PipeD_t::CurrentBuff</references>
        <references refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" compoundref="cfe__sb__priv_8h" startline="295">cfe_sb_t::HKTlmMsg</references>
        <references refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" compoundref="cfe__sb__msg_8h" startline="621">CFE_SB_PipeDepthStats_t::InUse</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1a5a8c5bb092275a3f5c73de95bbafb582" compoundref="cfe__sb__priv_8h" startline="175">CFE_SB_BufferD_t::MsgId</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a38d3df65eb3a5d68b3a457b82961df4a" compoundref="cfe__sb__msg_8h" startline="571">CFE_SB_HKMsg_Payload_t::MsgReceiveErrCnt</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" compoundref="osapi_8c" startline="1088" endline="1101">OS_TaskGetId</references>
        <references refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" compoundref="cfe__sb__msg_8h" startline="604">CFE_SB_HKMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" compoundref="cfe__sb__msg_8h" startline="671">CFE_SB_StatMsg_Payload_t::PipeDepthStats</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" compoundref="cfe__sb__priv_8h" startline="252">CFE_SB_PipeD_t::PipeId</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" compoundref="cfe__sb__priv_8h" startline="262">CFE_SB_PipeD_t::ToTrashBuff</references>
        <referencedby refid="cfe__es__task_8h_1a6afbfeb972d2e5d767a63573580f92bd" compoundref="cfe__es__task_8c" startline="175" endline="289">CFE_ES_TaskMain</referencedby>
        <referencedby refid="cfe__evs__task_8c_1a25fbdc94e2c09c02264442c4b8ed906e" compoundref="cfe__evs__task_8c" startline="297" endline="350">CFE_EVS_TaskMain</referencedby>
        <referencedby refid="cfe__sb__priv_8h_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" compoundref="cfe__sb__api_8c" startline="345" endline="455">CFE_SB_DeletePipeFull</referencedby>
        <referencedby refid="cfe__sb__task_8c_1adb337fe95061313a383cb9db0d95e695" compoundref="cfe__sb__task_8c" startline="121" endline="173">CFE_SB_TaskMain</referencedby>
        <referencedby refid="cfe__tbl__task_8c_1a61d8c896a1a62d04a24d77eb06e02a54" compoundref="cfe__tbl__task_8c" startline="94" endline="146">CFE_TBL_TaskMain</referencedby>
        <referencedby refid="cfe__time__task_8c_1a64f2d9ffc4f3e6f8f718a15ee03c5d79" compoundref="cfe__time__task_8c" startline="174" endline="227">CFE_TIME_TaskMain</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1abd1d841a3e64941a3ef460572b00f7e4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
        <definition>uint32 CFE_SB_GetLastSenderId</definition>
        <argsstring>(CFE_SB_SenderId_t **Ptr, CFE_SB_PipeId_t PipeId)</argsstring>
        <name>CFE_SB_GetLastSenderId</name>
        <param>
          <type><ref refid="struct_c_f_e___s_b___sender_id__t" kindref="compound">CFE_SB_SenderId_t</ref> **</type>
          <declname>Ptr</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref></type>
          <declname>PipeId</declname>
        </param>
        <briefdescription>
<para>Retrieve the application Info of the sender for the last message. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine can be used after a successful <ref refid="cfe__sb_8h_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref> call to find out which application sent the message that was received.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>Note - If an error occurs in this API, the *Ptr value may be NULL or random. Therefore, it is recommended that the return code be tested for CFE_SUCCESS before reading the sender information.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">Ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to a local variable of type <ref refid="struct_c_f_e___s_b___sender_id__t" kindref="compound">CFE_SB_SenderId_t</ref>. Typically a caller declares a ptr of type <ref refid="struct_c_f_e___s_b___sender_id__t" kindref="compound">CFE_SB_SenderId_t</ref> (i.e. <ref refid="struct_c_f_e___s_b___sender_id__t" kindref="compound">CFE_SB_SenderId_t</ref> *Ptr) then gives the address of that pointer (&amp;Ptr) for this parameter. After a successful call to this API, *Ptr will point to the first byte of the <ref refid="struct_c_f_e___s_b___sender_id__t" kindref="compound">CFE_SB_SenderId_t</ref> structure containing the sender information for the last message received on the given pipe. This should be used as a read-only pointer (in systems with an MMU, writes to this pointer may cause a memory protection fault). The *Ptr is valid only until the next call to CFE_SB_RcvMsg for the same pipe.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">PipeId</parametername>
</parameternamelist>
<parameterdescription>
<para>The pipe ID of the pipe the message was taken from.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="2"><row>
<entry thead="no"><para>The sender&apos;s application ID </para></entry><entry thead="no"><para></para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para></para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1593" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1593" bodyend="1645"/>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" compoundref="cfe__sb__priv_8h" startline="256">CFE_SB_PipeD_t::AppId</references>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" compoundref="cfe__error_8h" startline="804">CFE_SB_BAD_ARGUMENT</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__events_8h_1a1878bc4096f06ef07b922e6a7709c67d" compoundref="cfe__sb__events_8h" startline="625">CFE_SB_GLS_INV_CALLER_EID</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__sb__events_8h_1aa96aa1dccc8cf0175bdf2a78a0981ab6" compoundref="cfe__sb__events_8h" startline="481">CFE_SB_LSTSNDER_ERR1_EID</references>
        <references refid="cfe__sb__events_8h_1a7bb167d7131aab4c8ce94a9cd2acd7e5" compoundref="cfe__sb__events_8h" startline="493">CFE_SB_LSTSNDER_ERR2_EID</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__sb__priv_8c_1a0ba59d04948ba613ce0550c032f5cf98" compoundref="cfe__sb__priv_8c" startline="572" endline="582">CFE_SB_ValidatePipeId</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" compoundref="cfe__sb__priv_8h" startline="261">CFE_SB_PipeD_t::CurrentBuff</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" compoundref="osapi_8c" startline="1088" endline="1101">OS_TaskGetId</references>
        <references refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" compoundref="cfe__sb__priv_8h" startline="294">cfe_sb_t::PipeTbl</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a40630a2f5465cf30206a45c970bb4cc4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
        <definition>CFE_SB_Msg_t* CFE_SB_ZeroCopyGetPtr</definition>
        <argsstring>(uint16 MsgSize, CFE_SB_ZeroCopyHandle_t *BufferHandle)</argsstring>
        <name>CFE_SB_ZeroCopyGetPtr</name>
        <param>
          <type><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref></type>
          <declname>MsgSize</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref> *</type>
          <declname>BufferHandle</declname>
        </param>
        <briefdescription>
<para>Get a buffer pointer to use for &quot;zero copy&quot; SB sends. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine can be used to get a pointer to one of the software bus&apos; internal memory buffers that are used for sending messages. The caller can use this memory buffer to build an SB message, then send it using the <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> function. This interface is more complicated than the normal <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> interface, but it avoids an extra copy of the message from the user&apos;s memory buffer to the software bus internal buffer. The &quot;zero copy&quot; interface can be used to improve performance in high-rate, high-volume software bus traffic.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><orderedlist>
<listitem><para>The pointer returned by <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> is only good for one call to <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>.</para></listitem><listitem><para>Applications should be written as if <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> is equivalent to a <computeroutput>malloc()</computeroutput> and <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> is equivalent to a <computeroutput>free()</computeroutput>.</para></listitem><listitem><para>Applications must not de-reference the message pointer (for reading or writing) after the call to <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>.</para></listitem></orderedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgSize</parametername>
</parameternamelist>
<parameterdescription>
<para>The size of the SB message buffer the caller wants (including the SB message header).</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">BufferHandle</parametername>
</parameternamelist>
<parameterdescription>
<para>A handle that must be supplied when sending or releasing in zero copy mode.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="2"><row>
<entry thead="no"><para>A pointer to a memory buffer that can be used to build one SB message for use with <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a89ec51d1986bec33c5a3b6605f92b04a" kindref="member">CFE_SB_ZeroCopyReleasePtr</ref>, <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1672" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1672" bodyend="1756"/>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1a8a33ccb886fe1934e8bf104b30101cbf" compoundref="cfe__sb__priv_8h" startline="219">CFE_SB_ZeroCopyD_t::AppID</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1a66217409429f3a8011013fb73e109564" compoundref="cfe__sb__priv_8h" startline="178">CFE_SB_BufferD_t::Buffer</references>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1a63d9c98816481bc96df18f87ec7f2eea" compoundref="cfe__sb__priv_8h" startline="221">CFE_SB_ZeroCopyD_t::Buffer</references>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__es_8h_1ad1d355290c15c7c22ee78c1117ec5016" compoundref="cfe__esmempool_8c" startline="305" endline="404">CFE_ES_GetPoolBuf</references>
        <references refid="cfe__es_8h_1a87bcb4ee33a996e6219607b629e595fd" compoundref="cfe__esmempool_8c" startline="468" endline="551">CFE_ES_PutPoolBuf</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" compoundref="cfe__sb__priv_8h" startline="299">cfe_sb_t::Mem</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" compoundref="cfe__sb__msg_8h" startline="649">CFE_SB_StatMsg_Payload_t::MemInUse</references>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1ac1750bddefb3b278d16f8c8b1760cdfb" compoundref="cfe__sb__priv_8h" startline="222">CFE_SB_ZeroCopyD_t::Next</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a536d072ca6396daba324ded24f4739c0" compoundref="cfe__sb__msg_8h" startline="651">CFE_SB_StatMsg_Payload_t::PeakMemInUse</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1a9bdb7fde097ff4f418e9fef4d7efc59f" compoundref="cfe__sb__msg_8h" startline="666">CFE_SB_StatMsg_Payload_t::PeakSBBuffersInUse</references>
        <references refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" compoundref="cfe__sb__priv_8h" startline="275">CFE_SB_MemParams_t::PoolHdl</references>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1a6266a628a76dd8e61af2fe3b35c88810" compoundref="cfe__sb__priv_8h" startline="223">CFE_SB_ZeroCopyD_t::Prev</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1acd1f6fad184755f99b91d1c8d7990271" compoundref="cfe__sb__msg_8h" startline="664">CFE_SB_StatMsg_Payload_t::SBBuffersInUse</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1aa32dec7edfe206d4f9b7c8d2f333d7f6" compoundref="cfe__sb__priv_8h" startline="177">CFE_SB_BufferD_t::Size</references>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1ac4873c67510ba61bc3c733c9b309009f" compoundref="cfe__sb__priv_8h" startline="220">CFE_SB_ZeroCopyD_t::Size</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="struct_c_f_e___s_b___buffer_d__t_1adbc5b9d3dd19a2ff8d35cb94c455c2a5" compoundref="cfe__sb__priv_8h" startline="176">CFE_SB_BufferD_t::UseCount</references>
        <references refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" compoundref="cfe__sb__priv_8h" startline="293">cfe_sb_t::ZeroCopyTail</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a89ec51d1986bec33c5a3b6605f92b04a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_ZeroCopyReleasePtr</definition>
        <argsstring>(CFE_SB_Msg_t *Ptr2Release, CFE_SB_ZeroCopyHandle_t BufferHandle)</argsstring>
        <name>CFE_SB_ZeroCopyReleasePtr</name>
        <param>
          <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
          <declname>Ptr2Release</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref></type>
          <declname>BufferHandle</declname>
        </param>
        <briefdescription>
<para>Release an unused &quot;zero copy&quot; buffer pointer. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine can be used to release a pointer to one of the software bus&apos; internal memory buffers.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><orderedlist>
<listitem><para>This function is not needed for normal &quot;zero copy&quot; transfers. It is needed only for cleanup when an application gets a pointer using <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref>, but (due to some error condition) never uses that pointer for a <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref></para></listitem></orderedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">Ptr2Release</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to the SB internal buffer. This must be a pointer returned by a call to <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref>, but never used in a call to <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">BufferHandle</parametername>
</parameternamelist>
<parameterdescription>
<para>This must be the handle supplied with the pointer when <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> was called.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="2" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ad3c572bc717c1354810f6765aa551546" kindref="member">CFE_SB_BUFFER_INVALID</ref> </para></entry><entry thead="no"><para>This error code will be returned when a request to release or send a zero copy buffer is invalid, such as if the handle or buffer is not correct or the buffer was previously released.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref>, <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1784" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1784" bodyend="1809"/>
        <references refid="cfe__es_8h_1a87bcb4ee33a996e6219607b629e595fd" compoundref="cfe__esmempool_8c" startline="468" endline="551">CFE_ES_PutPoolBuf</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" compoundref="cfe__sb__api_8c" startline="1835" endline="1872">CFE_SB_ZeroCopyReleaseDesc</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" compoundref="cfe__sb__priv_8h" startline="299">cfe_sb_t::Mem</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" compoundref="cfe__sb__msg_8h" startline="649">CFE_SB_StatMsg_Payload_t::MemInUse</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" compoundref="cfe__sb__priv_8h" startline="275">CFE_SB_MemParams_t::PoolHdl</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1acd1f6fad184755f99b91d1c8d7990271" compoundref="cfe__sb__msg_8h" startline="664">CFE_SB_StatMsg_Payload_t::SBBuffersInUse</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <referencedby refid="cfe__sb__priv_8h_1a154770ba6beddf96045b816d90c88d45" compoundref="cfe__sb__priv_8c" startline="848" endline="863">CFE_SB_ZeroCopyReleaseAppId</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_ZeroCopyReleaseDesc</definition>
        <argsstring>(CFE_SB_Msg_t *Ptr2Release, CFE_SB_ZeroCopyHandle_t BufferHandle)</argsstring>
        <name>CFE_SB_ZeroCopyReleaseDesc</name>
        <param>
          <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
          <declname>Ptr2Release</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref></type>
          <declname>BufferHandle</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1835" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1835" bodyend="1872"/>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1a63d9c98816481bc96df18f87ec7f2eea" compoundref="cfe__sb__priv_8h" startline="221">CFE_SB_ZeroCopyD_t::Buffer</references>
        <references refid="cfe__es_8h_1aeaa3f8a8dda7fea627ec56500b01d272" compoundref="cfe__esmempool_8c" startline="409" endline="463">CFE_ES_GetPoolBufInfo</references>
        <references refid="cfe__es_8h_1a87bcb4ee33a996e6219607b629e595fd" compoundref="cfe__esmempool_8c" startline="468" endline="551">CFE_ES_PutPoolBuf</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__error_8h_1ad3c572bc717c1354810f6765aa551546" compoundref="cfe__error_8h" startline="912">CFE_SB_BUFFER_INVALID</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" compoundref="cfe__sb__priv_8h" startline="299">cfe_sb_t::Mem</references>
        <references refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" compoundref="cfe__sb__msg_8h" startline="649">CFE_SB_StatMsg_Payload_t::MemInUse</references>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1ac1750bddefb3b278d16f8c8b1760cdfb" compoundref="cfe__sb__priv_8h" startline="222">CFE_SB_ZeroCopyD_t::Next</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" compoundref="cfe__sb__msg_8h" startline="677">CFE_SB_StatMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" compoundref="cfe__sb__priv_8h" startline="275">CFE_SB_MemParams_t::PoolHdl</references>
        <references refid="struct_c_f_e___s_b___zero_copy_d__t_1a6266a628a76dd8e61af2fe3b35c88810" compoundref="cfe__sb__priv_8h" startline="223">CFE_SB_ZeroCopyD_t::Prev</references>
        <references refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" compoundref="cfe__sb__priv_8h" startline="296">cfe_sb_t::StatTlmMsg</references>
        <references refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" compoundref="cfe__sb__priv_8h" startline="293">cfe_sb_t::ZeroCopyTail</references>
        <referencedby refid="cfe__sb__api_8c_1ab0908003ed01106c310b97d984be76b8" compoundref="cfe__sb__api_8c" startline="1937" endline="1950">CFE_SB_ZeroCopyPass</referencedby>
        <referencedby refid="cfe__sb__api_8c_1a89ec51d1986bec33c5a3b6605f92b04a" compoundref="cfe__sb__api_8c" startline="1784" endline="1809">CFE_SB_ZeroCopyReleasePtr</referencedby>
        <referencedby refid="cfe__sb__api_8c_1afabab99c8bed70a6d74b662f8620866c" compoundref="cfe__sb__api_8c" startline="1898" endline="1911">CFE_SB_ZeroCopySend</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1afabab99c8bed70a6d74b662f8620866c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_ZeroCopySend</definition>
        <argsstring>(CFE_SB_Msg_t *MsgPtr, CFE_SB_ZeroCopyHandle_t BufferHandle)</argsstring>
        <name>CFE_SB_ZeroCopySend</name>
        <param>
          <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
          <declname>MsgPtr</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref></type>
          <declname>BufferHandle</declname>
        </param>
        <briefdescription>
<para>Send an SB message in &quot;zero copy&quot; mode. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine sends a message that has been created directly in an internal SB message buffer by an application (after a call to <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref>). This interface is more complicated than the normal <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> interface, but it avoids an extra copy of the message from the user&apos;s memory buffer to the software bus internal buffer. The &quot;zero copy&quot; interface can be used to improve performance in high-rate, high-volume software bus traffic.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><orderedlist>
<listitem><para>The pointer returned by <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> is only good for one call to <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>.</para></listitem><listitem><para>Callers must not use the same SB message buffer for multiple sends.</para></listitem><listitem><para>Applications should be written as if <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> is equivalent to a <computeroutput>malloc()</computeroutput> and <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> is equivalent to a <computeroutput>free()</computeroutput>.</para></listitem><listitem><para>Applications must not de-reference the message pointer (for reading or writing) after the call to <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>.</para></listitem><listitem><para>This function tracks and increments the source sequence counter of a telemetry message.</para></listitem></orderedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to the SB message to be sent.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">BufferHandle</parametername>
</parameternamelist>
<parameterdescription>
<para>The handle supplied with the <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> call.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="5" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a07f24d1c49358bc9bb0b2d8dd19508bf" kindref="member">CFE_SB_MSG_TOO_BIG</ref> </para></entry><entry thead="no"><para>The size field in the message header indicates the message exceeds the max Software Bus message size. The max size is defined by configuration parameter <ref refid="cfe__mission__cfg_8h_1ac5a1b99c0ee718d0a9c8148e70ddd473" kindref="member">CFE_SB_MAX_SB_MSG_SIZE</ref> in <ref refid="cfe__mission__cfg_8h" kindref="compound">cfe_mission_cfg.h</ref>  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> when the memory in the SB message buffer pool has been depleted. The amount of memory in the pool is dictated by the configuration parameter #CFE_SB_BUF_MEMORY_BYTES specified in the cfe_platform_cfg.h file. Also the memory statistics, including current utilization figures and high water marks for the SB Buffer memory pool can be monitored by sending a Software Bus command to send the SB statistics packet.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ad3c572bc717c1354810f6765aa551546" kindref="member">CFE_SB_BUFFER_INVALID</ref> </para></entry><entry thead="no"><para>This error code will be returned when a request to release or send a zero copy buffer is invalid, such as if the handle or buffer is not correct or the buffer was previously released.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref>, <ref refid="cfe__sb_8h_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref>, <ref refid="cfe__sb_8h_1a89ec51d1986bec33c5a3b6605f92b04a" kindref="member">CFE_SB_ZeroCopyReleasePtr</ref>, <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1898" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1898" bodyend="1911"/>
        <references refid="cfe__sb__priv_8h_1aee8fc79a7eb25443e07bad5173af34bb" compoundref="cfe__sb__priv_8h" startline="137">CFE_SB_INCREMENT_TLM</references>
        <references refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" compoundref="cfe__sb__priv_8h" startline="124">CFE_SB_SEND_ZEROCOPY</references>
        <references refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" compoundref="cfe__sb__api_8c" startline="1122" endline="1421">CFE_SB_SendMsgFull</references>
        <references refid="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" compoundref="cfe__sb__api_8c" startline="1835" endline="1872">CFE_SB_ZeroCopyReleaseDesc</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1ab0908003ed01106c310b97d984be76b8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_ZeroCopyPass</definition>
        <argsstring>(CFE_SB_Msg_t *MsgPtr, CFE_SB_ZeroCopyHandle_t BufferHandle)</argsstring>
        <name>CFE_SB_ZeroCopyPass</name>
        <param>
          <type><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref> *</type>
          <declname>MsgPtr</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref></type>
          <declname>BufferHandle</declname>
        </param>
        <briefdescription>
<para>Pass an SB message in &quot;zero copy&quot; mode. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine sends a message that has been created directly in an internal SB message buffer by an application (after a call to <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref>). This interface is more complicated than the normal <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> interface, but it avoids an extra copy of the message from the user&apos;s memory buffer to the software bus internal buffer. The &quot;zero copy&quot; interface can be used to improve performance in high-rate, high-volume software bus traffic. This version is intended to pass messages not generated by the caller (to preserve the source sequence count).</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><orderedlist>
<listitem><para>The pointer returned by <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> is only good for one call to <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> or <ref refid="cfe__sb_8h_1ab0908003ed01106c310b97d984be76b8" kindref="member">CFE_SB_ZeroCopyPass</ref>.</para></listitem><listitem><para>Callers must not use the same SB message buffer for multiple sends.</para></listitem><listitem><para>Applications should be written as if <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> is equivalent to a <computeroutput>malloc()</computeroutput> and <ref refid="cfe__sb_8h_1ab0908003ed01106c310b97d984be76b8" kindref="member">CFE_SB_ZeroCopyPass</ref> is equivalent to a <computeroutput>free()</computeroutput>.</para></listitem><listitem><para>Applications must not de-reference the message pointer (for reading or writing) after the call to <ref refid="cfe__sb_8h_1ab0908003ed01106c310b97d984be76b8" kindref="member">CFE_SB_ZeroCopyPass</ref>.</para></listitem><listitem><para>Unlike <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref> this routine will preserve the source sequence counter in a telemetry message.</para></listitem></orderedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">MsgPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>A pointer to the SB message to be sent.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">BufferHandle</parametername>
</parameternamelist>
<parameterdescription>
<para>The handle supplied with the <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> call.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="5" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para>Operation was performed successfully  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref> </para></entry><entry thead="no"><para>A parameter given by a caller to a Software Bus API did not pass validation checks.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1a07f24d1c49358bc9bb0b2d8dd19508bf" kindref="member">CFE_SB_MSG_TOO_BIG</ref> </para></entry><entry thead="no"><para>The size field in the message header indicates the message exceeds the max Software Bus message size. The max size is defined by configuration parameter <ref refid="cfe__mission__cfg_8h_1ac5a1b99c0ee718d0a9c8148e70ddd473" kindref="member">CFE_SB_MAX_SB_MSG_SIZE</ref> in <ref refid="cfe__mission__cfg_8h" kindref="compound">cfe_mission_cfg.h</ref>  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref> </para></entry><entry thead="no"><para>This error code will be returned from <ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref> when the memory in the SB message buffer pool has been depleted. The amount of memory in the pool is dictated by the configuration parameter #CFE_SB_BUF_MEMORY_BYTES specified in the cfe_platform_cfg.h file. Also the memory statistics, including current utilization figures and high water marks for the SB Buffer memory pool can be monitored by sending a Software Bus command to send the SB statistics packet.  </para></entry></row>
<row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ad3c572bc717c1354810f6765aa551546" kindref="member">CFE_SB_BUFFER_INVALID</ref> </para></entry><entry thead="no"><para>This error code will be returned when a request to release or send a zero copy buffer is invalid, such as if the handle or buffer is not correct or the buffer was previously released.  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__sb_8h_1ade2170aac98e2b761332d96e7af88ff1" kindref="member">CFE_SB_PassMsg</ref>, <ref refid="cfe__sb_8h_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>, <ref refid="cfe__sb_8h_1a89ec51d1986bec33c5a3b6605f92b04a" kindref="member">CFE_SB_ZeroCopyReleasePtr</ref>, <ref refid="cfe__sb_8h_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1937" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1937" bodyend="1950"/>
        <references refid="cfe__sb__priv_8h_1a80a2f3705478104e07069d85478e86b9" compoundref="cfe__sb__priv_8h" startline="136">CFE_SB_DO_NOT_INCREMENT</references>
        <references refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" compoundref="cfe__sb__priv_8h" startline="124">CFE_SB_SEND_ZEROCOPY</references>
        <references refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" compoundref="cfe__sb__api_8c" startline="1122" endline="1421">CFE_SB_SendMsgFull</references>
        <references refid="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" compoundref="cfe__sb__api_8c" startline="1835" endline="1872">CFE_SB_ZeroCopyReleaseDesc</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
      </memberdef>
      <memberdef kind="function" id="cfe__sb__api_8c_1a42ecc1a82d77b37c0a0728f3289aadd9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_SB_ReadQueue</definition>
        <argsstring>(CFE_SB_PipeD_t *PipeDscPtr, uint32 TskId, CFE_SB_TimeOut_t Time_Out, CFE_SB_BufferD_t **Message)</argsstring>
        <name>CFE_SB_ReadQueue</name>
        <param>
          <type><ref refid="struct_c_f_e___s_b___pipe_d__t" kindref="compound">CFE_SB_PipeD_t</ref> *</type>
          <declname>PipeDscPtr</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>TskId</declname>
        </param>
        <param>
          <type><ref refid="cfe__sb_8h_1a04b5b03f0c6a66ece34c3d3727cfc917" kindref="member">CFE_SB_TimeOut_t</ref></type>
          <declname>Time_Out</declname>
        </param>
        <param>
          <type><ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref> **</type>
          <declname>Message</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sb/cfe_sb_api.c" line="1979" column="1" bodyfile="sb/cfe_sb_api.c" bodystart="1979" bodyend="2042"/>
        <references refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" compoundref="cfe__sb__priv_8h" startline="291">cfe_sb_t::AppId</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" compoundref="cfe__evs_8h" startline="126">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef">CFE_EVS_SendEventWithAppID</references>
        <references refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" compoundref="cfe__sb__task_8c" startline="105">CFE_SB</references>
        <references refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" compoundref="cfe__sb__priv_8c" startline="601" endline="634">CFE_SB_GetAppTskName</references>
        <references refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" compoundref="cfe__sb__priv_8c" startline="453" endline="463">CFE_SB_GetPipeName</references>
        <references refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" compoundref="cfe__sb__priv_8c" startline="240" endline="257">CFE_SB_LockSharedData</references>
        <references refid="cfe__error_8h_1aa9ebdcf79be28ce49c79c12f20ce53b7" compoundref="cfe__error_8h" startline="796">CFE_SB_NO_MESSAGE</references>
        <references refid="cfe__sb_8h_1acc9e6f66cd026d1c987c4c3de827366f" compoundref="cfe__sb_8h" startline="88">CFE_SB_PEND_FOREVER</references>
        <references refid="cfe__error_8h_1a5975053b3478fa6ff2a2b5a6207bce19" compoundref="cfe__error_8h" startline="836">CFE_SB_PIPE_RD_ERR</references>
        <references refid="cfe__sb_8h_1a0c0ca8cca37a759bd5e68e81e73ce67a" compoundref="cfe__sb_8h" startline="87">CFE_SB_POLL</references>
        <references refid="cfe__sb__events_8h_1ae1ecf8ae10a18ce0df00205eac52b3f3" compoundref="cfe__sb__events_8h" startline="446">CFE_SB_Q_RD_ERR_EID</references>
        <references refid="cfe__error_8h_1a68b8b8ed93cecb670c945388a797e970" compoundref="cfe__error_8h" startline="788">CFE_SB_TIME_OUT</references>
        <references refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" compoundref="cfe__sb__priv_8c" startline="275" endline="292">CFE_SB_UnlockSharedData</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" compoundref="cfe__sb__priv_8h" startline="295">cfe_sb_t::HKTlmMsg</references>
        <references refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a805f919fb1a7cda4146afb7a9275cc24" compoundref="cfe__sb__msg_8h" startline="573">CFE_SB_HKMsg_Payload_t::InternalErrCnt</references>
        <references refid="osapi_8h_1a4a2422824f9b38df781a24d5905fe0ce" compoundref="osapi_8h" startline="119">OS_CHECK</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="osapi_8h_1ab2b5288ed3f6994990eff6125202d4dd" compoundref="osapi_8h" startline="118">OS_PEND</references>
        <references refid="osapi_8h_1a649aefc48b25fa31f54b59fe16fc501f" compoundref="osapi_8h" startline="95">OS_QUEUE_EMPTY</references>
        <references refid="osapi_8h_1a11a8fcc6118adb5c801e6b84739af6a0" compoundref="osapi_8h" startline="97">OS_QUEUE_TIMEOUT</references>
        <references refid="osapi-os-core_8h_1a6e563810965cdff38da7e4ec3347fce8" compoundref="osapi_8c" startline="1428" endline="1562">OS_QueueGet</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" compoundref="osapi_8h" startline="87">OS_SUCCESS</references>
        <references refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" compoundref="cfe__sb__msg_8h" startline="604">CFE_SB_HKMsg_t::Payload</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" compoundref="cfe__sb__priv_8h" startline="252">CFE_SB_PipeD_t::PipeId</references>
        <references refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" compoundref="cfe__sb__priv_8h" startline="257">CFE_SB_PipeD_t::SysQueueId</references>
        <referencedby refid="cfe__sb__api_8c_1a54840fe06aeb08b1e2c8df420474780d" compoundref="cfe__sb__api_8c" startline="1449" endline="1566">CFE_SB_RcvMsg</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment">**<sp/>File:<sp/>cfe_sb_api.c</highlight></codeline>
<codeline lineno="3"><highlight class="comment">**</highlight></codeline>
<codeline lineno="4"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>Copyright<sp/>(c)<sp/>2004-2012,<sp/>United<sp/>States<sp/>government<sp/>as<sp/>represented<sp/>by<sp/>the</highlight></codeline>
<codeline lineno="5"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>administrator<sp/>of<sp/>the<sp/>National<sp/>Aeronautics<sp/>Space<sp/>Administration.</highlight></codeline>
<codeline lineno="6"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>All<sp/>rights<sp/>reserved.<sp/>This<sp/>software(cFE)<sp/>was<sp/>created<sp/>at<sp/>NASA&apos;s<sp/>Goddard</highlight></codeline>
<codeline lineno="7"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>Space<sp/>Flight<sp/>Center<sp/>pursuant<sp/>to<sp/>government<sp/>contracts.</highlight></codeline>
<codeline lineno="8"><highlight class="comment">**</highlight></codeline>
<codeline lineno="9"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>is<sp/>governed<sp/>by<sp/>the<sp/>NASA<sp/>Open<sp/>Source<sp/>Agreement<sp/>and<sp/>may<sp/>be<sp/>used,</highlight></codeline>
<codeline lineno="10"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>distributed<sp/>and<sp/>modified<sp/>only<sp/>pursuant<sp/>to<sp/>the<sp/>terms<sp/>of<sp/>that<sp/>agreement.</highlight></codeline>
<codeline lineno="11"><highlight class="comment">**</highlight></codeline>
<codeline lineno="12"><highlight class="comment">**</highlight></codeline>
<codeline lineno="13"><highlight class="comment">**</highlight></codeline>
<codeline lineno="14"><highlight class="comment">**<sp/>Purpose:</highlight></codeline>
<codeline lineno="15"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>file<sp/>contains<sp/>the<sp/>source<sp/>code<sp/>for<sp/>the<sp/>SB<sp/>API&apos;s.</highlight></codeline>
<codeline lineno="16"><highlight class="comment">**</highlight></codeline>
<codeline lineno="17"><highlight class="comment">**<sp/>Author:<sp/><sp/><sp/>R.McGraw/SSI</highlight></codeline>
<codeline lineno="18"><highlight class="comment">**</highlight></codeline>
<codeline lineno="19"><highlight class="comment">**<sp/>$Log:<sp/>cfe_sb_api.c<sp/><sp/>$</highlight></codeline>
<codeline lineno="20"><highlight class="comment">**<sp/>Revision<sp/>1.40<sp/>2014/08/22<sp/>16:41:25GMT-05:00<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="21"><highlight class="comment">**<sp/>Change<sp/>signed<sp/>loop<sp/>counters<sp/>to<sp/>unsigned</highlight></codeline>
<codeline lineno="22"><highlight class="comment">**<sp/>Revision<sp/>1.39<sp/>2014/06/17<sp/>13:42:34EDT<sp/>rmcgraw<sp/></highlight></codeline>
<codeline lineno="23"><highlight class="comment">**<sp/>DCR18686:1<sp/>Initialized<sp/>all<sp/>AppId<sp/>and<sp/>CallerID&apos;s<sp/>with<sp/>0xFFFFFFFF</highlight></codeline>
<codeline lineno="24"><highlight class="comment">**<sp/>Revision<sp/>1.38<sp/>2014/05/05<sp/>14:47:16EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="25"><highlight class="comment">**<sp/>DCR19498:1<sp/>Fixed<sp/>buffers<sp/>in<sp/>use<sp/>count,<sp/>was<sp/>going<sp/>negative<sp/>for<sp/>zero<sp/>copy<sp/>transfers</highlight></codeline>
<codeline lineno="26"><highlight class="comment">**<sp/>Revision<sp/>1.37<sp/>2014/05/05<sp/>13:53:09EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="27"><highlight class="comment">**<sp/>DCR19578:1<sp/>-<sp/>Add<sp/>UnlockSharedData<sp/>for<sp/>errors<sp/>in<sp/>ZeroCopyReleaseDesc</highlight></codeline>
<codeline lineno="28"><highlight class="comment">**<sp/>Revision<sp/>1.36<sp/>2014/04/24<sp/>10:57:07EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="29"><highlight class="comment">**<sp/>DCR19487:1<sp/>-<sp/>Remove<sp/>size<sp/>argument<sp/>in<sp/>CFE_SB_GetBufferFromCaller</highlight></codeline>
<codeline lineno="30"><highlight class="comment">**<sp/>Revision<sp/>1.35<sp/>2012/07/09<sp/>15:00:18EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="31"><highlight class="comment">**<sp/>DCR19413:1<sp/>Release<sp/>buf<sp/>mem<sp/>for<sp/>zero<sp/>cpy<sp/>send,<sp/>no<sp/>subscribers<sp/>and<sp/>error<sp/>cases</highlight></codeline>
<codeline lineno="32"><highlight class="comment">**<sp/>Revision<sp/>1.34<sp/>2012/01/13<sp/>12:15:11EST<sp/>acudmore</highlight></codeline>
<codeline lineno="33"><highlight class="comment">**<sp/>Changed<sp/>license<sp/>text<sp/>to<sp/>reflect<sp/>open<sp/>source</highlight></codeline>
<codeline lineno="34"><highlight class="comment">**<sp/>Revision<sp/>1.33<sp/>2012/01/06<sp/>09:27:19EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="35"><highlight class="comment">**<sp/>DCR16100:1<sp/>Added<sp/>perf<sp/>markers<sp/>for<sp/>msg<sp/>lim<sp/>and<sp/>pipe<sp/>overflow<sp/>errors</highlight></codeline>
<codeline lineno="36"><highlight class="comment">**<sp/>Revision<sp/>1.32<sp/>2011/12/20<sp/>10:25:30GMT-05:00<sp/>rmcgraw</highlight></codeline>
<codeline lineno="37"><highlight class="comment">**<sp/>DCR15187:1<sp/>Removed<sp/>function<sp/>CFE_SB_DecrMsgLimCnt<sp/>and<sp/>MsgLim<sp/>Counter<sp/>error<sp/>event</highlight></codeline>
<codeline lineno="38"><highlight class="comment">**<sp/>Revision<sp/>1.31<sp/>2011/12/09<sp/>12:22:56EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="39"><highlight class="comment">**<sp/>DCR15763:1<sp/>Added<sp/>call<sp/>to<sp/>LockSharedData<sp/>for<sp/>case<sp/>of<sp/>invalid<sp/>pipe<sp/>id<sp/>rcvd<sp/>in<sp/>RcvMsg<sp/>API</highlight></codeline>
<codeline lineno="40"><highlight class="comment">**<sp/>Revision<sp/>1.30<sp/>2011/09/09<sp/>14:25:33EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="41"><highlight class="comment">**<sp/>Added<sp/>fix<sp/>for<sp/>ZeroCopy<sp/>issues</highlight></codeline>
<codeline lineno="42"><highlight class="comment">**<sp/>Revision<sp/>1.29<sp/>2011/04/29<sp/>10:04:48EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="43"><highlight class="comment">**<sp/>Add<sp/>check<sp/>for<sp/>NULL<sp/>ptr<sp/>in<sp/>send<sp/>loop</highlight></codeline>
<codeline lineno="44"><highlight class="comment">**<sp/>Revision<sp/>1.28<sp/>2011/04/28<sp/>10:37:31EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="45"><highlight class="comment">**<sp/>Fixed<sp/>compiler<sp/>error</highlight></codeline>
<codeline lineno="46"><highlight class="comment">**<sp/>Revision<sp/>1.27<sp/>2011/04/28<sp/>10:10:15EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="47"><highlight class="comment">**<sp/>DCR14592:1<sp/>Fix<sp/>for<sp/>the<sp/>SB<sp/>Send<sp/>semaphore<sp/>problem</highlight></codeline>
<codeline lineno="48"><highlight class="comment">**<sp/>Revision<sp/>1.26<sp/>2010/11/04<sp/>16:41:53EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="49"><highlight class="comment">**<sp/>Added<sp/>optional<sp/>sender<sp/>information<sp/>storage</highlight></codeline>
<codeline lineno="50"><highlight class="comment">**<sp/>Revision<sp/>1.25<sp/>2010/11/04<sp/>14:27:15EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="51"><highlight class="comment">**<sp/>Optimized<sp/>rcv<sp/>function</highlight></codeline>
<codeline lineno="52"><highlight class="comment">**<sp/>Revision<sp/>1.24<sp/>2010/11/03<sp/>15:07:01EDT<sp/>jmdagost</highlight></codeline>
<codeline lineno="53"><highlight class="comment">**<sp/>Added<sp/>cfe.h<sp/>include<sp/>file.</highlight></codeline>
<codeline lineno="54"><highlight class="comment">**<sp/>Revision<sp/>1.23<sp/>2009/07/29<sp/>19:23:26EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="55"><highlight class="comment">**<sp/>Updated<sp/>for<sp/>ZeroCopyHandle_t<sp/>and<sp/>GetPoolBufInfo</highlight></codeline>
<codeline lineno="56"><highlight class="comment">**<sp/>Revision<sp/>1.22<sp/>2009/07/24<sp/>18:27:10EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="57"><highlight class="comment">**<sp/>Added<sp/>Zero<sp/>Copy<sp/>Mode</highlight></codeline>
<codeline lineno="58"><highlight class="comment">**<sp/>Revision<sp/>1.21<sp/>2009/07/20<sp/>14:10:54EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="59"><highlight class="comment">**<sp/>Made<sp/>GetAppTskName<sp/>reentrant</highlight></codeline>
<codeline lineno="60"><highlight class="comment">**<sp/>Revision<sp/>1.20<sp/>2009/07/17<sp/>19:43:01EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="61"><highlight class="comment">**<sp/>Added<sp/>PassMsg<sp/>API<sp/>to<sp/>sb<sp/>to<sp/>support<sp/>sequence<sp/>count<sp/>preservation</highlight></codeline>
<codeline lineno="62"><highlight class="comment">**<sp/>Revision<sp/>1.19<sp/>2009/06/26<sp/>17:02:07EDT<sp/>aschoeni</highlight></codeline>
<codeline lineno="63"><highlight class="comment">**<sp/>Updated<sp/>SB<sp/>to<sp/>use<sp/>__func__<sp/>instead<sp/>of<sp/>__FILE__<sp/>for<sp/>lock<sp/>and<sp/>unlock<sp/>errors</highlight></codeline>
<codeline lineno="64"><highlight class="comment">**<sp/>Revision<sp/>1.18<sp/>2009/06/10<sp/>09:17:57EDT<sp/>acudmore</highlight></codeline>
<codeline lineno="65"><highlight class="comment">**<sp/>Updated<sp/>OS_Mem*<sp/>and<sp/>OS_BSP*<sp/>to<sp/>CFE_PSP_*</highlight></codeline>
<codeline lineno="66"><highlight class="comment">**<sp/>Revision<sp/>1.17<sp/>2009/05/08<sp/>11:27:08EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="67"><highlight class="comment">**<sp/>DCR7631:1<sp/>Removed<sp/>index<sp/>checks<sp/>in<sp/>Subscribe<sp/>and<sp/>Unsubscribe<sp/>-<sp/>dead<sp/>code<sp/>and<sp/>cannot<sp/>be<sp/>tested</highlight></codeline>
<codeline lineno="68"><highlight class="comment">**<sp/>Revision<sp/>1.16<sp/>2009/04/29<sp/>10:04:33EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="69"><highlight class="comment">**<sp/>DCR5801:11<sp/>Changed<sp/>subscription<sp/>return<sp/>value<sp/>when<sp/>buf<sp/>allocation<sp/>fails</highlight></codeline>
<codeline lineno="70"><highlight class="comment">**<sp/>Revision<sp/>1.15<sp/>2009/03/30<sp/>10:45:01EDT<sp/>rmcgraw</highlight></codeline>
<codeline lineno="71"><highlight class="comment">**<sp/>DCR5801:2<sp/>Fixed<sp/>infinite<sp/>loop<sp/>when<sp/>deleting<sp/>a<sp/>pipe<sp/>with<sp/>subscriptions</highlight></codeline>
<codeline lineno="72"><highlight class="comment">**<sp/>Revision<sp/>1.14<sp/>2009/02/26<sp/>17:57:39EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="73"><highlight class="comment">**<sp/>DCR6805:1<sp/>Corrected<sp/>note<sp/>under<sp/>SendMsg<sp/>API<sp/>prolog<sp/>regarding<sp/>seq<sp/>count</highlight></codeline>
<codeline lineno="74"><highlight class="comment">**<sp/>Revision<sp/>1.13<sp/>2009/02/10<sp/>16:53:23EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="75"><highlight class="comment">**<sp/>DCR1700:1<sp/>Decrement<sp/>pipes-in-use<sp/>counter<sp/>in<sp/>DeletePipe<sp/>API</highlight></codeline>
<codeline lineno="76"><highlight class="comment">**<sp/>Revision<sp/>1.12<sp/>2009/02/10<sp/>12:29:07EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="77"><highlight class="comment">**<sp/>DCR6956:1<sp/>In<sp/>Create<sp/>Pipe<sp/>API,<sp/>set<sp/>user&apos;s<sp/>pipe<sp/>id<sp/>to<sp/>invalid<sp/>for<sp/>error<sp/>cases</highlight></codeline>
<codeline lineno="78"><highlight class="comment">**<sp/>Revision<sp/>1.11<sp/>2009/02/10<sp/>11:25:56EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="79"><highlight class="comment">**<sp/>DCR1699:1<sp/>Removed<sp/>pipe<sp/>owner<sp/>in<sp/>five<sp/>events</highlight></codeline>
<codeline lineno="80"><highlight class="comment">**<sp/>Revision<sp/>1.10<sp/>2009/02/06<sp/>15:35:08EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="81"><highlight class="comment">**<sp/>DCR5801:3<sp/>Moved<sp/>Total<sp/>Msg<sp/>Size<sp/>test<sp/>before<sp/>the<sp/>lock<sp/>in<sp/>the<sp/>send<sp/>api</highlight></codeline>
<codeline lineno="82"><highlight class="comment">**<sp/>Revision<sp/>1.9<sp/>2009/02/06<sp/>11:29:04EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="83"><highlight class="comment">**<sp/>DCR5801:2<sp/>General<sp/>Cleanup</highlight></codeline>
<codeline lineno="84"><highlight class="comment">**<sp/>Revision<sp/>1.8<sp/>2009/02/03<sp/>16:33:29EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="85"><highlight class="comment">**<sp/>DCR5801:2<sp/>Fixed<sp/>DestPtr<sp/>errors<sp/>in<sp/>Send<sp/>API</highlight></codeline>
<codeline lineno="86"><highlight class="comment">**<sp/>Revision<sp/>1.7<sp/>2009/02/03<sp/>11:06:58EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="87"><highlight class="comment">**<sp/>DCR5801:2<sp/>Changed<sp/>destination<sp/>desciptors<sp/>from<sp/>array<sp/>based<sp/>to<sp/>linked<sp/>list</highlight></codeline>
<codeline lineno="88"><highlight class="comment">**<sp/>Revision<sp/>1.6<sp/>2009/01/30<sp/>12:27:07EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="89"><highlight class="comment">**<sp/>DCR5801:5<sp/>Removed<sp/>call<sp/>to<sp/>GetPipePtr<sp/>in<sp/>send<sp/>API<sp/>inside<sp/>loop</highlight></codeline>
<codeline lineno="90"><highlight class="comment">**<sp/>Revision<sp/>1.5<sp/>2009/01/30<sp/>11:50:07EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="91"><highlight class="comment">**<sp/>DCR5801:8<sp/>Set<sp/>users<sp/>ptr<sp/>to<sp/>null<sp/>only<sp/>when<sp/>readqueue<sp/>fails<sp/>in<sp/>rcv<sp/>API</highlight></codeline>
<codeline lineno="92"><highlight class="comment">**<sp/>Revision<sp/>1.4<sp/>2009/01/30<sp/>11:45:06EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="93"><highlight class="comment">**<sp/>DCR5801:9<sp/>Removed<sp/>unused<sp/>calls<sp/>to<sp/>GetAppID<sp/>in<sp/>send<sp/>and<sp/>rcv<sp/>APIs</highlight></codeline>
<codeline lineno="94"><highlight class="comment">**<sp/>Revision<sp/>1.3<sp/>2009/01/30<sp/>11:07:03EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="95"><highlight class="comment">**<sp/>DCR5801:3<sp/>Moved<sp/>the<sp/>semaphore<sp/>lock<sp/>in<sp/>the<sp/>send<sp/>and<sp/>rcv<sp/>API&apos;s</highlight></codeline>
<codeline lineno="96"><highlight class="comment">**<sp/>Revision<sp/>1.2<sp/>2009/01/30<sp/>10:34:57EST<sp/>rmcgraw</highlight></codeline>
<codeline lineno="97"><highlight class="comment">**<sp/>DCR5801:1<sp/>Began<sp/>tracking<sp/>subsribers<sp/>with<sp/>&apos;destinations&apos;<sp/>counter.</highlight></codeline>
<codeline lineno="98"><highlight class="comment">**<sp/>Revision<sp/>1.1<sp/>2008/04/17<sp/>08:05:30EDT<sp/>ruperera</highlight></codeline>
<codeline lineno="99"><highlight class="comment">**<sp/>Initial<sp/>revision</highlight></codeline>
<codeline lineno="100"><highlight class="comment">**<sp/>Member<sp/>added<sp/>to<sp/>cfe<sp/>project<sp/>on<sp/>tlserver3</highlight></codeline>
<codeline lineno="101"><highlight class="comment">**<sp/>Revision<sp/>1.74<sp/>2007/09/19<sp/>14:38:48EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="102"><highlight class="comment">**<sp/>DCR4421<sp/>Removed<sp/>use<sp/>count<sp/>err<sp/>events<sp/>and<sp/>reworded<sp/>buf<sp/>allocation<sp/>error<sp/>event</highlight></codeline>
<codeline lineno="103"><highlight class="comment">**<sp/>Revision<sp/>1.73<sp/>2007/09/19<sp/>12:01:46EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="104"><highlight class="comment">**<sp/>Return<sp/>code<sp/>in<sp/>unsubscribe<sp/>changed<sp/>from<sp/>no<sp/>subscribers<sp/>to<sp/>cfe<sp/>success</highlight></codeline>
<codeline lineno="105"><highlight class="comment">**<sp/>Revision<sp/>1.72<sp/>2007/09/13<sp/>09:34:09EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="106"><highlight class="comment">**<sp/>DCR4861:2<sp/>Added<sp/>check<sp/>in<sp/>SendMsg<sp/>to<sp/>prevent<sp/>recursive<sp/>event<sp/>problem</highlight></codeline>
<codeline lineno="107"><highlight class="comment">**<sp/>Revision<sp/>1.71<sp/>2007/08/17<sp/>15:59:51EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="108"><highlight class="comment">**<sp/>Changes<sp/>to<sp/>free<sp/>semaphore<sp/>before<sp/>calling<sp/>SendEventWithAppId</highlight></codeline>
<codeline lineno="109"><highlight class="comment">**<sp/>Revision<sp/>1.70<sp/>2007/07/12<sp/>16:58:22EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="110"><highlight class="comment">**<sp/>DCR4680:1<sp/>Removed<sp/>SB<sp/>event<sp/>log<sp/>related<sp/>items</highlight></codeline>
<codeline lineno="111"><highlight class="comment">**<sp/>Revision<sp/>1.69<sp/>2007/07/06<sp/>13:34:17EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="112"><highlight class="comment">**<sp/>DCR469:1<sp/>Added<sp/>GetLastSender<sp/>code</highlight></codeline>
<codeline lineno="113"><highlight class="comment">**<sp/>Revision<sp/>1.68<sp/>2007/04/24<sp/>11:07:18EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="114"><highlight class="comment">**<sp/>Added<sp/>PipeId<sp/>to<sp/>PipeDepthStats</highlight></codeline>
<codeline lineno="115"><highlight class="comment">**<sp/>Revision<sp/>1.67<sp/>2007/04/24<sp/>09:34:04EDT<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="116"><highlight class="comment">**<sp/>DCR3294<sp/>-<sp/>Added<sp/>pipe<sp/>depth<sp/>stats<sp/>to<sp/>several<sp/>SB<sp/>api&apos;s</highlight></codeline>
<codeline lineno="117"><highlight class="comment">**<sp/>Revision<sp/>1.66<sp/>2007/03/28<sp/>14:17:37EST<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="118"><highlight class="comment">**<sp/>Sending<sp/>TskId<sp/>instead<sp/>of<sp/>AppId<sp/>in<sp/>call<sp/>to<sp/>LogSBEvent<sp/>-<sp/>DCR2654</highlight></codeline>
<codeline lineno="119"><highlight class="comment">**<sp/>Revision<sp/>1.65<sp/>2007/03/27<sp/>13:42:28EST<sp/>rjmcgraw</highlight></codeline>
<codeline lineno="120"><highlight class="comment">**<sp/>Added<sp/>step<sp/>to<sp/>increment<sp/>new<sp/>duplicate<sp/>subscription<sp/>counter</highlight></codeline>
<codeline lineno="121"><highlight class="comment">**</highlight></codeline>
<codeline lineno="122"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="125"><highlight class="comment">**<sp/>Include<sp/>Files</highlight></codeline>
<codeline lineno="126"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="common__types_8h" kindref="compound">common_types.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__private_8h" kindref="compound">private/cfe_private.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__sb__events_8h" kindref="compound">cfe_sb_events.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__sb__priv_8h" kindref="compound">cfe_sb_priv.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__sb_8h" kindref="compound">cfe_sb.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="osapi_8h" kindref="compound">osapi.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__es_8h" kindref="compound">cfe_es.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cfe_psp.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__error_8h" kindref="compound">cfe_error.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="comment">/*<sp/></highlight></codeline>
<codeline lineno="139"><highlight class="comment"><sp/>*<sp/>Macro<sp/>to<sp/>reflect<sp/>size<sp/>of<sp/>PipeDepthStats<sp/>Telemetry<sp/>array<sp/>-<sp/></highlight></codeline>
<codeline lineno="140"><highlight class="comment"><sp/>*<sp/>this<sp/>may<sp/>or<sp/>may<sp/>not<sp/>be<sp/>the<sp/>same<sp/>as<sp/>CFE_SB_MSG_MAX_PIPES</highlight></codeline>
<codeline lineno="141"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142" refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CFE_SB_TLM_PIPEDEPTHSTATS_SIZE<sp/><sp/><sp/><sp/><sp/>(sizeof(CFE_SB.StatTlmMsg.Payload.PipeDepthStats)<sp/>/<sp/>sizeof(CFE_SB.StatTlmMsg.Payload.PipeDepthStats[0]))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="144"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_CreatePipe</highlight></codeline>
<codeline lineno="145"><highlight class="comment">**</highlight></codeline>
<codeline lineno="146"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>to<sp/>create<sp/>a<sp/>pipe<sp/>for<sp/>receiving<sp/>messages</highlight></codeline>
<codeline lineno="147"><highlight class="comment">**</highlight></codeline>
<codeline lineno="148"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="149"><highlight class="comment">**</highlight></codeline>
<codeline lineno="150"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>Zero<sp/>is<sp/>a<sp/>valid<sp/>PipeId</highlight></codeline>
<codeline lineno="151"><highlight class="comment">**</highlight></codeline>
<codeline lineno="152"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="153"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="154"><highlight class="comment">**</highlight></codeline>
<codeline lineno="155"><highlight class="comment">**<sp/>Inputs:</highlight></codeline>
<codeline lineno="156"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeIdPtr<sp/>-<sp/>Ptr<sp/>to<sp/>users<sp/>empty<sp/>PipeId<sp/>variable,<sp/>to<sp/>be<sp/>filled<sp/>by</highlight></codeline>
<codeline lineno="157"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this<sp/>function.</highlight></codeline>
<codeline lineno="158"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Depth<sp/><sp/><sp/><sp/><sp/>-<sp/>The<sp/>depth<sp/>of<sp/>the<sp/>pipe,<sp/>synonymous<sp/>to<sp/>the<sp/>max<sp/>number</highlight></codeline>
<codeline lineno="159"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>messages<sp/>the<sp/>pipe<sp/>can<sp/>hold<sp/>at<sp/>any<sp/>time.</highlight></codeline>
<codeline lineno="160"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeName<sp/><sp/>-<sp/>The<sp/>name<sp/>of<sp/>the<sp/>pipe<sp/>displayed<sp/>in<sp/>event<sp/>messages</highlight></codeline>
<codeline lineno="161"><highlight class="comment">**</highlight></codeline>
<codeline lineno="162"><highlight class="comment">**<sp/>Outputs:</highlight></codeline>
<codeline lineno="163"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId<sp/><sp/><sp/><sp/>-<sp/>The<sp/>handle<sp/>of<sp/>the<sp/>pipe<sp/>to<sp/>be<sp/>used<sp/>when<sp/>receiving</highlight></codeline>
<codeline lineno="164"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>messages.</highlight></codeline>
<codeline lineno="165"><highlight class="comment">**</highlight></codeline>
<codeline lineno="166"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="167"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="168"><highlight class="comment">**</highlight></codeline>
<codeline lineno="169"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170" refid="cfe__sb__api_8c_1ac169b781c59074e6cbab49325726c4e2" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1ac169b781c59074e6cbab49325726c4e2" kindref="member">CFE_SB_CreatePipe</ref>(<ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>*PipeIdPtr,<sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/>Depth,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*PipeName)</highlight></codeline>
<codeline lineno="171"><highlight class="normal">{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AppId<sp/>=<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SysQueueId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeTblIdx;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AppName[<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>]<sp/>=<sp/>{</highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>take<sp/>semaphore<sp/>to<sp/>prevent<sp/>a<sp/>task<sp/>switch<sp/>during<sp/>this<sp/>call<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/><ref refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" kindref="member">OS_TaskGetId</ref>();</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>user&apos;s<sp/>pipe<sp/>id<sp/>value<sp/>to<sp/>&apos;invalid&apos;<sp/>for<sp/>error<sp/>cases<sp/>below<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(PipeIdPtr<sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*PipeIdPtr<sp/>=<sp/><ref refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" kindref="member">CFE_SB_INVALID_PIPE</ref>;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>input<sp/>parameters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((PipeIdPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)||(Depth<sp/>&gt;<sp/>CFE_SB_MAX_PIPE_DEPTH)||(Depth<sp/>==<sp/>0)){</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abc6e0a9bc6d295dacb45013c31cafa31" kindref="member">CreatePipeErrCnt</ref>++;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a6f9b10791474db7aadf819dba68cb0a5" kindref="member">CFE_SB_CR_PIPE_BAD_ARG_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CreatePipeErr:Bad<sp/>Input<sp/>Arg:app=%s,ptr=0x%lx,depth=%d,maxdepth=%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)PipeIdPtr,Depth,CFE_SB_MAX_PIPE_DEPTH);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*end<sp/>if*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>first<sp/>available<sp/>entry<sp/>in<sp/>pipe<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>PipeTblIdx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a2f3b499727c38eb005301ab73b04a120" kindref="member">CFE_SB_GetAvailPipeIdx</ref>();</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>pipe<sp/>table<sp/>is<sp/>full,<sp/>send<sp/>event<sp/>and<sp/>return<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(PipeTblIdx<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" kindref="member">CFE_SB_INVALID_PIPE</ref>){</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a24c608a56ec85263903d93065d5d792a" kindref="member">CFE_SB_MAX_PIPES_MET_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CreatePipeErr:Max<sp/>Pipes(%d)In<sp/>Use.app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_MAX_PIPES,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1af72c6ae680c03227ba2263580157745a" kindref="member">CFE_SB_MAX_PIPES_MET</ref>;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>create<sp/>the<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="osapi-os-core_8h_1ae3e72f5403b7e3cac2c20ac65a5bb511" kindref="member">OS_QueueCreate</ref>(&amp;SysQueueId,PipeName,Depth,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/>*),0);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1af1c1fa676f909e3ab163dba611befc70" kindref="member">CFE_SB_CR_PIPE_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CreatePipeErr:OS_QueueCreate<sp/>returned<sp/>%d,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a862a08f1f8c99a989efe62b36947f087" kindref="member">CFE_SB_PIPE_CR_ERR</ref>;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>callers<sp/>AppId<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(&amp;AppId);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>callers<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1afd92c81b56467c04b95aa0440e8e3751" kindref="member">CFE_ES_GetAppName</ref>(AppName,<sp/>AppId,<sp/><ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Hardcode<sp/>a<sp/>NULL<sp/>terminator,<sp/>in<sp/>case<sp/>rcvd<sp/>name<sp/>was<sp/>too<sp/>long<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>AppName[<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>-1]=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>fill<sp/>in<sp/>the<sp/>pipe<sp/>table<sp/>fields<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1aee4ecc553a79e3a94f94dfa13535d023" kindref="member">InUse</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1a37a22bd6a07bb55768d2f1af2720fc10" kindref="member">CFE_SB_IN_USE</ref>;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" kindref="member">SysQueueId</ref><sp/><sp/>=<sp/>SysQueueId;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>PipeTblIdx;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a22f6d869fdc09cc321284ab4e3692cb7" kindref="member">QueueDepth</ref><sp/><sp/>=<sp/>Depth;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" kindref="member">AppId</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>AppId;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a76bf018c159c92eae7269d99c8029830" kindref="member">SendErrors</ref><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" kindref="member">CurrentBuff</ref><sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref><sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>strcpy(&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a865478ad5b0a0ceecce6404a987054a4" kindref="member">AppName</ref>[0],&amp;AppName[0]);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>strncpy(&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1adcdc596b1ea37288fe84d696c7f7e132" kindref="member">PipeName</ref>[0],PipeName,<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1adcdc596b1ea37288fe84d696c7f7e132" kindref="member">PipeName</ref>[<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>-1]=</highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Increment<sp/>the<sp/>Pipes<sp/>in<sp/>use<sp/>ctr<sp/>and<sp/>if<sp/>it&apos;s<sp/>&gt;<sp/>the<sp/>high<sp/>water<sp/>mark,*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>adjust<sp/>the<sp/>high<sp/>water<sp/>mark<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae9e840c679b1b8912c79abca5dc37a9e" kindref="member">PipesInUse</ref>++;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae9e840c679b1b8912c79abca5dc37a9e" kindref="member">PipesInUse</ref><sp/>&gt;<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a3177b29cd982b7e06c48b453bc863a7c" kindref="member">PeakPipesInUse</ref>){</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a3177b29cd982b7e06c48b453bc863a7c" kindref="member">PeakPipesInUse</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae9e840c679b1b8912c79abca5dc37a9e" kindref="member">PipesInUse</ref>;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reset<sp/>the<sp/>pipe<sp/>depth<sp/>parameters<sp/>in<sp/>the<sp/>statistics<sp/>pkt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(PipeTblIdx<sp/>&lt;<sp/><ref refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" kindref="member">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</ref>)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a81a22b174bd406c0575b9ead514b22d8" kindref="member">PipeId</ref><sp/>=<sp/>PipeTblIdx;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ad4738ab32eba5047d28c85d9a620eabe" kindref="member">Depth</ref><sp/>=<sp/>Depth;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" kindref="member">InUse</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a8e48327cf6bf91c42a3e4bfe5554adad" kindref="member">PeakInUse</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>give<sp/>the<sp/>pipe<sp/>handle<sp/>to<sp/>the<sp/>caller<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>*PipeIdPtr<sp/>=<sp/>PipeTblIdx;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>send<sp/>debug<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aa5ff1282f153a91a50a434614c1c1c1c" kindref="member">CFE_SB_PIPE_ADDED_EID</ref>,<ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member">CFE_EVS_DEBUG</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Pipe<sp/>Created:name<sp/>%s,id<sp/>%d,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref>),</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref>,</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_CreatePipe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="278"><highlight class="comment">**<sp/><sp/>Function:<sp/><sp/>CFE_SB_DeletePipe()</highlight></codeline>
<codeline lineno="279"><highlight class="comment">**</highlight></codeline>
<codeline lineno="280"><highlight class="comment">**<sp/><sp/>Purpose:</highlight></codeline>
<codeline lineno="281"><highlight class="comment">**<sp/><sp/><sp/><sp/>Will<sp/>unsubscribe<sp/>to<sp/>all<sp/>routes<sp/>associated<sp/>with<sp/>the<sp/>given<sp/>pipe<sp/>id,<sp/>then<sp/>remove</highlight></codeline>
<codeline lineno="282"><highlight class="comment">**<sp/><sp/><sp/><sp/>pipe<sp/>from<sp/>the<sp/>pipe<sp/>table.</highlight></codeline>
<codeline lineno="283"><highlight class="comment">**</highlight></codeline>
<codeline lineno="284"><highlight class="comment">**<sp/><sp/>Arguments:</highlight></codeline>
<codeline lineno="285"><highlight class="comment">**<sp/><sp/><sp/><sp/>PipeId<sp/>-<sp/>The<sp/>ID<sp/>of<sp/>the<sp/>pipe<sp/>to<sp/>delete.</highlight></codeline>
<codeline lineno="286"><highlight class="comment">**</highlight></codeline>
<codeline lineno="287"><highlight class="comment">**<sp/><sp/>Return:</highlight></codeline>
<codeline lineno="288"><highlight class="comment">**<sp/><sp/><sp/><sp/>CFE_SUCCESS<sp/>or<sp/>cFE<sp/>Error<sp/>Code</highlight></codeline>
<codeline lineno="289"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290" refid="cfe__sb__api_8c_1a268a5a36f7628873472456e02565bfcf" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a268a5a36f7628873472456e02565bfcf" kindref="member">CFE_SB_DeletePipe</ref>(<ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeId)</highlight></codeline>
<codeline lineno="291"><highlight class="normal">{</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>CallerId<sp/>=<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>the<sp/>callers<sp/>Application<sp/>Id<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(&amp;CallerId);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" kindref="member">CFE_SB_DeletePipeFull</ref>(PipeId,CallerId);</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_DeletePipe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="307"><highlight class="comment">**<sp/><sp/>Function:<sp/><sp/>CFE_SB_DeletePipeWithAppId()</highlight></codeline>
<codeline lineno="308"><highlight class="comment">**</highlight></codeline>
<codeline lineno="309"><highlight class="comment">**<sp/><sp/>Purpose:</highlight></codeline>
<codeline lineno="310"><highlight class="comment">**</highlight></codeline>
<codeline lineno="311"><highlight class="comment">**</highlight></codeline>
<codeline lineno="312"><highlight class="comment">**<sp/><sp/>Arguments:</highlight></codeline>
<codeline lineno="313"><highlight class="comment">**<sp/><sp/><sp/><sp/>PipeId<sp/>-<sp/>The<sp/>ID<sp/>of<sp/>the<sp/>pipe<sp/>to<sp/>delete.</highlight></codeline>
<codeline lineno="314"><highlight class="comment">**</highlight></codeline>
<codeline lineno="315"><highlight class="comment">**<sp/><sp/>Return:</highlight></codeline>
<codeline lineno="316"><highlight class="comment">**<sp/><sp/><sp/><sp/>CFE_SUCCESS<sp/>or<sp/>cFE<sp/>Error<sp/>Code</highlight></codeline>
<codeline lineno="317"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318" refid="cfe__sb__priv_8h_1a400c44b1cebfd28c4f4c1c30f27c42eb" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a400c44b1cebfd28c4f4c1c30f27c42eb" kindref="member">CFE_SB_DeletePipeWithAppId</ref>(<ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeId,<sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>AppId)</highlight></codeline>
<codeline lineno="319"><highlight class="normal">{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" kindref="member">CFE_SB_DeletePipeFull</ref>(PipeId,AppId);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_DeletePipeWithAppId<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="331"><highlight class="comment">**<sp/><sp/>Function:<sp/><sp/>CFE_SB_DeletePipeFull()</highlight></codeline>
<codeline lineno="332"><highlight class="comment">**</highlight></codeline>
<codeline lineno="333"><highlight class="comment">**<sp/><sp/>Purpose:</highlight></codeline>
<codeline lineno="334"><highlight class="comment">**<sp/><sp/><sp/><sp/>Will<sp/>unsubscribe<sp/>to<sp/>all<sp/>routes<sp/>associated<sp/>with<sp/>the<sp/>given<sp/>pipe<sp/>id,<sp/>then<sp/>remove</highlight></codeline>
<codeline lineno="335"><highlight class="comment">**<sp/><sp/><sp/><sp/>pipe<sp/>from<sp/>the<sp/>pipe<sp/>table.</highlight></codeline>
<codeline lineno="336"><highlight class="comment">**</highlight></codeline>
<codeline lineno="337"><highlight class="comment">**<sp/><sp/>NOTE:This<sp/>function<sp/>cannot<sp/>be<sp/>called<sp/>directly,<sp/>it<sp/>would<sp/>not<sp/>be<sp/>semaphore<sp/>protected</highlight></codeline>
<codeline lineno="338"><highlight class="comment">**</highlight></codeline>
<codeline lineno="339"><highlight class="comment">**<sp/><sp/>Arguments:</highlight></codeline>
<codeline lineno="340"><highlight class="comment">**<sp/><sp/><sp/><sp/>PipeId<sp/>-<sp/>The<sp/>ID<sp/>of<sp/>the<sp/>pipe<sp/>to<sp/>delete.</highlight></codeline>
<codeline lineno="341"><highlight class="comment">**</highlight></codeline>
<codeline lineno="342"><highlight class="comment">**<sp/><sp/>Return:</highlight></codeline>
<codeline lineno="343"><highlight class="comment">**<sp/><sp/><sp/><sp/>CFE_SUCCESS<sp/>or<sp/>cFE<sp/>Error<sp/>Code</highlight></codeline>
<codeline lineno="344"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345" refid="cfe__sb__priv_8h_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a3fcb0e77aacf844bdbefdc2b77b2d9c1" kindref="member">CFE_SB_DeletePipeFull</ref>(<ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeId,<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>AppId)</highlight></codeline>
<codeline lineno="346"><highlight class="normal">{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeTblIdx;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RtnFromVal,Stat;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Owner,i;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/>*PipeMsgPtr;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___destination_d__t" kindref="compound">CFE_SB_DestinationD_t</ref><sp/>*DestPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>take<sp/>semaphore<sp/>to<sp/>prevent<sp/>a<sp/>task<sp/>switch<sp/>during<sp/>this<sp/>call<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>TaskId<sp/>of<sp/>caller<sp/>for<sp/>events<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/><ref refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" kindref="member">OS_TaskGetId</ref>();</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>input<sp/>parameter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>PipeTblIdx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a64905d40b4b4d6ef20a69943afb624b4" kindref="member">CFE_SB_GetPipeIdx</ref>(PipeId);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/>RtnFromVal<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a0ba59d04948ba613ce0550c032f5cf98" kindref="member">CFE_SB_ValidatePipeId</ref>(PipeId);</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((RtnFromVal<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)||(PipeTblIdx<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" kindref="member">CFE_SB_INVALID_PIPE</ref>))</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abc6e0a9bc6d295dacb45013c31cafa31" kindref="member">CreatePipeErrCnt</ref>++;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aa7549492614e1ce10686f7bfed91b114" kindref="member">CFE_SB_DEL_PIPE_ERR1_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Pipe<sp/>Delete<sp/>Error:Bad<sp/>Argument,PipedId<sp/>%d,Requestor<sp/>%s,Idx<sp/>%d,Stat<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeTblIdx,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)RtnFromVal);</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>Owner<sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" kindref="member">AppId</ref>;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>the<sp/>given<sp/>AppId<sp/>is<sp/>the<sp/>owner<sp/>of<sp/>the<sp/>pipe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(AppId<sp/>!=<sp/>Owner){</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abc6e0a9bc6d295dacb45013c31cafa31" kindref="member">CreatePipeErrCnt</ref>++;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a63c4767ce6117a70e2a7d2b7105ea646" kindref="member">CFE_SB_DEL_PIPE_ERR2_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Pipe<sp/>Delete<sp/>Error:Caller(%s)<sp/>is<sp/>not<sp/>the<sp/>owner<sp/>of<sp/>pipe<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),PipeId);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>destination<sp/>list<sp/>of<sp/>every<sp/>in-use<sp/>MsgId,<sp/>for<sp/>the<sp/>given<sp/>pipeid.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>when<sp/>found,<sp/>remove<sp/>the<sp/>pipe<sp/>ID<sp/>from<sp/>the<sp/>destination<sp/>list<sp/>via<sp/>&apos;unsubscribe&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=0;i&lt;CFE_SB_MAX_MSG_IDS;i++){</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[i].<ref refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" kindref="member">MsgId</ref><sp/>!=<sp/><ref refid="cfe__sb__priv_8h_1ad5e2892f393253303e66416bbc91869d" kindref="member">CFE_SB_INVALID_MSG_ID</ref>){</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr<sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[i].<ref refid="struct_c_f_e___s_b___route_entry__t_1aa0f6d453782a0c589b55c22e82c7784e" kindref="member">ListHeadPtr</ref>;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(DestPtr<sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(DestPtr<sp/>-&gt;<sp/>PipeId<sp/>==<sp/>PipeId){</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>release<sp/>the<sp/>semaphore,<sp/>unsubscribe<sp/>will<sp/>need<sp/>to<sp/>take<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__api_8c_1a462455f0287804d4b979b953cbd4ae2b" kindref="member">CFE_SB_UnsubscribeWithAppId</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[i].<ref refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" kindref="member">MsgId</ref>,</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId,AppId);</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr<sp/>=<sp/>DestPtr<sp/>-&gt;<sp/>Next;</highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>while<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>for<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref><sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Decrement<sp/>the<sp/>Buffer<sp/>Use<sp/>Count<sp/>and<sp/>Free<sp/>buffer<sp/>if<sp/>cnt=0)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" kindref="member">CFE_SB_DecrBufUseCnt</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref>);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref><sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>remove<sp/>any<sp/>messages<sp/>that<sp/>might<sp/>be<sp/>on<sp/>the<sp/>pipe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>this<sp/>step<sp/>will<sp/>free<sp/>the<sp/>memory<sp/>used<sp/>to<sp/>store<sp/>the<sp/>message<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Stat<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref>(&amp;PipeMsgPtr,PipeId,<ref refid="cfe__sb_8h_1a0c0ca8cca37a759bd5e68e81e73ce67a" kindref="member">CFE_SB_POLL</ref>);</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(Stat<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Delete<sp/>the<sp/>underlying<sp/>OS<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-core_8h_1a15f67f089080b67931eb4d91564b367e" kindref="member">OS_QueueDelete</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" kindref="member">SysQueueId</ref>);</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>remove<sp/>the<sp/>pipe<sp/>from<sp/>the<sp/>pipe<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1aee4ecc553a79e3a94f94dfa13535d023" kindref="member">InUse</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1a61b7a420c4b730f4c253cf28e94f77c5" kindref="member">CFE_SB_NOT_IN_USE</ref>;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" kindref="member">SysQueueId</ref><sp/><sp/><sp/><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1ade485b7e25e839a3282b96e45bf23464" kindref="member">CFE_SB_UNUSED_QUEUE</ref>;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" kindref="member">CFE_SB_INVALID_PIPE</ref>;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" kindref="member">CurrentBuff</ref><sp/><sp/><sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/>CFE_PSP_MemSet(&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1adcdc596b1ea37288fe84d696c7f7e132" kindref="member">PipeName</ref>[0],0,<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>);</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>zero<sp/>out<sp/>the<sp/>pipe<sp/>depth<sp/>stats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(PipeTblIdx<sp/>&lt;<sp/><ref refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" kindref="member">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</ref>)</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a81a22b174bd406c0575b9ead514b22d8" kindref="member">PipeId</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ad4738ab32eba5047d28c85d9a620eabe" kindref="member">Depth</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" kindref="member">InUse</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeTblIdx].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a8e48327cf6bf91c42a3e4bfe5554adad" kindref="member">PeakInUse</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae9e840c679b1b8912c79abca5dc37a9e" kindref="member">PipesInUse</ref>--;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a72cc6ac67fa3c20a454a490c425f8245" kindref="member">CFE_SB_PIPE_DELETED_EID</ref>,<ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member">CFE_EVS_DEBUG</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Pipe<sp/>Deleted:id<sp/>%d,owner<sp/>%s&quot;</highlight><highlight class="normal">,PipeId,<sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(Owner,FullName));</highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_DeletePipeFull<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="459"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_SubscribeEx</highlight></codeline>
<codeline lineno="460"><highlight class="comment">**</highlight></codeline>
<codeline lineno="461"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>to<sp/>globally<sp/>subscribe<sp/>to<sp/>a<sp/>message<sp/>when<sp/>QOS<sp/>and<sp/>MsgLim<sp/>defaults</highlight></codeline>
<codeline lineno="462"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>are<sp/>insufficient.</highlight></codeline>
<codeline lineno="463"><highlight class="comment">**</highlight></codeline>
<codeline lineno="464"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="465"><highlight class="comment">**</highlight></codeline>
<codeline lineno="466"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>Qos<sp/>default:<sp/>priority<sp/>is<sp/>low,<sp/>reliability<sp/>is<sp/>low</highlight></codeline>
<codeline lineno="467"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>MsgLim<sp/>default:<sp/>4,<sp/>see<sp/>Input<sp/>Arguments<sp/>below<sp/>for<sp/>more<sp/>detail</highlight></codeline>
<codeline lineno="468"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>Qos<sp/>parameter<sp/>is<sp/>currently<sp/>unused<sp/>by<sp/>the<sp/>fsw.<sp/>It<sp/>is<sp/>recommended</highlight></codeline>
<codeline lineno="469"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>give<sp/>a<sp/>value<sp/>of<sp/>zero<sp/>for<sp/>Quality.Priority<sp/>and<sp/>Quality.Reliability</highlight></codeline>
<codeline lineno="470"><highlight class="comment">**</highlight></codeline>
<codeline lineno="471"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="472"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="473"><highlight class="comment">**</highlight></codeline>
<codeline lineno="474"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="475"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId<sp/><sp/><sp/>-<sp/>The<sp/>requesting<sp/>message</highlight></codeline>
<codeline lineno="476"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId<sp/><sp/>-<sp/>The<sp/>Pipe<sp/>ID<sp/>to<sp/>send<sp/>the<sp/>message<sp/>to</highlight></codeline>
<codeline lineno="477"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quality<sp/>-<sp/>Quality<sp/>of<sp/>Service<sp/>(Qos)<sp/>-<sp/>priority<sp/>and<sp/>reliability,</highlight></codeline>
<codeline lineno="478"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>see<sp/>note<sp/>above<sp/>for<sp/>recommended<sp/>settings</highlight></codeline>
<codeline lineno="479"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim<sp/><sp/>-<sp/>Max<sp/>number<sp/>of<sp/>messages,<sp/>with<sp/>this<sp/>MsgId,<sp/>allowed<sp/>on<sp/>the</highlight></codeline>
<codeline lineno="480"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pipe<sp/>at<sp/>any<sp/>time.</highlight></codeline>
<codeline lineno="481"><highlight class="comment">**</highlight></codeline>
<codeline lineno="482"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="483"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="484"><highlight class="comment">**</highlight></codeline>
<codeline lineno="485"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="486"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="487"><highlight class="comment">**</highlight></codeline>
<codeline lineno="488"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489" refid="cfe__sb__api_8c_1a5939c3681044a3d953d0fe72dd577889" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1a5939c3681044a3d953d0fe72dd577889" kindref="member">CFE_SB_SubscribeEx</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/><sp/><sp/>MsgId,</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/><sp/>PipeId,</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___qos__t" kindref="compound">CFE_SB_Qos_t</ref><sp/><sp/><sp/><sp/><sp/>Quality,</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim)</highlight></codeline>
<codeline lineno="493"><highlight class="normal">{</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" kindref="member">CFE_SB_SubscribeFull</ref>(MsgId,PipeId,Quality,MsgLim,(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref>)<ref refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" kindref="member">CFE_SB_GLOBAL</ref>);</highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_SubscribeEx<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="502"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_SubscribeLocal</highlight></codeline>
<codeline lineno="503"><highlight class="comment">**</highlight></codeline>
<codeline lineno="504"><highlight class="comment">**<sp/>Purpose:<sp/>CFE<sp/>Internal<sp/>API<sp/>to<sp/>locally<sp/>subscribe<sp/>to<sp/>a<sp/>message<sp/>when<sp/>QOS<sp/>and</highlight></codeline>
<codeline lineno="505"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim<sp/>defaults<sp/>are<sp/>insufficient.</highlight></codeline>
<codeline lineno="506"><highlight class="comment">**</highlight></codeline>
<codeline lineno="507"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="508"><highlight class="comment">**</highlight></codeline>
<codeline lineno="509"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>Qos<sp/>default:<sp/>priority<sp/>is<sp/>low,<sp/>reliability<sp/>is<sp/>low</highlight></codeline>
<codeline lineno="510"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim<sp/>default:<sp/>4<sp/>-<sp/>meaning<sp/>at<sp/>most<sp/>4<sp/>messages<sp/>of<sp/>given</highlight></codeline>
<codeline lineno="511"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId<sp/>allowed<sp/>on<sp/>the<sp/>given<sp/>PipeId.</highlight></codeline>
<codeline lineno="512"><highlight class="comment">**</highlight></codeline>
<codeline lineno="513"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="514"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="515"><highlight class="comment">**</highlight></codeline>
<codeline lineno="516"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="517"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId<sp/><sp/><sp/>-<sp/>The<sp/>requesting<sp/>message</highlight></codeline>
<codeline lineno="518"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId<sp/><sp/>-<sp/>The<sp/>Pipe<sp/>ID<sp/>to<sp/>send<sp/>the<sp/>message<sp/>to</highlight></codeline>
<codeline lineno="519"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim<sp/><sp/>-<sp/>Max<sp/>number<sp/>of<sp/>messages,<sp/>with<sp/>this<sp/>MsgId,<sp/>allowed<sp/>on<sp/>the</highlight></codeline>
<codeline lineno="520"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pipe<sp/>at<sp/>any<sp/>time.</highlight></codeline>
<codeline lineno="521"><highlight class="comment">**</highlight></codeline>
<codeline lineno="522"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="523"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="524"><highlight class="comment">**</highlight></codeline>
<codeline lineno="525"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="526"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="527"><highlight class="comment">**</highlight></codeline>
<codeline lineno="528"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529" refid="cfe__sb__api_8c_1a72139ef72948ee8dddc4fe17eb174c22" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a72139ef72948ee8dddc4fe17eb174c22" kindref="member">CFE_SB_SubscribeLocal</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/><sp/><sp/>MsgId,</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/><sp/>PipeId,</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim)</highlight></codeline>
<codeline lineno="532"><highlight class="normal">{</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" kindref="member">CFE_SB_SubscribeFull</ref>(MsgId,PipeId,<ref refid="cfe__sb_8h_1aa20e8d7fe06a65514dd39e65a7be5ca5" kindref="member">CFE_SB_Default_Qos</ref>,MsgLim,</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref>)<ref refid="cfe__sb__priv_8h_1ad117920a479061f45f4587b4a867976d" kindref="member">CFE_SB_LOCAL</ref>);</highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_SubscribeLocal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="542"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_Subscribe</highlight></codeline>
<codeline lineno="543"><highlight class="comment">**</highlight></codeline>
<codeline lineno="544"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>to<sp/>locally<sp/>subscribe<sp/>to<sp/>a<sp/>message<sp/>when<sp/>QOS<sp/>and<sp/>MsgLim<sp/>defaults</highlight></codeline>
<codeline lineno="545"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>are<sp/>sufficient.</highlight></codeline>
<codeline lineno="546"><highlight class="comment">**</highlight></codeline>
<codeline lineno="547"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="548"><highlight class="comment">**</highlight></codeline>
<codeline lineno="549"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>Qos<sp/>default:<sp/>priority<sp/>is<sp/>low,<sp/>reliability<sp/>is<sp/>low</highlight></codeline>
<codeline lineno="550"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim<sp/>default:<sp/>4<sp/>-<sp/>meaning<sp/>at<sp/>most<sp/>4<sp/>messages<sp/>of<sp/>given</highlight></codeline>
<codeline lineno="551"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId<sp/>allowed<sp/>on<sp/>the<sp/>given<sp/>PipeId.</highlight></codeline>
<codeline lineno="552"><highlight class="comment">**</highlight></codeline>
<codeline lineno="553"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="554"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="555"><highlight class="comment">**</highlight></codeline>
<codeline lineno="556"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="557"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId<sp/><sp/><sp/>-<sp/>The<sp/>requesting<sp/>message</highlight></codeline>
<codeline lineno="558"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId<sp/><sp/>-<sp/>The<sp/>Pipe<sp/>ID<sp/>to<sp/>send<sp/>the<sp/>message<sp/>to</highlight></codeline>
<codeline lineno="559"><highlight class="comment">**</highlight></codeline>
<codeline lineno="560"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="561"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="562"><highlight class="comment">**</highlight></codeline>
<codeline lineno="563"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="564"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="565"><highlight class="comment">**</highlight></codeline>
<codeline lineno="566"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567" refid="cfe__sb__api_8c_1afc2c2db1a504f544b430f33f28be769b" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1afc2c2db1a504f544b430f33f28be769b" kindref="member">CFE_SB_Subscribe</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/><sp/><sp/>MsgId,</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/><sp/>PipeId)</highlight></codeline>
<codeline lineno="569"><highlight class="normal">{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" kindref="member">CFE_SB_SubscribeFull</ref>(MsgId,PipeId,<ref refid="cfe__sb_8h_1aa20e8d7fe06a65514dd39e65a7be5ca5" kindref="member">CFE_SB_Default_Qos</ref>,</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref>)CFE_SB_DEFAULT_MSG_LIMIT,</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref>)<ref refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" kindref="member">CFE_SB_GLOBAL</ref>);</highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_Subscribe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="578"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_SubscribeFull</highlight></codeline>
<codeline lineno="579"><highlight class="comment">**</highlight></codeline>
<codeline lineno="580"><highlight class="comment">**<sp/>Purpose:<sp/>CFE<sp/>Internal<sp/>API<sp/>used<sp/>to<sp/>subscribe<sp/>to<sp/>a<sp/>message.<sp/>Contains<sp/>an<sp/>input</highlight></codeline>
<codeline lineno="581"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parameter<sp/>for<sp/>all<sp/>possible<sp/>subscription<sp/>choices.<sp/>This<sp/>function<sp/>is</highlight></codeline>
<codeline lineno="582"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>called<sp/>by<sp/>CFE_SB_SubscribeEx,<sp/>CFE_SB_Subscribe<sp/>and</highlight></codeline>
<codeline lineno="583"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_SubscribeLocal.</highlight></codeline>
<codeline lineno="584"><highlight class="comment">**</highlight></codeline>
<codeline lineno="585"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="586"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="587"><highlight class="comment">**</highlight></codeline>
<codeline lineno="588"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="589"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="590"><highlight class="comment">**</highlight></codeline>
<codeline lineno="591"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="592"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId<sp/><sp/><sp/>-<sp/>The<sp/>requesting<sp/>message</highlight></codeline>
<codeline lineno="593"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId<sp/><sp/>-<sp/>The<sp/>Pipe<sp/>ID<sp/>to<sp/>send<sp/>the<sp/>message<sp/>to</highlight></codeline>
<codeline lineno="594"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quality<sp/>-<sp/>Quality<sp/>of<sp/>Service<sp/>(Qos)<sp/>-<sp/>priority<sp/>and<sp/>reliability</highlight></codeline>
<codeline lineno="595"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim<sp/><sp/>-<sp/>Max<sp/>number<sp/>of<sp/>messages,<sp/>with<sp/>this<sp/>MsgId,<sp/>allowed<sp/>on<sp/>the</highlight></codeline>
<codeline lineno="596"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pipe<sp/>at<sp/>any<sp/>time.</highlight></codeline>
<codeline lineno="597"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Scope<sp/><sp/><sp/>-<sp/>Local<sp/>subscription<sp/>or<sp/>broadcasted<sp/>to<sp/>peers</highlight></codeline>
<codeline lineno="598"><highlight class="comment">**</highlight></codeline>
<codeline lineno="599"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="600"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="601"><highlight class="comment">**</highlight></codeline>
<codeline lineno="602"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="603"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="604"><highlight class="comment">**</highlight></codeline>
<codeline lineno="605"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="606" refid="cfe__sb__priv_8h_1ac5d1727dd8072b5548cb7b7e028fbe09" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1ac5d1727dd8072b5548cb7b7e028fbe09" kindref="member">CFE_SB_SubscribeFull</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/><sp/><sp/>MsgId,</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/><sp/>PipeId,</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___qos__t" kindref="compound">CFE_SB_Qos_t</ref><sp/><sp/><sp/><sp/><sp/>Quality,</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgLim,</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Scope)</highlight></codeline>
<codeline lineno="611"><highlight class="normal">{</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/>Idx;</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/>Stat;</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>TskId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>AppId<sp/>=<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref><sp/><sp/>PipeIdx;</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___destination_d__t" kindref="compound">CFE_SB_DestinationD_t</ref><sp/>*DestBlkPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>take<sp/>semaphore<sp/>to<sp/>prevent<sp/>a<sp/>task<sp/>switch<sp/>during<sp/>this<sp/>call<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="622"><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>task<sp/>id<sp/>for<sp/>events<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/><ref refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" kindref="member">OS_TaskGetId</ref>();</highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>the<sp/>callers<sp/>Application<sp/>Id<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(&amp;AppId);</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>the<sp/>pipe<sp/>has<sp/>been<sp/>created<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/>PipeIdx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a64905d40b4b4d6ef20a69943afb624b4" kindref="member">CFE_SB_GetPipeIdx</ref>(PipeId);</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(PipeIdx==<ref refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" kindref="member">CFE_SB_INVALID_PIPE</ref>){</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a3a961502affbf30bd3e89539688a8491" kindref="member">SubscribeErrCnt</ref>++;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1afb22f9e3a04b74b2088990b6d054881f" kindref="member">CFE_SB_SUB_INV_PIPE_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscribe<sp/>Err:Invalid<sp/>Pipe<sp/>Id,Msg=0x%x,PipeId=%d,App<sp/>%s&quot;</highlight><highlight class="normal">,MsgId,PipeId,</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>the<sp/>requestor<sp/>is<sp/>the<sp/>owner<sp/>of<sp/>the<sp/>pipe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" kindref="member">AppId</ref><sp/>!=<sp/>AppId){</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a3a961502affbf30bd3e89539688a8491" kindref="member">SubscribeErrCnt</ref>++;</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a6a79ab5795cfc7b6e3f00aa3a423eacb" kindref="member">CFE_SB_SUB_INV_CALLER_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscribe<sp/>Err:Caller(%s)<sp/>is<sp/>not<sp/>the<sp/>owner<sp/>of<sp/>pipe<sp/>%d,Msg=0x%x&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),PipeId,MsgId);</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>message<sp/>id<sp/>and<sp/>scope<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="cfe__sb__priv_8c_1affd094305f35ceb2452540d9adac015b" kindref="member">CFE_SB_ValidateMsgId</ref>(MsgId)<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)||(Scope<sp/>&gt;<sp/>1))</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a3a961502affbf30bd3e89539688a8491" kindref="member">SubscribeErrCnt</ref>++;</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1abd0005ffef2e4e68be9bd1aad47bccab" kindref="member">CFE_SB_SUB_ARG_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscribe<sp/>Err:Bad<sp/>Arg,MsgId<sp/>0x%x,PipeId<sp/>%d,app<sp/>%s,scope<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId,PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),Scope);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>for<sp/>duplicate<sp/>subscription<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1a8c702e5140d529acf6278fff8d8b1362" kindref="member">CFE_SB_DuplicateSubscribeCheck</ref>(MsgId,PipeId)==<ref refid="cfe__sb__priv_8h_1abdaf28b59a92bc6dbbaac80ce0cbb00d" kindref="member">CFE_SB_DUPLICATE</ref>){</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a8f67a325c75bdd236e8572ce26e0e4b1" kindref="member">DupSubscriptionsCnt</ref>++;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a04a43c8a570afab1d1a02c1456c0b0f2" kindref="member">CFE_SB_DUP_SUBSCRIP_EID</ref>,<ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member">CFE_EVS_INFORMATION</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Duplicate<sp/>Subscription,MsgId<sp/>0x%x<sp/>on<sp/>%s<sp/>pipe,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId,<ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(PipeId),<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"></highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="672"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>If<sp/>there<sp/>has<sp/>been<sp/>a<sp/>subscription<sp/>for<sp/>this<sp/>message<sp/>id<sp/>earlier,</highlight></codeline>
<codeline lineno="673"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>get<sp/>the<sp/>element<sp/>number<sp/>in<sp/>the<sp/>routing<sp/>table.</highlight></codeline>
<codeline lineno="674"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/>Idx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a9ef1179eae9f13d7648876b838c03b26" kindref="member">CFE_SB_GetRoutingTblIdx</ref>(MsgId);</highlight></codeline>
<codeline lineno="676"><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>first<sp/>subscription<sp/>for<sp/>this<sp/>message...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Idx==<ref refid="cfe__sb__priv_8h_1ade8cd3834120ca7ab077203207e5194c" kindref="member">CFE_SB_AVAILABLE</ref>){</highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>index<sp/>to<sp/>the<sp/>first<sp/>available<sp/>element<sp/>in<sp/>the<sp/>routing<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Idx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1ab9f590bcd33c7615a7a7f14167ed04c4" kindref="member">CFE_SB_GetAvailRoutingIdx</ref>();</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>all<sp/>routing<sp/>table<sp/>elements<sp/>are<sp/>used,<sp/>send<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Idx<sp/>&gt;=<sp/>CFE_SB_MAX_MSG_IDS){</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aea35c5f696a9ece8364b00ba4c3d4896" kindref="member">CFE_SB_MAX_MSGS_MET_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscribe<sp/>Err:Max<sp/>Msgs(%d)In<sp/>Use,MsgId<sp/>0x%x,pipe<sp/>%s,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_MAX_MSG_IDS,MsgId,<ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(PipeId),<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a4805de4690c87ca5299eb8a0be1226a1" kindref="member">CFE_SB_MAX_MSGS_MET</ref>;</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Increment<sp/>the<sp/>MsgIds<sp/>in<sp/>use<sp/>ctr<sp/>and<sp/>if<sp/>it&apos;s<sp/>&gt;<sp/>the<sp/>high<sp/>water<sp/>mark,*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>adjust<sp/>the<sp/>high<sp/>water<sp/>mark<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acc648d6130ed253a42dfaf16c2033458" kindref="member">MsgIdsInUse</ref>++;</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acc648d6130ed253a42dfaf16c2033458" kindref="member">MsgIdsInUse</ref><sp/>&gt;<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a612355ed819acfc4f829686edc3c6404" kindref="member">PeakMsgIdsInUse</ref>){</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a612355ed819acfc4f829686edc3c6404" kindref="member">PeakMsgIdsInUse</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acc648d6130ed253a42dfaf16c2033458" kindref="member">MsgIdsInUse</ref>;</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>populate<sp/>the<sp/>look<sp/>up<sp/>table<sp/>with<sp/>the<sp/>routing<sp/>table<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a924b490b166f6b82aef7d70fb1bd6677" kindref="member">CFE_SB_SetRoutingTblIdx</ref>(MsgId,Idx);</highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>label<sp/>the<sp/>new<sp/>routing<sp/>block<sp/>with<sp/>the<sp/>message<sp/>identifier<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[Idx].<ref refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" kindref="member">MsgId</ref><sp/>=<sp/>MsgId;</highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[Idx].<ref refid="struct_c_f_e___s_b___route_entry__t_1a281f94b6809f59b45c05b73765d8fe4e" kindref="member">Destinations</ref><sp/>&gt;=<sp/>CFE_SB_MAX_DEST_PER_PKT){</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a6eec4a76378d6503e5e4c9bfc9484930" kindref="member">CFE_SB_MAX_DESTS_MET_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscribe<sp/>Err:Max<sp/>Dests(%d)In<sp/>Use<sp/>For<sp/>Msg<sp/>0x%x,pipe<sp/>%s,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_MAX_DEST_PER_PKT,MsgId,<ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(PipeId),</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1aa11b3471244f9f583d03d27156d206e1" kindref="member">CFE_SB_MAX_DESTS_MET</ref>;</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>=<sp/><ref refid="cfe__sb__buf_8c_1a03935efec131d0b26d05c1410d4e4d45" kindref="member">CFE_SB_GetDestinationBlk</ref>();</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(DestBlkPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a1fc67b8b066213fbae9f916900534d23" kindref="member">CFE_SB_DEST_BLK_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscribe<sp/>Err:Request<sp/>for<sp/>Destination<sp/>Blk<sp/>failed<sp/>for<sp/>Msg<sp/>0x%x&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MsgId);</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref>;</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>initialize<sp/>destination<sp/>block<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>PipeId<sp/>=<sp/>PipeId;</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>MsgId2PipeLim<sp/>=<sp/>(<ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref>)MsgLim;</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>Active<sp/>=<sp/><ref refid="cfe__sb__priv_8h_1add635f6e2805091369b9cb4fc5752b4d" kindref="member">CFE_SB_ACTIVE</ref>;</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>BuffCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>DestCnt<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>Scope<sp/>=<sp/>Scope;</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>Prev<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/>DestBlkPtr<sp/>-&gt;<sp/>Next<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="733"><highlight class="normal"></highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>add<sp/>destination<sp/>block<sp/>to<sp/>head<sp/>of<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a0b3015e0fb06715ca67e53e28cf133a2" kindref="member">CFE_SB_AddDest</ref>(Idx,<sp/>DestBlkPtr);</highlight></codeline>
<codeline lineno="736"><highlight class="normal"></highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[Idx].<ref refid="struct_c_f_e___s_b___route_entry__t_1a281f94b6809f59b45c05b73765d8fe4e" kindref="member">Destinations</ref>++;</highlight></codeline>
<codeline lineno="738"><highlight class="normal"></highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae0469ecff4396cbe36a61e042b910187" kindref="member">SubscriptionsInUse</ref>++;</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae0469ecff4396cbe36a61e042b910187" kindref="member">SubscriptionsInUse</ref><sp/>&gt;<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1afff69951138831dad0892419f6e8db0b" kindref="member">PeakSubscriptionsInUse</ref>)</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1afff69951138831dad0892419f6e8db0b" kindref="member">PeakSubscriptionsInUse</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae0469ecff4396cbe36a61e042b910187" kindref="member">SubscriptionsInUse</ref>;</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a28d2211968e0b9eac2abed73ba3edfd5" kindref="member">SubscriptionReporting</ref><sp/>==<sp/><ref refid="cfe__sb__priv_8h_1a4094c63c03474476111fe10c11ab122b" kindref="member">CFE_SB_ENABLE</ref>)&amp;&amp;(Scope==<ref refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" kindref="member">CFE_SB_GLOBAL</ref>)){</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a86f714ea447258b867fb4c63815be40d" kindref="member">MsgId</ref><sp/>=<sp/>MsgId;</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a71c4ac17cd0146e7c505ef850bd6c5d8" kindref="member">Pipe</ref><sp/>=<sp/>PipeId;</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a2c2c940989e32534aa73b50b748b412e" kindref="member">Qos</ref>.<ref refid="struct_c_f_e___s_b___qos__t_1ad3d2be85fd6ae49344ed70aa0a57df0c" kindref="member">Priority</ref><sp/>=<sp/>Quality.<ref refid="struct_c_f_e___s_b___qos__t_1ad3d2be85fd6ae49344ed70aa0a57df0c" kindref="member">Priority</ref>;</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a2c2c940989e32534aa73b50b748b412e" kindref="member">Qos</ref>.<ref refid="struct_c_f_e___s_b___qos__t_1adff0dd4ccb04e862db28afe8b4722cfb" kindref="member">Reliability</ref><sp/>=<sp/>Quality.<ref refid="struct_c_f_e___s_b___qos__t_1adff0dd4ccb04e862db28afe8b4722cfb" kindref="member">Reliability</ref>;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1aa921fee5d18f656d14b67eb858514d48" kindref="member">SubType</ref><sp/>=<sp/><ref refid="cfe__sb_8h_1a28842c3298db0d367a64cb79d56220c6" kindref="member">CFE_SB_SUBSCRIPTION</ref>;</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Stat<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref>((<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/>*)&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>);</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a14faf18594bd890811fad4c50941dcc7" kindref="member">CFE_SB_SUBSCRIPTION_RPT_EID</ref>,<ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member">CFE_EVS_DEBUG</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Sending<sp/>Subscription<sp/>Report<sp/>Msg=0x%x,Pipe=%d,Stat=0x%x&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MsgId,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Stat);</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight><highlight class="comment">/*<sp/>to<sp/>prevent<sp/>back-to-back<sp/>unlock<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>release<sp/>the<sp/>semaphore<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a7e2ddce30ca96403f818b9e4b40103df" kindref="member">CFE_SB_SUBSCRIPTION_RCVD_EID</ref>,<ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member">CFE_EVS_DEBUG</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscription<sp/>Rcvd:MsgId<sp/>0x%x<sp/>on<sp/>%s(%d),app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MsgId,<ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(PipeId),(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="765"><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="767"><highlight class="normal"></highlight></codeline>
<codeline lineno="768"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_SubscribeFull<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="772"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_Unsubscribe</highlight></codeline>
<codeline lineno="773"><highlight class="comment">**</highlight></codeline>
<codeline lineno="774"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>to<sp/>unsubscribe<sp/>to<sp/>a<sp/>message.</highlight></codeline>
<codeline lineno="775"><highlight class="comment">**</highlight></codeline>
<codeline lineno="776"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="777"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="778"><highlight class="comment">**</highlight></codeline>
<codeline lineno="779"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="780"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId</highlight></codeline>
<codeline lineno="781"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId</highlight></codeline>
<codeline lineno="782"><highlight class="comment">**</highlight></codeline>
<codeline lineno="783"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="784"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="785"><highlight class="comment">**</highlight></codeline>
<codeline lineno="786"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="787"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="788"><highlight class="comment">**</highlight></codeline>
<codeline lineno="789"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790" refid="cfe__sb__api_8c_1a70ea901e65f03221e3787d73733db060" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a70ea901e65f03221e3787d73733db060" kindref="member">CFE_SB_Unsubscribe</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/>MsgId,<sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeId)</highlight></codeline>
<codeline lineno="791"><highlight class="normal">{</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>CallerId<sp/>=<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"></highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>the<sp/>callers<sp/>Application<sp/>Id<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(&amp;CallerId);</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" kindref="member">CFE_SB_UnsubscribeFull</ref>(MsgId,<sp/>PipeId,<sp/>(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref>)<ref refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" kindref="member">CFE_SB_GLOBAL</ref>,CallerId);</highlight></codeline>
<codeline lineno="799"><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_Unsubscribe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"></highlight></codeline>
<codeline lineno="804"><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="806"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_UnsubscribeLocal</highlight></codeline>
<codeline lineno="807"><highlight class="comment">**</highlight></codeline>
<codeline lineno="808"><highlight class="comment">**<sp/>Purpose:<sp/>CFE<sp/>Internal<sp/>API<sp/>used<sp/>to<sp/>locally<sp/>unsubscribe<sp/>to<sp/>a<sp/>message.<sp/>This</highlight></codeline>
<codeline lineno="809"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>request<sp/>to<sp/>cancel<sp/>a<sp/>subscription<sp/>will<sp/>not<sp/>be<sp/>sent<sp/>to<sp/>peers.</highlight></codeline>
<codeline lineno="810"><highlight class="comment">**</highlight></codeline>
<codeline lineno="811"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="812"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="813"><highlight class="comment">**</highlight></codeline>
<codeline lineno="814"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="815"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId</highlight></codeline>
<codeline lineno="816"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId</highlight></codeline>
<codeline lineno="817"><highlight class="comment">**</highlight></codeline>
<codeline lineno="818"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="819"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="820"><highlight class="comment">**</highlight></codeline>
<codeline lineno="821"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="822"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="823"><highlight class="comment">**</highlight></codeline>
<codeline lineno="824"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="825" refid="cfe__sb__api_8c_1a2d9017dba160c86fd79fd386201753be" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a2d9017dba160c86fd79fd386201753be" kindref="member">CFE_SB_UnsubscribeLocal</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/>MsgId,<sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeId)</highlight></codeline>
<codeline lineno="826"><highlight class="normal">{</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>CallerId<sp/>=<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>the<sp/>callers<sp/>Application<sp/>Id<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(&amp;CallerId);</highlight></codeline>
<codeline lineno="832"><highlight class="normal"></highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" kindref="member">CFE_SB_UnsubscribeFull</ref>(MsgId,<sp/>PipeId,<sp/>(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref>)<ref refid="cfe__sb__priv_8h_1ad117920a479061f45f4587b4a867976d" kindref="member">CFE_SB_LOCAL</ref>,CallerId);</highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="836"><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_UnsubscribeLocal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="841"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_UnsubscribeAppId</highlight></codeline>
<codeline lineno="842"><highlight class="comment">**</highlight></codeline>
<codeline lineno="843"><highlight class="comment">**<sp/>Purpose:<sp/>CFE<sp/>Internal<sp/>API<sp/>intented<sp/>to<sp/>be<sp/>called<sp/>by<sp/>CFE_ES<sp/>when<sp/>an<sp/>applications</highlight></codeline>
<codeline lineno="844"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SB<sp/>resources<sp/>need<sp/>to<sp/>be<sp/>freed.<sp/>The<sp/>regular<sp/>unsibscribe<sp/>api<sp/>won&apos;t<sp/>work</highlight></codeline>
<codeline lineno="845"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>because<sp/>it<sp/>does<sp/>a<sp/>check<sp/>to<sp/>ensure<sp/>the<sp/>caller<sp/>is<sp/>the<sp/>owner<sp/>of<sp/>the<sp/>pipe.</highlight></codeline>
<codeline lineno="846"><highlight class="comment">**</highlight></codeline>
<codeline lineno="847"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="848"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>03/15/2007</highlight></codeline>
<codeline lineno="849"><highlight class="comment">**</highlight></codeline>
<codeline lineno="850"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="851"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId</highlight></codeline>
<codeline lineno="852"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId</highlight></codeline>
<codeline lineno="853"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AppId</highlight></codeline>
<codeline lineno="854"><highlight class="comment">**</highlight></codeline>
<codeline lineno="855"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="856"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="857"><highlight class="comment">**</highlight></codeline>
<codeline lineno="858"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="859"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="860"><highlight class="comment">**</highlight></codeline>
<codeline lineno="861"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862" refid="cfe__sb__priv_8h_1a462455f0287804d4b979b953cbd4ae2b" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a462455f0287804d4b979b953cbd4ae2b" kindref="member">CFE_SB_UnsubscribeWithAppId</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/>MsgId,</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeId,</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>AppId)</highlight></codeline>
<codeline lineno="865"><highlight class="normal">{</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="867"><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" kindref="member">CFE_SB_UnsubscribeFull</ref>(MsgId,<sp/>PipeId,<sp/>(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref>)<ref refid="cfe__sb__priv_8h_1ad117920a479061f45f4587b4a867976d" kindref="member">CFE_SB_LOCAL</ref>,<sp/>AppId);</highlight></codeline>
<codeline lineno="869"><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="871"><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_UnsubscribeWithAppId<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"></highlight></codeline>
<codeline lineno="875"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="876"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_UnsubscribeFull</highlight></codeline>
<codeline lineno="877"><highlight class="comment">**</highlight></codeline>
<codeline lineno="878"><highlight class="comment">**<sp/>Purpose:<sp/>CFE<sp/>Internal<sp/>API<sp/>used<sp/>to<sp/>unsubscribe<sp/>to<sp/>a<sp/>message.</highlight></codeline>
<codeline lineno="879"><highlight class="comment">**</highlight></codeline>
<codeline lineno="880"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="881"><highlight class="comment">**</highlight></codeline>
<codeline lineno="882"><highlight class="comment">**</highlight></codeline>
<codeline lineno="883"><highlight class="comment">**<sp/>Notes:This<sp/>function<sp/>cannot<sp/>be<sp/>called<sp/>directly,it<sp/>would<sp/>not<sp/>be<sp/>semaphore<sp/>protected.</highlight></codeline>
<codeline lineno="884"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Also,if<sp/>more<sp/>than<sp/>one<sp/>subscription<sp/>is<sp/>found,<sp/>this<sp/>function<sp/>will<sp/>remove<sp/>all</highlight></codeline>
<codeline lineno="885"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/>entries<sp/>that<sp/>match.</highlight></codeline>
<codeline lineno="886"><highlight class="comment">**</highlight></codeline>
<codeline lineno="887"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="888"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="889"><highlight class="comment">**</highlight></codeline>
<codeline lineno="890"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="891"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId</highlight></codeline>
<codeline lineno="892"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId</highlight></codeline>
<codeline lineno="893"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Scope</highlight></codeline>
<codeline lineno="894"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AppId</highlight></codeline>
<codeline lineno="895"><highlight class="comment">**</highlight></codeline>
<codeline lineno="896"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="897"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="898"><highlight class="comment">**</highlight></codeline>
<codeline lineno="899"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="900"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="901"><highlight class="comment">**</highlight></codeline>
<codeline lineno="902"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="903" refid="cfe__sb__priv_8h_1a48e6859da8820f497b806df05027bf1c" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a48e6859da8820f497b806df05027bf1c" kindref="member">CFE_SB_UnsubscribeFull</ref>(<ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/>MsgId,<ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/>PipeId,</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref><sp/>Scope,<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>AppId)</highlight></codeline>
<codeline lineno="905"><highlight class="normal">{</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/>Idx;</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>PipeIdx;</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>TskId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>MatchFound<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Stat;</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___destination_d__t" kindref="compound">CFE_SB_DestinationD_t</ref><sp/><sp/><sp/>*DestPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="913"><highlight class="normal"></highlight></codeline>
<codeline lineno="914"><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>take<sp/>semaphore<sp/>to<sp/>prevent<sp/>a<sp/>task<sp/>switch<sp/>during<sp/>this<sp/>call<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="917"><highlight class="normal"></highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>task<sp/>id<sp/>for<sp/>events<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/><ref refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" kindref="member">OS_TaskGetId</ref>();</highlight></codeline>
<codeline lineno="920"><highlight class="normal"></highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>the<sp/>pipe<sp/>has<sp/>been<sp/>created<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/>PipeIdx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a64905d40b4b4d6ef20a69943afb624b4" kindref="member">CFE_SB_GetPipeIdx</ref>(PipeId);</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(PipeIdx==<ref refid="cfe__sb__priv_8h_1aded841d2a1f046d3433c23cf5bc6597e" kindref="member">CFE_SB_INVALID_PIPE</ref>){</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1ae843b9270f5ab886241eb7bedf4517f4" kindref="member">CFE_SB_UNSUB_INV_PIPE_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Unsubscribe<sp/>Err:Invalid<sp/>Pipe<sp/>Id<sp/>Msg=0x%x,Pipe=%d,app=%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MsgId,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="930"><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>given<sp/>&apos;AppId&apos;<sp/>is<sp/>not<sp/>the<sp/>owner<sp/>of<sp/>the<sp/>pipe,<sp/>send<sp/>error<sp/>event<sp/>and<sp/>return<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeIdx].<ref refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" kindref="member">AppId</ref><sp/>!=<sp/>AppId){</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a5c82f812ce548e58235a2f8aa4beb722" kindref="member">CFE_SB_UNSUB_INV_CALLER_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Unsubscribe<sp/>Err:Caller(%s)<sp/>is<sp/>not<sp/>the<sp/>owner<sp/>of<sp/>pipe<sp/>%d,Msg=0x%x&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,MsgId);</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="939"><highlight class="normal"></highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>input<sp/>parameters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="cfe__sb__priv_8c_1affd094305f35ceb2452540d9adac015b" kindref="member">CFE_SB_ValidateMsgId</ref>(MsgId)<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)||</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="cfe__sb__priv_8c_1a0ba59d04948ba613ce0550c032f5cf98" kindref="member">CFE_SB_ValidatePipeId</ref>(PipeId)<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)||</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Scope<sp/>&gt;<sp/>1))</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a1862fe9db898fbf8559ed03fa4dd91ef" kindref="member">CFE_SB_UNSUB_ARG_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;UnSubscribe<sp/>Err:Bad<sp/>Arg,MsgId<sp/>0x%x,PipeId<sp/>%d,app<sp/>%s,scope<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MsgId,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),Scope);</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="951"><highlight class="normal"></highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>index<sp/>into<sp/>routing<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/>Idx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a9ef1179eae9f13d7648876b838c03b26" kindref="member">CFE_SB_GetRoutingTblIdx</ref>(MsgId);</highlight></codeline>
<codeline lineno="954"><highlight class="normal"></highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>there<sp/>are<sp/>no<sp/>subscriptions<sp/>for<sp/>this<sp/>message<sp/>id...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Idx<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1ade8cd3834120ca7ab077203207e5194c" kindref="member">CFE_SB_AVAILABLE</ref>){</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a1cd0fa919edd4c90ac0f3c103ffa2c3a" kindref="member">CFE_SB_UNSUB_NO_SUBS_EID</ref>,<ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member">CFE_EVS_INFORMATION</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Unsubscribe<sp/>Err:No<sp/>subs<sp/>for<sp/>Msg<sp/>0x%x<sp/>on<sp/>%s,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MsgId,<ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(PipeId),<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>At<sp/>this<sp/>point,<sp/>there<sp/>must<sp/>be<sp/>at<sp/>least<sp/>one<sp/>destination.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>So<sp/>the<sp/>value<sp/>of<sp/>&apos;ListHeadPtr&apos;<sp/>will<sp/>not<sp/>be<sp/>NULL<sp/>by<sp/>design<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>search<sp/>the<sp/>list<sp/>for<sp/>a<sp/>matching<sp/>pipe<sp/>id<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/>DestPtr<sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[Idx].<ref refid="struct_c_f_e___s_b___route_entry__t_1aa0f6d453782a0c589b55c22e82c7784e" kindref="member">ListHeadPtr</ref>;</highlight></codeline>
<codeline lineno="969"><highlight class="normal"></highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="971"><highlight class="normal"></highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" kindref="member">PipeId</ref><sp/>==<sp/>PipeId){</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>match<sp/>found,<sp/>remove<sp/>node<sp/>from<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ab3cfded1e68d506cf3e848f2ea4d39ca" kindref="member">CFE_SB_RemoveDest</ref>(Idx,DestPtr);</highlight></codeline>
<codeline lineno="975"><highlight class="normal"></highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>return<sp/>node<sp/>to<sp/>memory<sp/>pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__buf_8c_1aab809c8ca01290b3a8041571e856f1f0" kindref="member">CFE_SB_PutDestinationBlk</ref>(DestPtr);</highlight></codeline>
<codeline lineno="978"><highlight class="normal"></highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[Idx].<ref refid="struct_c_f_e___s_b___route_entry__t_1a281f94b6809f59b45c05b73765d8fe4e" kindref="member">Destinations</ref>--;</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1ae0469ecff4396cbe36a61e042b910187" kindref="member">SubscriptionsInUse</ref>--;</highlight></codeline>
<codeline lineno="981"><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MatchFound<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="983"><highlight class="normal"></highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr<sp/>=<sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a37d5671755ee1af438f9a385344a9e48" kindref="member">Next</ref>;</highlight></codeline>
<codeline lineno="987"><highlight class="normal"></highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">while</highlight><highlight class="normal">((MatchFound<sp/>==<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>)&amp;&amp;(DestPtr<sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>));</highlight></codeline>
<codeline lineno="989"><highlight class="normal"></highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>&apos;Destinations&apos;<sp/>was<sp/>decremented<sp/>to<sp/>zero<sp/>above...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[Idx].<ref refid="struct_c_f_e___s_b___route_entry__t_1a281f94b6809f59b45c05b73765d8fe4e" kindref="member">Destinations</ref>==0){</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acc648d6130ed253a42dfaf16c2033458" kindref="member">MsgIdsInUse</ref>--;</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[Idx].<ref refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" kindref="member">MsgId</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1ad5e2892f393253303e66416bbc91869d" kindref="member">CFE_SB_INVALID_MSG_ID</ref>;</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a924b490b166f6b82aef7d70fb1bd6677" kindref="member">CFE_SB_SetRoutingTblIdx</ref>(MsgId,<ref refid="cfe__sb__priv_8h_1ade8cd3834120ca7ab077203207e5194c" kindref="member">CFE_SB_AVAILABLE</ref>);</highlight></codeline>
<codeline lineno="995"><highlight class="normal"></highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>unsubscribe<sp/>report<sp/>only<sp/>if<sp/>there<sp/>are<sp/>zero<sp/>requests<sp/>for<sp/>this<sp/>pkt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a28d2211968e0b9eac2abed73ba3edfd5" kindref="member">SubscriptionReporting</ref><sp/>==<sp/><ref refid="cfe__sb__priv_8h_1a4094c63c03474476111fe10c11ab122b" kindref="member">CFE_SB_ENABLE</ref>)&amp;&amp;</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Scope<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1aeb5f35029e7fbdc7042558bc8a040710" kindref="member">CFE_SB_GLOBAL</ref>))</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a86f714ea447258b867fb4c63815be40d" kindref="member">MsgId</ref><sp/>=<sp/>MsgId;</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a71c4ac17cd0146e7c505ef850bd6c5d8" kindref="member">Pipe</ref><sp/>=<sp/>PipeId;</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a2c2c940989e32534aa73b50b748b412e" kindref="member">Qos</ref>.<ref refid="struct_c_f_e___s_b___qos__t_1ad3d2be85fd6ae49344ed70aa0a57df0c" kindref="member">Priority</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1a2c2c940989e32534aa73b50b748b412e" kindref="member">Qos</ref>.<ref refid="struct_c_f_e___s_b___qos__t_1adff0dd4ccb04e862db28afe8b4722cfb" kindref="member">Reliability</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg__t_1afe13117555fd527552588256645eeba3" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___sub_rprt_msg___payload__t_1aa921fee5d18f656d14b67eb858514d48" kindref="member">SubType</ref><sp/>=<sp/><ref refid="cfe__sb_8h_1a9471edf830792940448e050b468e619d" kindref="member">CFE_SB_UNSUBSCRIPTION</ref>;</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Stat<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref>((<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/>*)&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a43e9cd6fa4c07a8121463da540d88024" kindref="member">SubRprtMsg</ref>);</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a1b7890c396d5bb2d151749643241b36c" kindref="member">CFE_SB_UNSUBSCRIPTION_RPT_EID</ref>,<ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member">CFE_EVS_DEBUG</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Sending<sp/>Unsubscription<sp/>Report<sp/>Msg=0x%x,Pipe=%d,Stat=0x%x&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MsgId,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Stat);</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"></highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1014"><highlight class="normal"></highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"></highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a7d3f99f5b0b1df63d79d862f95f7c98a" kindref="member">CFE_SB_SUBSCRIPTION_REMOVED_EID</ref>,<ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member">CFE_EVS_DEBUG</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Subscription<sp/>Removed:Msg<sp/>0x%x<sp/>on<sp/>pipe<sp/>%d,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId,PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_UnsubscribeFull<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1024"><highlight class="normal"></highlight></codeline>
<codeline lineno="1025"><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal"></highlight></codeline>
<codeline lineno="1027"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1028"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_SendMsg</highlight></codeline>
<codeline lineno="1029"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1030"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>to<sp/>send<sp/>a<sp/>message<sp/>on<sp/>the<sp/>software<sp/>bus.</highlight></codeline>
<codeline lineno="1031"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1032"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1033"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1034"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>This<sp/>function<sp/>increments<sp/>and<sp/>tracks<sp/>the<sp/>source<sp/>sequence</highlight></codeline>
<codeline lineno="1035"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>for<sp/>all<sp/>telemetry<sp/>messages.</highlight></codeline>
<codeline lineno="1036"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1037"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1038"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1039"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1040"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1041"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgPtr</highlight></codeline>
<codeline lineno="1042"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1043"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1044"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1045"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1046"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1047"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1048"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1049"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1050" refid="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member">CFE_SB_SendMsg</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/><sp/><sp/>*MsgPtr)</highlight></codeline>
<codeline lineno="1051"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" kindref="member">CFE_SB_SendMsgFull</ref>(MsgPtr,<ref refid="cfe__sb__priv_8h_1aee8fc79a7eb25443e07bad5173af34bb" kindref="member">CFE_SB_INCREMENT_TLM</ref>,<ref refid="cfe__sb__priv_8h_1a79630fa73e2e29ea412bc464eebb6bf7" kindref="member">CFE_SB_SEND_ONECOPY</ref>);</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"></highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"></highlight></codeline>
<codeline lineno="1058"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_SendMsg<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1059"><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"></highlight></codeline>
<codeline lineno="1061"><highlight class="normal"></highlight></codeline>
<codeline lineno="1062"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1063"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_PassMsg</highlight></codeline>
<codeline lineno="1064"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1065"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>to<sp/>send<sp/>a<sp/>message<sp/>on<sp/>the<sp/>software<sp/>bus.</highlight></codeline>
<codeline lineno="1066"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1067"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1068"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1069"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>This<sp/>function<sp/>does<sp/>NOT<sp/>increment<sp/>and<sp/>track<sp/>the<sp/>source</highlight></codeline>
<codeline lineno="1070"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sequence<sp/>counter<sp/>for<sp/>telemetry<sp/>messages.</highlight></codeline>
<codeline lineno="1071"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1072"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1073"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1074"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1075"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1076"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgPtr</highlight></codeline>
<codeline lineno="1077"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1078"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1079"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1080"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1081"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1082"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1083"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1084"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1085" refid="cfe__sb__api_8c_1ade2170aac98e2b761332d96e7af88ff1" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1ade2170aac98e2b761332d96e7af88ff1" kindref="member">CFE_SB_PassMsg</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/><sp/><sp/>*MsgPtr)</highlight></codeline>
<codeline lineno="1086"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"></highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" kindref="member">CFE_SB_SendMsgFull</ref>(MsgPtr,<ref refid="cfe__sb__priv_8h_1a80a2f3705478104e07069d85478e86b9" kindref="member">CFE_SB_DO_NOT_INCREMENT</ref>,<ref refid="cfe__sb__priv_8h_1a79630fa73e2e29ea412bc464eebb6bf7" kindref="member">CFE_SB_SEND_ONECOPY</ref>);</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"></highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"></highlight></codeline>
<codeline lineno="1093"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_PassMsg<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1094"><highlight class="normal"></highlight></codeline>
<codeline lineno="1095"><highlight class="normal"></highlight></codeline>
<codeline lineno="1096"><highlight class="normal"></highlight></codeline>
<codeline lineno="1097"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1098"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_SendMsgFull</highlight></codeline>
<codeline lineno="1099"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1100"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>to<sp/>send<sp/>a<sp/>message<sp/>on<sp/>the<sp/>software<sp/>bus.</highlight></codeline>
<codeline lineno="1101"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1102"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1103"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1104"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note:<sp/>This<sp/>function<sp/>increments<sp/>and<sp/>tracks<sp/>the<sp/>source<sp/>sequence</highlight></codeline>
<codeline lineno="1105"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>for<sp/>all<sp/>telemetry<sp/>messages.</highlight></codeline>
<codeline lineno="1106"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1107"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1108"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1109"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1110"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1111"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgPtr</highlight></codeline>
<codeline lineno="1112"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TlmCntIncrements</highlight></codeline>
<codeline lineno="1113"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CopyMode</highlight></codeline>
<codeline lineno="1114"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1115"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1116"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1117"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1118"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1119"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1120"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1121"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1122" refid="cfe__sb__priv_8h_1a265af9ed654b1d0fcfaedead0c1b5257" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" kindref="member">CFE_SB_SendMsgFull</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/><sp/><sp/>*MsgPtr,</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TlmCntIncrements,</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CopyMode)</highlight></codeline>
<codeline lineno="1125"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a213323eb4fb69a395a343ad66045ae74" kindref="member">CFE_SB_MsgId_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId;</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status;</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___destination_d__t" kindref="compound">CFE_SB_DestinationD_t</ref><sp/><sp/><sp/>*DestPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___pipe_d__t" kindref="compound">CFE_SB_PipeD_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*PipeDscPtr;</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___route_entry__t" kindref="compound">CFE_SB_RouteEntry_t</ref><sp/><sp/><sp/><sp/><sp/>*RtgTblPtr;</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*BufDscPtr;</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TotalMsgSize;</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RtgTblIdx;</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i;</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___event_buf__t" kindref="compound">CFE_SB_EventBuf_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr;</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"></highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/>SBSndErr.<ref refid="struct_c_f_e___s_b___event_buf__t_1a98e0797bf7b2abef77da2cb935bb76cc" kindref="member">EvtsToSnd</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"></highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>task<sp/>id<sp/>for<sp/>events<sp/>and<sp/>Sender<sp/>Info*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/><ref refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" kindref="member">OS_TaskGetId</ref>();</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"></highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>input<sp/>parameter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(MsgPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abea3de6cdff3bd907c4de702160912cf" kindref="member">MsgSendErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aa0c834952e6e0be338fa64c6ddf3e153" kindref="member">CFE_SB_SEND_BAD_ARG_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Send<sp/>Err:Bad<sp/>input<sp/>argument,Arg<sp/>0x%lx,App<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)MsgPtr,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1154"><highlight class="normal"></highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/>MsgId<sp/>=<sp/><ref refid="cfe__sb_8h_1afd43694dea8b3cb74af4c2969493256d" kindref="member">CFE_SB_GetMsgId</ref>(MsgPtr);</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"></highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>the<sp/>msgid<sp/>in<sp/>the<sp/>message<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1affd094305f35ceb2452540d9adac015b" kindref="member">CFE_SB_ValidateMsgId</ref>(MsgId)<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>){</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abea3de6cdff3bd907c4de702160912cf" kindref="member">MsgSendErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CopyMode<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" kindref="member">CFE_SB_SEND_ZEROCOPY</ref>)</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufDscPtr<sp/>=<sp/><ref refid="cfe__sb__buf_8c_1a857d5b3749c8dec42c723088ec54fde0" kindref="member">CFE_SB_GetBufferFromCaller</ref>(MsgId,<sp/>MsgPtr);</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" kindref="member">CFE_SB_DecrBufUseCnt</ref>(BufDscPtr);</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a291ea8374837d7136d4a16aaf55ac320" kindref="member">CFE_SB_SEND_INV_MSGID_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Send<sp/>Err:Invalid<sp/>MsgId(0x%x)in<sp/>msg,App<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1172"><highlight class="normal"></highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/>TotalMsgSize<sp/>=<sp/><ref refid="cfe__sb_8h_1ac32b86cf9e1d12a547792853c35f6aa1" kindref="member">CFE_SB_GetTotalMsgLength</ref>(MsgPtr);</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"></highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Verify<sp/>the<sp/>size<sp/>of<sp/>the<sp/>pkt<sp/>is<sp/>&lt;<sp/>or<sp/>=<sp/>the<sp/>mission<sp/>defined<sp/>max<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(TotalMsgSize<sp/>&gt;<sp/><ref refid="cfe__mission__cfg_8h_1ac5a1b99c0ee718d0a9c8148e70ddd473" kindref="member">CFE_SB_MAX_SB_MSG_SIZE</ref>){</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abea3de6cdff3bd907c4de702160912cf" kindref="member">MsgSendErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CopyMode<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" kindref="member">CFE_SB_SEND_ZEROCOPY</ref>)</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufDscPtr<sp/>=<sp/><ref refid="cfe__sb__buf_8c_1a857d5b3749c8dec42c723088ec54fde0" kindref="member">CFE_SB_GetBufferFromCaller</ref>(MsgId,<sp/>MsgPtr);</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" kindref="member">CFE_SB_DecrBufUseCnt</ref>(BufDscPtr);</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1ab2104f1ad4fc6d65cff6d058fd85f695" kindref="member">CFE_SB_MSG_TOO_BIG_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Send<sp/>Err:Msg<sp/>Too<sp/>Big<sp/>MsgId=0x%x,app=%s,size=%d,MaxSz=%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),TotalMsgSize,<ref refid="cfe__mission__cfg_8h_1ac5a1b99c0ee718d0a9c8148e70ddd473" kindref="member">CFE_SB_MAX_SB_MSG_SIZE</ref>);</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a07f24d1c49358bc9bb0b2d8dd19508bf" kindref="member">CFE_SB_MSG_TOO_BIG</ref>;</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1190"><highlight class="normal"></highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>take<sp/>semaphore<sp/>to<sp/>prevent<sp/>a<sp/>task<sp/>switch<sp/>during<sp/>this<sp/>call<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"></highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/>RtgTblIdx<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a9ef1179eae9f13d7648876b838c03b26" kindref="member">CFE_SB_GetRoutingTblIdx</ref>(MsgId);</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"></highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>there<sp/>have<sp/>been<sp/>no<sp/>subscriptions<sp/>for<sp/>this<sp/>pkt,<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>the<sp/>dropped<sp/>pkt<sp/>cnt,<sp/>send<sp/>event<sp/>and<sp/>return<sp/>success<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(RtgTblIdx<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1ade8cd3834120ca7ab077203207e5194c" kindref="member">CFE_SB_AVAILABLE</ref>){</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"></highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a0afe0cbad1f511cc0af2e448f6b5689a" kindref="member">NoSubscribersCnt</ref>++;</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"></highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CopyMode<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" kindref="member">CFE_SB_SEND_ZEROCOPY</ref>){</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufDscPtr<sp/>=<sp/><ref refid="cfe__sb__buf_8c_1a857d5b3749c8dec42c723088ec54fde0" kindref="member">CFE_SB_GetBufferFromCaller</ref>(MsgId,<sp/>MsgPtr);</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" kindref="member">CFE_SB_DecrBufUseCnt</ref>(BufDscPtr);</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"></highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"></highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>if<sp/>event<sp/>can<sp/>be<sp/>sent<sp/>without<sp/>causing<sp/>recursive<sp/>event<sp/>problem<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1a3c77f35f8109da514786070d69f6425d" kindref="member">CFE_SB_RequestToSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1aecbc541c5cb1bad87fed99dc475ed0f1" kindref="member">CFE_SB_SEND_NO_SUBS_EID_BIT</ref>)<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1ab1c4f86b83fc02aee95e87f01ee84ded" kindref="member">CFE_SB_GRANTED</ref>){</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"></highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a6af4cd28e435cbca1b335f474cbf3267" kindref="member">CFE_SB_SEND_NO_SUBS_EID</ref>,<ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member">CFE_EVS_INFORMATION</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;No<sp/>subscribers<sp/>for<sp/>MsgId<sp/>0x%x,sender<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1215"><highlight class="normal"></highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>the<sp/>bit<sp/>so<sp/>the<sp/>task<sp/>may<sp/>send<sp/>this<sp/>event<sp/>again<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ab603690a7c1fd94305a0dc85cd52916c" kindref="member">CFE_SB_FinishSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1aecbc541c5cb1bad87fed99dc475ed0f1" kindref="member">CFE_SB_SEND_NO_SUBS_EID_BIT</ref>);</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1219"><highlight class="normal"></highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"></highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>a<sp/>new<sp/>buffer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CopyMode<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" kindref="member">CFE_SB_SEND_ZEROCOPY</ref>){</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufDscPtr<sp/>=<sp/><ref refid="cfe__sb__buf_8c_1a857d5b3749c8dec42c723088ec54fde0" kindref="member">CFE_SB_GetBufferFromCaller</ref>(MsgId,<sp/>MsgPtr);</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufDscPtr<sp/>=<sp/><ref refid="cfe__sb__buf_8c_1abd9f4fbc34ad7ee3268b5cf4489f8c19" kindref="member">CFE_SB_GetBufferFromPool</ref>(MsgId,<sp/>TotalMsgSize);</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BufDscPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1abea3de6cdff3bd907c4de702160912cf" kindref="member">MsgSendErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"></highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>if<sp/>event<sp/>can<sp/>be<sp/>sent<sp/>without<sp/>causing<sp/>recursive<sp/>event<sp/>problem<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1a3c77f35f8109da514786070d69f6425d" kindref="member">CFE_SB_RequestToSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1a20ef6cd371107178b221c2709eefa1c8" kindref="member">CFE_SB_GET_BUF_ERR_EID_BIT</ref>)<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1ab1c4f86b83fc02aee95e87f01ee84ded" kindref="member">CFE_SB_GRANTED</ref>){</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"></highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aeaa1dbff9ffe6f67e9fd71fdeebd17b8" kindref="member">CFE_SB_GET_BUF_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Send<sp/>Err:Request<sp/>for<sp/>Buffer<sp/>Failed.<sp/>MsgId<sp/>0x%x,app<sp/>%s,size<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),TotalMsgSize);</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"></highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>the<sp/>bit<sp/>so<sp/>the<sp/>task<sp/>may<sp/>send<sp/>this<sp/>event<sp/>again<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ab603690a7c1fd94305a0dc85cd52916c" kindref="member">CFE_SB_FinishSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1a20ef6cd371107178b221c2709eefa1c8" kindref="member">CFE_SB_GET_BUF_ERR_EID_BIT</ref>);</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1244"><highlight class="normal"></highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ac8a1a1216249eea00644fb0b52d4078b" kindref="member">CFE_SB_BUF_ALOC_ERR</ref>;</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1247"><highlight class="normal"></highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>packet<sp/>into<sp/>the<sp/>SB<sp/>memory<sp/>space<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CopyMode<sp/>!=<sp/><ref refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" kindref="member">CFE_SB_SEND_ZEROCOPY</ref>){</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>packet<sp/>into<sp/>the<sp/>SB<sp/>memory<sp/>space<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_PSP_MemCpy(<sp/>BufDscPtr-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1a66217409429f3a8011013fb73e109564" kindref="member">Buffer</ref>,<sp/>MsgPtr,<sp/>(<ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref>)TotalMsgSize<sp/>);</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"></highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>Tlm<sp/>packets,<sp/>increment<sp/>the<sp/>seq<sp/>count<sp/>if<sp/>requested<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="cfe__sb__priv_8c_1aed98ee504800ab91ae8d5424c2e5c5a4" kindref="member">CFE_SB_GetPktType</ref>(MsgId)==<ref refid="cfe__sb__priv_8h_1af505e0d32a3141b8f585571289f82a83" kindref="member">CFE_SB_TLM</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(TlmCntIncrements==<ref refid="cfe__sb__priv_8h_1aee8fc79a7eb25443e07bad5173af34bb" kindref="member">CFE_SB_INCREMENT_TLM</ref>)){</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[RtgTblIdx].<ref refid="struct_c_f_e___s_b___route_entry__t_1a7954e4e05c639bde04b3ada3c7152640" kindref="member">SeqCnt</ref>++;</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ace28f1cb2141b38f71e501fab3d0a567" kindref="member">CFE_SB_SetMsgSeqCnt</ref>((<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/>*)BufDscPtr-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1a66217409429f3a8011013fb73e109564" kindref="member">Buffer</ref>,</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[RtgTblIdx].<ref refid="struct_c_f_e___s_b___route_entry__t_1a7954e4e05c639bde04b3ada3c7152640" kindref="member">SeqCnt</ref>);</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"></highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>store<sp/>the<sp/>sender<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a7901579fe0b442c4bd14dfc5d7da858f" kindref="member">SenderReporting</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufDscPtr-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1afca62759929b998cc151f71d18cc666b" kindref="member">Sender</ref>.<ref refid="struct_c_f_e___s_b___sender_id__t_1a2267e7296e4adb70095ec787bd8caad6" kindref="member">ProcessorId</ref><sp/>=<sp/><ref refid="cfe__psp__support_8c_1a30087ba17d2cdf1e1735c4e1a2ea2314" kindref="member">CFE_PSP_GetProcessorId</ref>();</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(&amp;BufDscPtr-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1afca62759929b998cc151f71d18cc666b" kindref="member">Sender</ref>.<ref refid="struct_c_f_e___s_b___sender_id__t_1a8f5ec6f6aeb0fd40089e60e76c642d97" kindref="member">AppName</ref>[0],<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>);</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"></highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/>RtgTblPtr<sp/>=<sp/>&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91898fcdb7f77d3c6da60c3526725770" kindref="member">RoutingTbl</ref>[RtgTblIdx];</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>At<sp/>this<sp/>point<sp/>there<sp/>must<sp/>be<sp/>at<sp/>least<sp/>one<sp/>destination<sp/>for<sp/>pkt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1272"><highlight class="normal"></highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/>DestPtr<sp/>=<sp/>RtgTblPtr<sp/>-&gt;<sp/>ListHeadPtr;</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"></highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>the<sp/>packet<sp/>to<sp/>all<sp/>destinations<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i<sp/>&lt;<sp/>RtgTblPtr<sp/>-&gt;<sp/>Destinations;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"></highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>DestPtr<sp/>should<sp/>never<sp/>be<sp/>NULL<sp/>in<sp/>this<sp/>loop,<sp/>this<sp/>is<sp/>just<sp/>extra</highlight></codeline>
<codeline lineno="1279"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>protection<sp/>in<sp/>case<sp/>of<sp/>the<sp/>unforseen<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(DestPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"></highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a9777e7d0894cc1e5f2b8314199cd5738" kindref="member">Active</ref><sp/>!=<sp/><ref refid="cfe__sb__priv_8h_1a9019dfc13449d2687db31537f6a8de5b" kindref="member">CFE_SB_INACTIVE</ref>)<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>destination<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"></highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeDscPtr<sp/>=<sp/>&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" kindref="member">PipeId</ref>];</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>Msg<sp/>limit<sp/>exceeded,<sp/>log<sp/>event,<sp/>increment<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>and<sp/>go<sp/>to<sp/>next<sp/>destination<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a6731003c6baa11dca7325a6cf560eed1" kindref="member">BuffCount</ref><sp/>&gt;=<sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1ac258c9e67c8f32e2e231815833d2b3df" kindref="member">MsgId2PipeLim</ref>){</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"></highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtBuf[SBSndErr.EvtsToSnd].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref><sp/><sp/>=<sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" kindref="member">PipeId</ref>;</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtBuf[SBSndErr.EvtsToSnd].EventId<sp/>=<sp/><ref refid="cfe__sb__events_8h_1aca1ffa8b63bc24a135090f2528e936bc" kindref="member">CFE_SB_MSGID_LIM_ERR_EID</ref>;</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtsToSnd++;</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a98e1a8a67f5bb54a6288d42feb394874" kindref="member">MsgLimErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a76bf018c159c92eae7269d99c8029830" kindref="member">SendErrors</ref>++;</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"></highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1301"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Write<sp/>the<sp/>buffer<sp/>descriptor<sp/>to<sp/>the<sp/>queue<sp/>of<sp/>the<sp/>pipe.<sp/><sp/>If<sp/>the<sp/>write</highlight></codeline>
<codeline lineno="1302"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>failed,<sp/>log<sp/>info<sp/>and<sp/>increment<sp/>the<sp/>pipe&apos;s<sp/>error<sp/>counter.</highlight></codeline>
<codeline lineno="1303"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="osapi-os-core_8h_1a514794c514fed167939e3bc870d50d44" kindref="member">OS_QueuePut</ref>(PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" kindref="member">SysQueueId</ref>,(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)&amp;BufDscPtr,</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/>*),0);</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"></highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufDscPtr-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1adbc5b9d3dd19a2ff8d35cb94c455c2a5" kindref="member">UseCount</ref>++;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>used<sp/>for<sp/>releasing<sp/>buffer<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a6731003c6baa11dca7325a6cf560eed1" kindref="member">BuffCount</ref>++;<sp/></highlight><highlight class="comment">/*<sp/>used<sp/>for<sp/>checking<sp/>MsgId2PipeLimit<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1aee8ef7c1e0fee3b779bb3a939870462d" kindref="member">DestCnt</ref>++;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>used<sp/>for<sp/>statistics<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" kindref="member">PipeId</ref><sp/>&lt;<sp/><ref refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" kindref="member">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</ref>)</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___pipe_depth_stats__t" kindref="compound">CFE_SB_PipeDepthStats_t</ref><sp/>*StatObj<sp/>=</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" kindref="member">PipeId</ref>];</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StatObj-&gt;<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" kindref="member">InUse</ref>++;</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(StatObj-&gt;<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" kindref="member">InUse</ref><sp/>&gt;<sp/>StatObj-&gt;<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a8e48327cf6bf91c42a3e4bfe5554adad" kindref="member">PeakInUse</ref>){</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StatObj-&gt;<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1a8e48327cf6bf91c42a3e4bfe5554adad" kindref="member">PeakInUse</ref><sp/>=<sp/>StatObj-&gt;<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" kindref="member">InUse</ref>;</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"></highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Status<sp/>==<sp/><ref refid="osapi_8h_1a1bb3ced7e39cd5e1ca6d4c45f153cbc2" kindref="member">OS_QUEUE_FULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"></highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtBuf[SBSndErr.EvtsToSnd].PipeId<sp/><sp/>=<sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" kindref="member">PipeId</ref>;</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtBuf[SBSndErr.EvtsToSnd].EventId<sp/>=<sp/><ref refid="cfe__sb__events_8h_1ae307373383046c5dc051941f7874fece" kindref="member">CFE_SB_Q_FULL_ERR_EID</ref>;</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtsToSnd++;</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a59da4c28d101e932ba28308d98bea249" kindref="member">PipeOverflowErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a76bf018c159c92eae7269d99c8029830" kindref="member">SendErrors</ref>++;</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"></highlight></codeline>
<codeline lineno="1329"><highlight class="normal"></highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{<sp/></highlight><highlight class="comment">/*<sp/>Unexpected<sp/>error<sp/>while<sp/>writing<sp/>to<sp/>queue.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1331"><highlight class="normal"></highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtBuf[SBSndErr.EvtsToSnd].PipeId<sp/><sp/>=<sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a2b2e6376a46135a20739e12516996e21" kindref="member">PipeId</ref>;</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtBuf[SBSndErr.EvtsToSnd].EventId<sp/>=<sp/><ref refid="cfe__sb__events_8h_1aad2429b7e645b488c153df98976ab8ab" kindref="member">CFE_SB_Q_WR_ERR_EID</ref>;</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtBuf[SBSndErr.EvtsToSnd].ErrStat<sp/>=<sp/>Status;</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SBSndErr.EvtsToSnd++;</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a805f919fb1a7cda4146afb7a9275cc24" kindref="member">InternalErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a76bf018c159c92eae7269d99c8029830" kindref="member">SendErrors</ref>++;</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"></highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1342"><highlight class="normal"></highlight></codeline>
<codeline lineno="1343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr<sp/>=<sp/>DestPtr<sp/>-&gt;<sp/>Next;</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"></highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>loop<sp/>over<sp/>destinations<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1346"><highlight class="normal"></highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1348"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Decrement<sp/>the<sp/>buffer<sp/>UseCount<sp/>and<sp/>free<sp/>buffer<sp/>if<sp/>cnt=0.<sp/>This<sp/>decrement<sp/>is<sp/>done</highlight></codeline>
<codeline lineno="1349"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>because<sp/>the<sp/>use<sp/>cnt<sp/>is<sp/>initialized<sp/>to<sp/>1<sp/>in<sp/>CFE_SB_GetBufferFromPool.</highlight></codeline>
<codeline lineno="1350"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Initializing<sp/>the<sp/>count<sp/>to<sp/>1<sp/>(as<sp/>opposed<sp/>to<sp/>zero)<sp/>and<sp/>decrementing<sp/>it<sp/>here<sp/>are</highlight></codeline>
<codeline lineno="1351"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>done<sp/>to<sp/>ensure<sp/>the<sp/>buffer<sp/>gets<sp/>released<sp/>when<sp/>there<sp/>are<sp/>destinations<sp/>that<sp/>have</highlight></codeline>
<codeline lineno="1352"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>been<sp/>disabled<sp/>via<sp/>ground<sp/>command.</highlight></codeline>
<codeline lineno="1353"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" kindref="member">CFE_SB_DecrBufUseCnt</ref>(BufDscPtr);</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"></highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>release<sp/>the<sp/>semaphore<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"></highlight></codeline>
<codeline lineno="1359"><highlight class="normal"></highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>send<sp/>an<sp/>event<sp/>for<sp/>each<sp/>pipe<sp/>write<sp/>error<sp/>that<sp/>may<sp/>have<sp/>occurred<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=0;i<sp/>&lt;<sp/>SBSndErr.EvtsToSnd;<sp/>i++)</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(SBSndErr.EvtBuf[i].EventId<sp/>==<sp/><ref refid="cfe__sb__events_8h_1aca1ffa8b63bc24a135090f2528e936bc" kindref="member">CFE_SB_MSGID_LIM_ERR_EID</ref>)</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>if<sp/>event<sp/>can<sp/>be<sp/>sent<sp/>without<sp/>causing<sp/>recursive<sp/>event<sp/>problem<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1a3c77f35f8109da514786070d69f6425d" kindref="member">CFE_SB_RequestToSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1a0eea1f15445e753b706b7045f8a4a870" kindref="member">CFE_SB_MSGID_LIM_ERR_EID_BIT</ref>)<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1ab1c4f86b83fc02aee95e87f01ee84ded" kindref="member">CFE_SB_GRANTED</ref>){</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"></highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625" kindref="member">CFE_ES_PerfLogEntry</ref>(<ref refid="cfe__es__perfids_8h_1a4abd863f7490698eabc759825f24fcfe" kindref="member">CFE_SB_MSG_LIM_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4" kindref="member">CFE_ES_PerfLogExit</ref>(<ref refid="cfe__es__perfids_8h_1a4abd863f7490698eabc759825f24fcfe" kindref="member">CFE_SB_MSG_LIM_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"></highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aca1ffa8b63bc24a135090f2528e936bc" kindref="member">CFE_SB_MSGID_LIM_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Msg<sp/>Limit<sp/>Err,MsgId<sp/>0x%x,pipe<sp/>%s,sender<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)RtgTblPtr-&gt;<ref refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" kindref="member">MsgId</ref>,</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(SBSndErr.EvtBuf[i].PipeId),</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"></highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>the<sp/>bit<sp/>so<sp/>the<sp/>task<sp/>may<sp/>send<sp/>this<sp/>event<sp/>again<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ab603690a7c1fd94305a0dc85cd52916c" kindref="member">CFE_SB_FinishSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1a0eea1f15445e753b706b7045f8a4a870" kindref="member">CFE_SB_MSGID_LIM_ERR_EID_BIT</ref>);</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1380"><highlight class="normal"></highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(SBSndErr.EvtBuf[i].EventId<sp/>==<sp/><ref refid="cfe__sb__events_8h_1ae307373383046c5dc051941f7874fece" kindref="member">CFE_SB_Q_FULL_ERR_EID</ref>){</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>if<sp/>event<sp/>can<sp/>be<sp/>sent<sp/>without<sp/>causing<sp/>recursive<sp/>event<sp/>problem<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1a3c77f35f8109da514786070d69f6425d" kindref="member">CFE_SB_RequestToSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1a6b3ebf5cfb590405137b7a50b4beae0d" kindref="member">CFE_SB_Q_FULL_ERR_EID_BIT</ref>)<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1ab1c4f86b83fc02aee95e87f01ee84ded" kindref="member">CFE_SB_GRANTED</ref>){</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"></highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625" kindref="member">CFE_ES_PerfLogEntry</ref>(<ref refid="cfe__es__perfids_8h_1a21cdf5fa9d8440091fc16b0d9524bab1" kindref="member">CFE_SB_PIPE_OFLOW_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4" kindref="member">CFE_ES_PerfLogExit</ref>(<ref refid="cfe__es__perfids_8h_1a21cdf5fa9d8440091fc16b0d9524bab1" kindref="member">CFE_SB_PIPE_OFLOW_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"></highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1ae307373383046c5dc051941f7874fece" kindref="member">CFE_SB_Q_FULL_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Pipe<sp/>Overflow,MsgId<sp/>0x%x,pipe<sp/>%s,sender<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)RtgTblPtr-&gt;<ref refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" kindref="member">MsgId</ref>,</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(SBSndErr.EvtBuf[i].PipeId),</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"></highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>the<sp/>bit<sp/>so<sp/>the<sp/>task<sp/>may<sp/>send<sp/>this<sp/>event<sp/>again<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ab603690a7c1fd94305a0dc85cd52916c" kindref="member">CFE_SB_FinishSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1a6b3ebf5cfb590405137b7a50b4beae0d" kindref="member">CFE_SB_Q_FULL_ERR_EID_BIT</ref>);</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1398"><highlight class="normal"></highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"></highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>if<sp/>event<sp/>can<sp/>be<sp/>sent<sp/>without<sp/>causing<sp/>recursive<sp/>event<sp/>problem<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1a3c77f35f8109da514786070d69f6425d" kindref="member">CFE_SB_RequestToSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1aca2f2a684546853351bb652c04b914ad" kindref="member">CFE_SB_Q_WR_ERR_EID_BIT</ref>)<sp/>==<sp/><ref refid="cfe__sb__priv_8h_1ab1c4f86b83fc02aee95e87f01ee84ded" kindref="member">CFE_SB_GRANTED</ref>){</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"></highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aad2429b7e645b488c153df98976ab8ab" kindref="member">CFE_SB_Q_WR_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Pipe<sp/>Write<sp/>Err,MsgId<sp/>0x%x,pipe<sp/>%s,sender<sp/>%s,stat<sp/>0x%x&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)RtgTblPtr-&gt;<ref refid="struct_c_f_e___s_b___route_entry__t_1abaf8386cd8d62c358f4228945077380b" kindref="member">MsgId</ref>,</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(SBSndErr.EvtBuf[i].PipeId),</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)SBSndErr.EvtBuf[i].ErrStat);</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"></highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>the<sp/>bit<sp/>so<sp/>the<sp/>task<sp/>may<sp/>send<sp/>this<sp/>event<sp/>again<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ab603690a7c1fd94305a0dc85cd52916c" kindref="member">CFE_SB_FinishSendEvent</ref>(TskId,<ref refid="cfe__sb__priv_8h_1aca2f2a684546853351bb652c04b914ad" kindref="member">CFE_SB_Q_WR_ERR_EID_BIT</ref>);</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1414"><highlight class="normal"></highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"></highlight></codeline>
<codeline lineno="1418"><highlight class="normal"></highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"></highlight></codeline>
<codeline lineno="1421"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_SendMsgFull<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1422"><highlight class="normal"></highlight></codeline>
<codeline lineno="1423"><highlight class="normal"></highlight></codeline>
<codeline lineno="1424"><highlight class="normal"></highlight></codeline>
<codeline lineno="1425"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1426"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_RcvMsg</highlight></codeline>
<codeline lineno="1427"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1428"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>to<sp/>receive<sp/>a<sp/>message<sp/>from<sp/>the<sp/>software<sp/>bus.</highlight></codeline>
<codeline lineno="1429"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1430"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1431"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Notes:</highlight></codeline>
<codeline lineno="1432"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1433"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1434"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1435"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1436"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1437"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1438"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId</highlight></codeline>
<codeline lineno="1439"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufPtr</highlight></codeline>
<codeline lineno="1440"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeOut<sp/>-<sp/>CFE_SB_PEND,<sp/>CFE_SB_POLL<sp/>or<sp/>millisecond<sp/>timeout</highlight></codeline>
<codeline lineno="1441"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1442"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1443"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1444"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1445"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1446"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1447"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1448"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1449" refid="cfe__sb__api_8c_1a54840fe06aeb08b1e2c8df420474780d" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1a54840fe06aeb08b1e2c8df420474780d" kindref="member">CFE_SB_RcvMsg</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_MsgPtr_t</ref><sp/><sp/><sp/><sp/>*BufPtr,</highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/><sp/><sp/><sp/>PipeId,</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeOut)</highlight></codeline>
<codeline lineno="1452"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status;</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*Message;</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___pipe_d__t" kindref="compound">CFE_SB_PipeD_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*PipeDscPtr;</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___destination_d__t" kindref="compound">CFE_SB_DestinationD_t</ref><sp/><sp/>*DestPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"></highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>task<sp/>id<sp/>for<sp/>events<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/><ref refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" kindref="member">OS_TaskGetId</ref>();</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"></highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>input<sp/>parameters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((BufPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)||(TimeOut<sp/>&lt;<sp/>(-1))){</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a38d3df65eb3a5d68b3a457b82961df4a" kindref="member">MsgReceiveErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a4d4d1979aae6b0a061ac3ae6a1e958cd" kindref="member">CFE_SB_RCV_BAD_ARG_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Rcv<sp/>Err:Bad<sp/>Input<sp/>Arg:BufPtr<sp/>0x%lx,pipe<sp/>%d,t/o<sp/>%d,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)BufPtr,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)TimeOut,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1473"><highlight class="normal"></highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/>PipeDscPtr<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a5f81df796fa13a545fa3dbcb7c0740ba" kindref="member">CFE_SB_GetPipePtr</ref>(PipeId);</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>pipe<sp/>does<sp/>not<sp/>exist<sp/>or<sp/>PipeId<sp/>is<sp/>out<sp/>of<sp/>range...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(PipeDscPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a38d3df65eb3a5d68b3a457b82961df4a" kindref="member">MsgReceiveErrCnt</ref>++;</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a9ebc3fc50d63a2830404c98d01247e55" kindref="member">CFE_SB_BAD_PIPEID_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Rcv<sp/>Err:PipeId<sp/>%d<sp/>does<sp/>not<sp/>exist,app<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1485"><highlight class="normal"></highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1487"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Save<sp/>off<sp/>any<sp/>currently<sp/>in<sp/>use<sp/>buffer<sp/>to<sp/>free<sp/>later;<sp/>this<sp/>allows</highlight></codeline>
<codeline lineno="1488"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>one<sp/>fewer<sp/>shared<sp/>data<sp/>locks</highlight></codeline>
<codeline lineno="1489"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1490"><highlight class="normal"></highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref><sp/>=<sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" kindref="member">CurrentBuff</ref>;</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" kindref="member">CurrentBuff</ref><sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"></highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1495"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Read<sp/>a<sp/>new<sp/>buffer<sp/>from<sp/>the<sp/>queue<sp/>of<sp/>the<sp/>pipe,<sp/>using<sp/>the</highlight></codeline>
<codeline lineno="1496"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>specified<sp/>timeout<sp/>option.<sp/><sp/>If<sp/>a<sp/>buffer<sp/>was<sp/>obtained,<sp/>return<sp/>the</highlight></codeline>
<codeline lineno="1497"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>packet<sp/>to<sp/>the<sp/>task<sp/>according<sp/>to<sp/>mode.<sp/><sp/>Otherwise,<sp/>return<sp/>a<sp/>status</highlight></codeline>
<codeline lineno="1498"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>code<sp/>indicating<sp/>that<sp/>no<sp/>buffer<sp/>was<sp/>read.</highlight></codeline>
<codeline lineno="1499"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a42ecc1a82d77b37c0a0728f3289aadd9" kindref="member">CFE_SB_ReadQueue</ref>(PipeDscPtr,<sp/>TskId,<sp/>TimeOut,<sp/>&amp;Message);</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"></highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>take<sp/>semaphore<sp/>again<sp/>to<sp/>protect<sp/>the<sp/>remaining<sp/>code<sp/>in<sp/>this<sp/>call<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"></highlight></codeline>
<codeline lineno="1505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>free<sp/>any<sp/>pending<sp/>trash<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref><sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1507"><highlight class="normal"></highlight></codeline>
<codeline lineno="1508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Decrement<sp/>the<sp/>Buffer<sp/>Use<sp/>Count<sp/>and<sp/>Free<sp/>buffer<sp/>if<sp/>cnt=0)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__buf_8c_1a459a693a68f1a09979446e72bf33eaf8" kindref="member">CFE_SB_DecrBufUseCnt</ref>(PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref>);</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"></highlight></codeline>
<codeline lineno="1511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a21065f1eca8c0664c4a7ba18a8ac24ff" kindref="member">ToTrashBuff</ref><sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"></highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1514"><highlight class="normal"></highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"></highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1518"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Load<sp/>the<sp/>pipe<sp/>tables<sp/>&apos;CurrentBuff&apos;<sp/>with<sp/>the<sp/>buffer<sp/>descriptor</highlight></codeline>
<codeline lineno="1519"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>ptr<sp/>corresponding<sp/>to<sp/>the<sp/>message<sp/>just<sp/>read.<sp/>This<sp/>is<sp/>done<sp/>so<sp/>that</highlight></codeline>
<codeline lineno="1520"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>the<sp/>buffer<sp/>can<sp/>be<sp/>released<sp/>on<sp/>the<sp/>next<sp/>RcvMsg<sp/>call<sp/>for<sp/>this<sp/>pipe.</highlight></codeline>
<codeline lineno="1521"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" kindref="member">CurrentBuff</ref><sp/>=<sp/>Message;</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"></highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>the<sp/>Receivers<sp/>pointer<sp/>to<sp/>the<sp/>address<sp/>of<sp/>the<sp/>actual<sp/>message<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*BufPtr<sp/>=<sp/>(<ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member">CFE_SB_MsgPtr_t</ref>)<sp/>Message-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1a66217409429f3a8011013fb73e109564" kindref="member">Buffer</ref>;</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"></highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>pointer<sp/>to<sp/>destination<sp/>to<sp/>be<sp/>used<sp/>in<sp/>decrementing<sp/>msg<sp/>limit<sp/>cnt*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr<sp/>=<sp/><ref refid="cfe__sb__priv_8c_1a003da6460d877af3c84a06b5457d0e0a" kindref="member">CFE_SB_GetDestPtr</ref>(PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" kindref="member">CurrentBuff</ref>-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1a5a8c5bb092275a3f5c73de95bbafb582" kindref="member">MsgId</ref>,<sp/>PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref>);</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"></highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1531"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>DestPtr<sp/>would<sp/>be<sp/>NULL<sp/>if<sp/>the<sp/>msg<sp/>is<sp/>unsubscribed<sp/>to<sp/>while<sp/>it<sp/>is<sp/>on</highlight></codeline>
<codeline lineno="1532"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>the<sp/>pipe.<sp/>The<sp/>BuffCount<sp/>may<sp/>be<sp/>zero<sp/>if<sp/>the<sp/>msg<sp/>is<sp/>unsubscribed<sp/>to<sp/>and</highlight></codeline>
<codeline lineno="1533"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>then<sp/>resubscribed<sp/>to<sp/>while<sp/>it<sp/>is<sp/>on<sp/>the<sp/>pipe.<sp/>Both<sp/>of<sp/>these<sp/>cases<sp/>are</highlight></codeline>
<codeline lineno="1534"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>considered<sp/>nominal<sp/>and<sp/>are<sp/>handled<sp/>by<sp/>the<sp/>code<sp/>below.</highlight></codeline>
<codeline lineno="1535"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(DestPtr<sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1537"><highlight class="normal"></highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a6731003c6baa11dca7325a6cf560eed1" kindref="member">BuffCount</ref><sp/>&gt;<sp/>0){</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DestPtr-&gt;<ref refid="struct_c_f_e___s_b___destination_d__t_1a6731003c6baa11dca7325a6cf560eed1" kindref="member">BuffCount</ref>--;</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"></highlight></codeline>
<codeline lineno="1542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>DestPtr<sp/>!=<sp/>NULL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1543"><highlight class="normal"></highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref><sp/>&lt;<sp/><ref refid="cfe__sb__api_8c_1aa7bc6cd2e91aba2d2ab5cacafd30dd13" kindref="member">CFE_SB_TLM_PIPEDEPTHSTATS_SIZE</ref>)</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a227a08f51fdfb034dd534fb2b7e6ee85" kindref="member">PipeDepthStats</ref>[PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref>].<ref refid="struct_c_f_e___s_b___pipe_depth_stats__t_1ab1a161ad117ab2fd9e1cb10ff58f0e7b" kindref="member">InUse</ref>--;</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"></highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"></highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>the<sp/>users<sp/>pointer<sp/>to<sp/>NULL<sp/>indicating<sp/>the<sp/>CFE_SB_ReadQueue<sp/>failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*BufPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"></highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1555"><highlight class="normal"></highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>release<sp/>the<sp/>semaphore<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"></highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1560"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>If<sp/>status<sp/>is<sp/>not<sp/>CFE_SUCCESS,<sp/>then<sp/>no<sp/>packet<sp/>was<sp/>received.<sp/><sp/>If<sp/>this<sp/>was</highlight></codeline>
<codeline lineno="1561"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>caused<sp/>by<sp/>an<sp/>unexpected<sp/>error,<sp/>then<sp/>CFE_SB_ReadQueue()<sp/>will<sp/>report<sp/>the</highlight></codeline>
<codeline lineno="1562"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>error.</highlight></codeline>
<codeline lineno="1563"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"></highlight></codeline>
<codeline lineno="1566"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_RcvMsg<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1567"><highlight class="normal"></highlight></codeline>
<codeline lineno="1568"><highlight class="normal"></highlight></codeline>
<codeline lineno="1569"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1570"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_GetLastSenderId</highlight></codeline>
<codeline lineno="1571"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1572"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>for<sp/>receiving<sp/>sender<sp/>Information<sp/>of<sp/>the<sp/>last<sp/>message<sp/>received<sp/>on</highlight></codeline>
<codeline lineno="1573"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>given<sp/>pipe.</highlight></codeline>
<codeline lineno="1574"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1575"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1576"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1577"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1578"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1579"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>06/13/2007</highlight></codeline>
<codeline lineno="1580"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1581"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1582"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Ptr<sp/>-<sp/><sp/><sp/><sp/><sp/>caller<sp/>declares<sp/>a<sp/>ptr<sp/>of<sp/>type<sp/>CFE_SB_SenderId_t<sp/>then<sp/>gives<sp/>the</highlight></codeline>
<codeline lineno="1583"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>address<sp/>of<sp/>that<sp/>pointer.</highlight></codeline>
<codeline lineno="1584"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId<sp/>-<sp/><sp/>the<sp/>Pipe<sp/>Id<sp/>that<sp/>the<sp/>message<sp/>was<sp/>received<sp/>on.</highlight></codeline>
<codeline lineno="1585"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1586"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1587"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1588"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1589"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1590"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1591"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1592"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1593" refid="cfe__sb__api_8c_1abd1d841a3e64941a3ef460572b00f7e4" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1abd1d841a3e64941a3ef460572b00f7e4" kindref="member">CFE_SB_GetLastSenderId</ref>(<ref refid="struct_c_f_e___s_b___sender_id__t" kindref="compound">CFE_SB_SenderId_t</ref><sp/>**Ptr,<ref refid="cfe__sb_8h_1a9e7147bf0798bb7a3ebd165bdbdf320f" kindref="member">CFE_SB_PipeId_t</ref><sp/><sp/>PipeId)</highlight></codeline>
<codeline lineno="1594"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"></highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/>*Ptr2BufDescriptor;</highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AppId<sp/>=<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"></highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/>TskId<sp/>=<sp/><ref refid="osapi-os-core_8h_1ad94e801e32c654ffa36c1c5f89c79d3f" kindref="member">OS_TaskGetId</ref>();</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"></highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>ptr<sp/><sp/>-<sp/>note:<sp/>must<sp/>validate<sp/>ptr<sp/>before<sp/>pipe<sp/>id<sp/>validation<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>because<sp/>an<sp/>invalid<sp/>pipe<sp/>id<sp/>sets<sp/>the<sp/>callers<sp/>pointer<sp/>to<sp/>NULL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Ptr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1aa96aa1dccc8cf0175bdf2a78a0981ab6" kindref="member">CFE_SB_LSTSNDER_ERR1_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;SB<sp/>GetLastSender<sp/>Err:Rcvd<sp/>Null<sp/>Ptr,Pipe=%d,App=%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1611"><highlight class="normal"></highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>pipe<sp/>id<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8c_1a0ba59d04948ba613ce0550c032f5cf98" kindref="member">CFE_SB_ValidatePipeId</ref>(PipeId)!=<ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>){</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*Ptr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a7bb167d7131aab4c8ce94a9cd2acd7e5" kindref="member">CFE_SB_LSTSNDER_ERR2_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;SB<sp/>GetLastSender<sp/>Err:Rcvd<sp/>Invalid<sp/>Pipe=%d,App=%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId,<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName));</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1620"><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(&amp;AppId);</highlight></codeline>
<codeline lineno="1622"><highlight class="normal"></highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"></highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>verify<sp/>requestor<sp/>is<sp/>owner<sp/>of<sp/>pipe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeId].<ref refid="struct_c_f_e___s_b___pipe_d__t_1ae07dcbf4a7262a58da630d10b855ccfd" kindref="member">AppId</ref><sp/>!=<sp/>AppId){</highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*Ptr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1a1878bc4096f06ef07b922e6a7709c67d" kindref="member">CFE_SB_GLS_INV_CALLER_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;SB<sp/>GetLastSender<sp/>Err:Caller(%s)<sp/>is<sp/>not<sp/>the<sp/>owner<sp/>of<sp/>pipe<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)PipeId);</highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1a1a813e981c067fe87245b89c4117101d" kindref="member">CFE_SB_BAD_ARGUMENT</ref>;</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1634"><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>ptr<sp/>to<sp/>buffer<sp/>descriptor<sp/>for<sp/>the<sp/>last<sp/>msg<sp/>received<sp/>on<sp/>the<sp/>given<sp/>pipe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1636"><highlight class="normal"><sp/><sp/><sp/><sp/>Ptr2BufDescriptor<sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a25f46c05b72f8c60a39cce179308b614" kindref="member">PipeTbl</ref>[PipeId].<ref refid="struct_c_f_e___s_b___pipe_d__t_1a2c196db206fb36ad7c335664992d9da4" kindref="member">CurrentBuff</ref>;</highlight></codeline>
<codeline lineno="1637"><highlight class="normal"></highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>the<sp/>receivers<sp/>pointer<sp/>to<sp/>the<sp/>adr<sp/>of<sp/>&apos;Sender&apos;<sp/>struct<sp/>in<sp/>buf<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/>*Ptr<sp/>=<sp/>(<ref refid="struct_c_f_e___s_b___sender_id__t" kindref="compound">CFE_SB_SenderId_t</ref><sp/>*)<sp/>&amp;Ptr2BufDescriptor<sp/>-&gt;<sp/>Sender;</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"></highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"></highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"></highlight></codeline>
<codeline lineno="1645"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_GetLastSenderId<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1646"><highlight class="normal"></highlight></codeline>
<codeline lineno="1647"><highlight class="normal"></highlight></codeline>
<codeline lineno="1648"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1649"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_ZeroCopyGetPtr</highlight></codeline>
<codeline lineno="1650"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1651"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>for<sp/>for<sp/>getting<sp/>a<sp/>pointer<sp/>to<sp/>a<sp/>buffer<sp/>(for<sp/>zero<sp/>copy<sp/>mode</highlight></codeline>
<codeline lineno="1652"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>only)</highlight></codeline>
<codeline lineno="1653"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1654"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1655"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1656"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1657"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1658"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1659"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1660"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1661"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgSize</highlight></codeline>
<codeline lineno="1662"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1663"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1664"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufferHandle</highlight></codeline>
<codeline lineno="1665"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1666"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1667"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Pointer<sp/>to<sp/>an<sp/>empty<sp/>buffer<sp/>in<sp/>SB<sp/>Memory<sp/>space,<sp/>or<sp/>NULL<sp/>if<sp/>the<sp/>buffer</highlight></codeline>
<codeline lineno="1668"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>could<sp/>not<sp/>be<sp/>allocated.</highlight></codeline>
<codeline lineno="1669"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1670"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1671"><highlight class="normal"></highlight></codeline>
<codeline lineno="1672" refid="cfe__sb__api_8c_1a40630a2f5465cf30206a45c970bb4cc4" refkind="member"><highlight class="normal"><ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/>*<ref refid="cfe__sb__api_8c_1a40630a2f5465cf30206a45c970bb4cc4" kindref="member">CFE_SB_ZeroCopyGetPtr</ref>(<ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member">uint16</ref><sp/>MsgSize,</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref><sp/>*BufferHandle)</highlight></codeline>
<codeline lineno="1674"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stat1;</highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AppId<sp/>=<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*address<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___zero_copy_d__t" kindref="compound">CFE_SB_ZeroCopyD_t</ref><sp/><sp/>*zcd<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/><sp/><sp/><sp/>*bd<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"></highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"></highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>a<sp/>new<sp/>zero<sp/>copy<sp/>descriptor<sp/>from<sp/>the<sp/>SB<sp/>memory<sp/>pool.*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/>stat1<sp/>=<sp/><ref refid="cfe__es_8h_1ad1d355290c15c7c22ee78c1117ec5016" kindref="member">CFE_ES_GetPoolBuf</ref>((<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>**)&amp;zcd,<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" kindref="member">Mem</ref>.<ref refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" kindref="member">PoolHdl</ref>,<sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___s_b___zero_copy_d__t" kindref="compound">CFE_SB_ZeroCopyD_t</ref>));</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stat1<sp/>&lt;<sp/>0){</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"></highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>the<sp/>size<sp/>of<sp/>a<sp/>zero<sp/>copy<sp/>descriptor<sp/>to<sp/>the<sp/>memory-in-use<sp/>ctr<sp/>and<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>adjust<sp/>the<sp/>high<sp/>water<sp/>mark<sp/>if<sp/>needed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref>+=stat1;</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref><sp/>&gt;<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a536d072ca6396daba324ded24f4739c0" kindref="member">PeakMemInUse</ref>){</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a536d072ca6396daba324ded24f4739c0" kindref="member">PeakMemInUse</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref>;</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1696"><highlight class="normal"></highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>a<sp/>new<sp/>buffer<sp/>(from<sp/>the<sp/>SB<sp/>memory<sp/>pool)<sp/>to<sp/>hold<sp/>the<sp/>message<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/>stat1<sp/>=<sp/><ref refid="cfe__es_8h_1ad1d355290c15c7c22ee78c1117ec5016" kindref="member">CFE_ES_GetPoolBuf</ref>((<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>**)&amp;bd,<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" kindref="member">Mem</ref>.<ref refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" kindref="member">PoolHdl</ref>,<sp/>MsgSize<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref>));</highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((stat1<sp/>&lt;<sp/>0)||(bd==<ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)){</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*deallocate<sp/>the<sp/>first<sp/>buffer<sp/>if<sp/>the<sp/>second<sp/>buffer<sp/>creation<sp/>fails*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stat1<sp/>=<sp/><ref refid="cfe__es_8h_1a87bcb4ee33a996e6219607b629e595fd" kindref="member">CFE_ES_PutPoolBuf</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" kindref="member">Mem</ref>.<ref refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" kindref="member">PoolHdl</ref>,<sp/>(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>*)zcd);</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stat1<sp/>&gt;<sp/>0){</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref>-=stat1;</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"></highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Increment<sp/>the<sp/>number<sp/>of<sp/>buffers<sp/>in<sp/>use<sp/>by<sp/>one<sp/>even<sp/>though<sp/>two<sp/>buffers<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>were<sp/>allocated.<sp/>SBBuffersInUse<sp/>increments<sp/>on<sp/>a<sp/>per-message<sp/>basis<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acd1f6fad184755f99b91d1c8d7990271" kindref="member">SBBuffersInUse</ref>++;</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acd1f6fad184755f99b91d1c8d7990271" kindref="member">SBBuffersInUse</ref><sp/>&gt;<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a9bdb7fde097ff4f418e9fef4d7efc59f" kindref="member">PeakSBBuffersInUse</ref>){</highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a9bdb7fde097ff4f418e9fef4d7efc59f" kindref="member">PeakSBBuffersInUse</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acd1f6fad184755f99b91d1c8d7990271" kindref="member">SBBuffersInUse</ref>;</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1715"><highlight class="normal"></highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>the<sp/>size<sp/>of<sp/>the<sp/>actual<sp/>buffer<sp/>to<sp/>the<sp/>memory-in-use<sp/>ctr<sp/>and<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>adjust<sp/>the<sp/>high<sp/>water<sp/>mark<sp/>if<sp/>needed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref>+=stat1;</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref><sp/>&gt;<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a536d072ca6396daba324ded24f4739c0" kindref="member">PeakMemInUse</ref>){</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1a536d072ca6396daba324ded24f4739c0" kindref="member">PeakMemInUse</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref>;</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1722"><highlight class="normal"></highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>first<sp/>set<sp/>ptr<sp/>to<sp/>actual<sp/>msg<sp/>buffer<sp/>the<sp/>same<sp/>as<sp/>ptr<sp/>to<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/>address<sp/>=<sp/>(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref><sp/>*)bd;</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"></highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>actual<sp/>msg<sp/>buffer<sp/>ptr<sp/>beyond<sp/>the<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/>address<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref>);</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"></highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>zero<sp/>copy<sp/>descriptor<sp/>structure.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1ac4873c67510ba61bc3c733c9b309009f" kindref="member">Size</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>MsgSize;</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a63d9c98816481bc96df18f87ec7f2eea" kindref="member">Buffer</ref><sp/><sp/><sp/><sp/>=<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)address;</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1ac1750bddefb3b278d16f8c8b1760cdfb" kindref="member">Next</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"></highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>this<sp/>Zero<sp/>Copy<sp/>Descriptor<sp/>to<sp/>the<sp/>end<sp/>of<sp/>the<sp/>chain<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" kindref="member">ZeroCopyTail</ref><sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="struct_c_f_e___s_b___zero_copy_d__t" kindref="compound">CFE_SB_ZeroCopyD_t</ref><sp/>*)<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" kindref="member">ZeroCopyTail</ref>)-&gt;Next<sp/>=<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)zcd;</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/><sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a6266a628a76dd8e61af2fe3b35c88810" kindref="member">Prev</ref><sp/>=<sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" kindref="member">ZeroCopyTail</ref>;</highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" kindref="member">ZeroCopyTail</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)zcd;</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"></highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"></highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>callers<sp/>AppId<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(&amp;AppId);</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a8a33ccb886fe1934e8bf104b30101cbf" kindref="member">AppID</ref><sp/><sp/><sp/><sp/><sp/>=<sp/>AppId;</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"></highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/>(*BufferHandle)<sp/>=<sp/>(<ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref>)<sp/>zcd;</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"></highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>buffer<sp/>descriptor<sp/>structure.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/>bd-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1adbc5b9d3dd19a2ff8d35cb94c455c2a5" kindref="member">UseCount</ref><sp/><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/>bd-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1aa32dec7edfe206d4f9b7c8d2f333d7f6" kindref="member">Size</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>MsgSize;</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/>bd-&gt;<ref refid="struct_c_f_e___s_b___buffer_d__t_1a66217409429f3a8011013fb73e109564" kindref="member">Buffer</ref><sp/><sp/><sp/><sp/>=<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)address;</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"></highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/>*)address;</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"></highlight></codeline>
<codeline lineno="1756"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>CFE_SB_ZeroCopyGetPtr<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1757"><highlight class="normal"></highlight></codeline>
<codeline lineno="1758"><highlight class="normal"></highlight></codeline>
<codeline lineno="1759"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1760"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_ZeroCopyReleasePtr</highlight></codeline>
<codeline lineno="1761"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1762"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>for<sp/>releasing<sp/>a<sp/>pointer<sp/>to<sp/>a<sp/>buffer<sp/>(for<sp/>zero<sp/>copy<sp/>mode</highlight></codeline>
<codeline lineno="1763"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>only)<sp/>This<sp/>function<sp/>is<sp/>typically<sp/>not<sp/>needed<sp/>for<sp/>zero<sp/>copy<sp/>transfers.</highlight></codeline>
<codeline lineno="1764"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>function<sp/>is<sp/>needed<sp/>only<sp/>when<sp/>a<sp/>ptr<sp/>is<sp/>received<sp/>via</highlight></codeline>
<codeline lineno="1765"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_ZeroCopyGetPtr,<sp/>but<sp/>never<sp/>used<sp/>in<sp/>a<sp/>send.</highlight></codeline>
<codeline lineno="1766"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1767"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1768"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1769"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1770"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1771"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1772"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1773"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1774"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Ptr2Release</highlight></codeline>
<codeline lineno="1775"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufferHandle</highlight></codeline>
<codeline lineno="1776"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1777"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1778"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1779"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1780"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1781"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1782"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1783"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1784" refid="cfe__sb__api_8c_1a89ec51d1986bec33c5a3b6605f92b04a" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1a89ec51d1986bec33c5a3b6605f92b04a" kindref="member">CFE_SB_ZeroCopyReleasePtr</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/>*Ptr2Release,</highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref><sp/>BufferHandle)</highlight></codeline>
<codeline lineno="1786"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/>Status;</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/>Stat2;</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"></highlight></codeline>
<codeline lineno="1790"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" kindref="member">CFE_SB_ZeroCopyReleaseDesc</ref>(Ptr2Release,<sp/>BufferHandle);</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"></highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"></highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>){</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>give<sp/>the<sp/>buffer<sp/>back<sp/>to<sp/>the<sp/>buffer<sp/>pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Stat2<sp/>=<sp/><ref refid="cfe__es_8h_1a87bcb4ee33a996e6219607b629e595fd" kindref="member">CFE_ES_PutPoolBuf</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" kindref="member">Mem</ref>.<ref refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" kindref="member">PoolHdl</ref>,</highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>*)<sp/>(((<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member">uint8</ref><sp/>*)Ptr2Release)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref>)));</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Stat2<sp/>&gt;<sp/>0){</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Substract<sp/>the<sp/>size<sp/>of<sp/>the<sp/>actual<sp/>buffer<sp/>from<sp/>the<sp/>Memory<sp/>in<sp/>use<sp/>ctr<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref>-=Stat2;</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1acd1f6fad184755f99b91d1c8d7990271" kindref="member">SBBuffersInUse</ref>--;</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"></highlight></codeline>
<codeline lineno="1805"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1806"><highlight class="normal"></highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"></highlight></codeline>
<codeline lineno="1809"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_ZeroCopyReleasePtr<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1810"><highlight class="normal"></highlight></codeline>
<codeline lineno="1811"><highlight class="normal"></highlight></codeline>
<codeline lineno="1812"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1813"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_ZeroCopyReleaseDesc</highlight></codeline>
<codeline lineno="1814"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1815"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>used<sp/>for<sp/>releasing<sp/>a<sp/>zero<sp/>copy<sp/>descriptor<sp/>(for<sp/>zero<sp/>copy<sp/>mode</highlight></codeline>
<codeline lineno="1816"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>only).</highlight></codeline>
<codeline lineno="1817"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1818"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1819"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1820"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1821"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1822"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1823"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1824"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1825"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Ptr2Release</highlight></codeline>
<codeline lineno="1826"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufferHandle</highlight></codeline>
<codeline lineno="1827"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1828"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1829"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1830"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1831"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1832"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1833"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1834"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1835" refid="cfe__sb__priv_8h_1ae1d9e7bb8e5de4226bd0a3a220a707a9" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" kindref="member">CFE_SB_ZeroCopyReleaseDesc</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/>*Ptr2Release,</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref><sp/><sp/>BufferHandle)</highlight></codeline>
<codeline lineno="1837"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/>Stat;</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___zero_copy_d__t" kindref="compound">CFE_SB_ZeroCopyD_t</ref><sp/>*zcd<sp/>=<sp/>(<ref refid="struct_c_f_e___s_b___zero_copy_d__t" kindref="compound">CFE_SB_ZeroCopyD_t</ref><sp/>*)<sp/>BufferHandle;</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"></highlight></codeline>
<codeline lineno="1841"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1842"><highlight class="normal"></highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/>Stat<sp/>=<sp/><ref refid="cfe__es_8h_1aeaa3f8a8dda7fea627ec56500b01d272" kindref="member">CFE_ES_GetPoolBufInfo</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" kindref="member">Mem</ref>.<ref refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" kindref="member">PoolHdl</ref>,<sp/>(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>*)zcd);</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"></highlight></codeline>
<codeline lineno="1845"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((Ptr2Release<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>||<sp/>(Stat<sp/>&lt;<sp/>0)<sp/>||<sp/>(zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a63d9c98816481bc96df18f87ec7f2eea" kindref="member">Buffer</ref><sp/>!=<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)Ptr2Release)){</highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ad3c572bc717c1354810f6765aa551546" kindref="member">CFE_SB_BUFFER_INVALID</ref>;</highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1849"><highlight class="normal"></highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>delink<sp/>the<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a6266a628a76dd8e61af2fe3b35c88810" kindref="member">Prev</ref><sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="struct_c_f_e___s_b___zero_copy_d__t" kindref="compound">CFE_SB_ZeroCopyD_t</ref><sp/>*)<sp/>(zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a6266a628a76dd8e61af2fe3b35c88810" kindref="member">Prev</ref>))-&gt;Next<sp/>=<sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1ac1750bddefb3b278d16f8c8b1760cdfb" kindref="member">Next</ref>;</highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1ac1750bddefb3b278d16f8c8b1760cdfb" kindref="member">Next</ref><sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>){</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="struct_c_f_e___s_b___zero_copy_d__t" kindref="compound">CFE_SB_ZeroCopyD_t</ref><sp/>*)<sp/>(zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1ac1750bddefb3b278d16f8c8b1760cdfb" kindref="member">Next</ref>))-&gt;Prev<sp/>=<sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a6266a628a76dd8e61af2fe3b35c88810" kindref="member">Prev</ref>;</highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" kindref="member">ZeroCopyTail</ref><sp/>==<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)zcd){</highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a91a66b1d1c6f6d92afeca8a871d78eac" kindref="member">ZeroCopyTail</ref><sp/>=<sp/>zcd-&gt;<ref refid="struct_c_f_e___s_b___zero_copy_d__t_1a6266a628a76dd8e61af2fe3b35c88810" kindref="member">Prev</ref>;</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"></highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>give<sp/>the<sp/>descriptor<sp/>back<sp/>to<sp/>the<sp/>buffer<sp/>pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1862"><highlight class="normal"><sp/><sp/><sp/><sp/>Stat<sp/>=<sp/><ref refid="cfe__es_8h_1a87bcb4ee33a996e6219607b629e595fd" kindref="member">CFE_ES_PutPoolBuf</ref>(<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a90bdc25d960a21768722fdf7a1c9f4b7" kindref="member">Mem</ref>.<ref refid="struct_c_f_e___s_b___mem_params__t_1a63493b0949a70519749bc60b382c3d44" kindref="member">PoolHdl</ref>,<sp/>(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>*)zcd);</highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Stat<sp/>&gt;<sp/>0){</highlight></codeline>
<codeline lineno="1864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Substract<sp/>the<sp/>size<sp/>of<sp/>the<sp/>actual<sp/>buffer<sp/>from<sp/>the<sp/>Memory<sp/>in<sp/>use<sp/>ctr<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1a11a51501a72bd467720097a56741bf10" kindref="member">StatTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___stat_msg__t_1a609bf74629727edb90854136c5196831" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___stat_msg___payload__t_1aa60e23da189a8b4ed1480d96c863b461" kindref="member">MemInUse</ref>-=Stat;</highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1867"><highlight class="normal"></highlight></codeline>
<codeline lineno="1868"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="1869"><highlight class="normal"></highlight></codeline>
<codeline lineno="1870"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"></highlight></codeline>
<codeline lineno="1872"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_ZeroCopyReleaseDesc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1873"><highlight class="normal"></highlight></codeline>
<codeline lineno="1874"><highlight class="normal"></highlight></codeline>
<codeline lineno="1875"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1876"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_ZeroCopySend</highlight></codeline>
<codeline lineno="1877"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1878"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>for<sp/>sending<sp/>messages<sp/>in<sp/>zero<sp/>copy<sp/>mode<sp/>(with<sp/>telemetry<sp/>source</highlight></codeline>
<codeline lineno="1879"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sequence<sp/>count<sp/>incrementing)</highlight></codeline>
<codeline lineno="1880"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1881"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1882"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1883"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1884"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1885"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1886"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1887"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1888"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgPtr<sp/>-<sp/>Pointer<sp/>to<sp/>message<sp/>to<sp/>be<sp/>sent</highlight></codeline>
<codeline lineno="1889"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufferHandle<sp/>-<sp/>Handle<sp/>supplied<sp/>by<sp/>the<sp/>get<sp/>pointer<sp/>call</highlight></codeline>
<codeline lineno="1890"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1891"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1892"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1893"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1894"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1895"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1896"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1897"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1898" refid="cfe__sb__api_8c_1afabab99c8bed70a6d74b662f8620866c" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1afabab99c8bed70a6d74b662f8620866c" kindref="member">CFE_SB_ZeroCopySend</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/><sp/>*MsgPtr,</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref><sp/>BufferHandle)</highlight></codeline>
<codeline lineno="1900"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1902"><highlight class="normal"></highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" kindref="member">CFE_SB_ZeroCopyReleaseDesc</ref>(MsgPtr,<sp/>BufferHandle);</highlight></codeline>
<codeline lineno="1904"><highlight class="normal"></highlight></codeline>
<codeline lineno="1905"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>){</highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" kindref="member">CFE_SB_SendMsgFull</ref>(MsgPtr,<ref refid="cfe__sb__priv_8h_1aee8fc79a7eb25443e07bad5173af34bb" kindref="member">CFE_SB_INCREMENT_TLM</ref>,<ref refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" kindref="member">CFE_SB_SEND_ZEROCOPY</ref>);</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1908"><highlight class="normal"></highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"></highlight></codeline>
<codeline lineno="1911"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_ZeroCopySend<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1912"><highlight class="normal"></highlight></codeline>
<codeline lineno="1913"><highlight class="normal"></highlight></codeline>
<codeline lineno="1914"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1915"><highlight class="comment">**<sp/>Name:<sp/><sp/><sp/><sp/>CFE_SB_ZeroCopyPass</highlight></codeline>
<codeline lineno="1916"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1917"><highlight class="comment">**<sp/>Purpose:<sp/>API<sp/>for<sp/>sending<sp/>messages<sp/>in<sp/>zero<sp/>copy<sp/>mode<sp/>(telemetry<sp/>source</highlight></codeline>
<codeline lineno="1918"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sequence<sp/>count<sp/>is<sp/>preserved)</highlight></codeline>
<codeline lineno="1919"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1920"><highlight class="comment">**<sp/>Assumptions,<sp/>External<sp/>Events,<sp/>and<sp/>Notes:</highlight></codeline>
<codeline lineno="1921"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1922"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1923"><highlight class="comment">**<sp/>Date<sp/>Written:</highlight></codeline>
<codeline lineno="1924"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>04/25/2005</highlight></codeline>
<codeline lineno="1925"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1926"><highlight class="comment">**<sp/>Input<sp/>Arguments:</highlight></codeline>
<codeline lineno="1927"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MsgPtr<sp/>-<sp/>Pointer<sp/>to<sp/>message<sp/>to<sp/>be<sp/>sent</highlight></codeline>
<codeline lineno="1928"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BufferHandle<sp/>-<sp/>Handle<sp/>supplied<sp/>by<sp/>the<sp/>get<sp/>pointer<sp/>call</highlight></codeline>
<codeline lineno="1929"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1930"><highlight class="comment">**<sp/>Output<sp/>Arguments:</highlight></codeline>
<codeline lineno="1931"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="1932"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1933"><highlight class="comment">**<sp/>Return<sp/>Values:</highlight></codeline>
<codeline lineno="1934"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status</highlight></codeline>
<codeline lineno="1935"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1936"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1937" refid="cfe__sb__api_8c_1ab0908003ed01106c310b97d984be76b8" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__sb__api_8c_1ab0908003ed01106c310b97d984be76b8" kindref="member">CFE_SB_ZeroCopyPass</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound">CFE_SB_Msg_t</ref><sp/><sp/><sp/>*MsgPtr,</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1ad75799a3f44e35ccee00f7b434097798" kindref="member">CFE_SB_ZeroCopyHandle_t</ref><sp/>BufferHandle)</highlight></codeline>
<codeline lineno="1939"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1940"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1941"><highlight class="normal"></highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1ae1d9e7bb8e5de4226bd0a3a220a707a9" kindref="member">CFE_SB_ZeroCopyReleaseDesc</ref>(MsgPtr,<sp/>BufferHandle);</highlight></codeline>
<codeline lineno="1943"><highlight class="normal"></highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>){</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__sb__api_8c_1a265af9ed654b1d0fcfaedead0c1b5257" kindref="member">CFE_SB_SendMsgFull</ref>(MsgPtr,<ref refid="cfe__sb__priv_8h_1a80a2f3705478104e07069d85478e86b9" kindref="member">CFE_SB_DO_NOT_INCREMENT</ref>,<ref refid="cfe__sb__priv_8h_1a52ba45f2941c5b29c458ff77507ee4f1" kindref="member">CFE_SB_SEND_ZEROCOPY</ref>);</highlight></codeline>
<codeline lineno="1946"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"></highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"></highlight></codeline>
<codeline lineno="1950"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_ZeroCopyPass<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1951"><highlight class="normal"></highlight></codeline>
<codeline lineno="1952"><highlight class="normal"></highlight></codeline>
<codeline lineno="1953"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="1954"><highlight class="comment">**<sp/><sp/>Function:<sp/><sp/>CFE_SB_ReadQueue()</highlight></codeline>
<codeline lineno="1955"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1956"><highlight class="comment">**<sp/><sp/>Purpose:</highlight></codeline>
<codeline lineno="1957"><highlight class="comment">**<sp/><sp/><sp/><sp/>Read<sp/>an<sp/>SB<sp/>message<sp/>from<sp/>the<sp/>system<sp/>queue.<sp/><sp/>The<sp/>message<sp/>is<sp/>represented</highlight></codeline>
<codeline lineno="1958"><highlight class="comment">**<sp/><sp/><sp/><sp/>by<sp/>a<sp/>pointer<sp/>to<sp/>the<sp/>buffer<sp/>descriptor<sp/>of<sp/>the<sp/>message.<sp/><sp/>Several<sp/>options</highlight></codeline>
<codeline lineno="1959"><highlight class="comment">**<sp/><sp/><sp/><sp/>are<sp/>available<sp/>for<sp/>the<sp/>timeout,<sp/>as<sp/>described<sp/>below.</highlight></codeline>
<codeline lineno="1960"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1961"><highlight class="comment">**<sp/><sp/>Arguments:</highlight></codeline>
<codeline lineno="1962"><highlight class="comment">**<sp/><sp/><sp/><sp/>PipeDscPtr:<sp/>Pointer<sp/>to<sp/>pipe<sp/>descriptor.</highlight></codeline>
<codeline lineno="1963"><highlight class="comment">**<sp/><sp/><sp/><sp/>AppId<sp/><sp/><sp/><sp/><sp/>:<sp/>Application<sp/>ID<sp/>of<sp/>the<sp/>receiving<sp/>task<sp/>(used<sp/>for<sp/>error<sp/>messages).</highlight></codeline>
<codeline lineno="1964"><highlight class="comment">**<sp/><sp/><sp/><sp/>Time_Out<sp/><sp/>:<sp/>Timeout<sp/>option;<sp/>one<sp/>of<sp/>the<sp/>following:</highlight></codeline>
<codeline lineno="1965"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_PEND_FOREVER<sp/><sp/>=<sp/>wait<sp/>forever<sp/>until<sp/>a<sp/>packet<sp/>arrives</highlight></codeline>
<codeline lineno="1966"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_POLL<sp/>=<sp/>check<sp/>the<sp/>pipe<sp/>for<sp/>packets<sp/>but<sp/>don&apos;t<sp/>wait</highlight></codeline>
<codeline lineno="1967"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>in<sp/>milliseconds<sp/>=<sp/>wait<sp/>up<sp/>to<sp/>a<sp/>specified<sp/>time</highlight></codeline>
<codeline lineno="1968"><highlight class="comment">**<sp/><sp/><sp/><sp/>Message<sp/><sp/><sp/>:<sp/>Pointer<sp/>to<sp/>a<sp/>variable<sp/>that<sp/>will<sp/>receive<sp/>the<sp/>buffer</highlight></codeline>
<codeline lineno="1969"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>descriptor<sp/>of<sp/>the<sp/>message.</highlight></codeline>
<codeline lineno="1970"><highlight class="comment">**</highlight></codeline>
<codeline lineno="1971"><highlight class="comment">**<sp/><sp/>Return:</highlight></codeline>
<codeline lineno="1972"><highlight class="comment">**<sp/><sp/><sp/><sp/>CFE_SB<sp/>status<sp/>code<sp/>indicating<sp/>the<sp/>result<sp/>of<sp/>the<sp/>operation:</highlight></codeline>
<codeline lineno="1973"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>CFE_SUCCESS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>message<sp/>was<sp/>successfully<sp/>read</highlight></codeline>
<codeline lineno="1974"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_NO_MESSAGE<sp/><sp/><sp/>=<sp/>no<sp/>message<sp/>is<sp/>present<sp/>(for<sp/>CFE_SB_POLL<sp/>option)</highlight></codeline>
<codeline lineno="1975"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_TIME_OUT<sp/><sp/><sp/><sp/><sp/>=<sp/>timeout<sp/>expired<sp/>(for<sp/>timeout<sp/>option)</highlight></codeline>
<codeline lineno="1976"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>CFE_SB_PIPE_RD_ERR<sp/><sp/>=<sp/>an<sp/>unexpected<sp/>queue<sp/>read<sp/>error<sp/>occurred</highlight></codeline>
<codeline lineno="1977"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1978"><highlight class="normal"></highlight></codeline>
<codeline lineno="1979" refid="cfe__sb__priv_8h_1afa4e55746501266c32887860c2d19e0b" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><ref refid="cfe__sb__api_8c_1a42ecc1a82d77b37c0a0728f3289aadd9" kindref="member">CFE_SB_ReadQueue</ref><sp/>(<ref refid="struct_c_f_e___s_b___pipe_d__t" kindref="compound">CFE_SB_PipeD_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*PipeDscPtr,</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TskId,</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a04b5b03f0c6a66ece34c3d3727cfc917" kindref="member">CFE_SB_TimeOut_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Time_Out,</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**Message)</highlight></codeline>
<codeline lineno="1983"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status,TimeOut;</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Nbytes;</highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FullName[(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref><sp/>*<sp/>2)];</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"></highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>translate<sp/>the<sp/>given<sp/>Time_Out<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(Time_Out){</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"></highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="cfe__sb_8h_1acc9e6f66cd026d1c987c4c3de827366f" kindref="member">CFE_SB_PEND_FOREVER</ref>:</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeOut<sp/>=<sp/><ref refid="osapi_8h_1ab2b5288ed3f6994990eff6125202d4dd" kindref="member">OS_PEND</ref>;</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"></highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="cfe__sb_8h_1a0c0ca8cca37a759bd5e68e81e73ce67a" kindref="member">CFE_SB_POLL</ref>:</highlight></codeline>
<codeline lineno="1996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeOut<sp/>=<sp/><ref refid="osapi_8h_1a4a2422824f9b38df781a24d5905fe0ce" kindref="member">OS_CHECK</ref>;</highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"></highlight></codeline>
<codeline lineno="1999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeOut<sp/>=<sp/>Time_Out;</highlight></codeline>
<codeline lineno="2001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"></highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>switch<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2004"><highlight class="normal"></highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>the<sp/>buffer<sp/>descriptor<sp/>address<sp/>from<sp/>the<sp/>queue.<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="osapi-os-core_8h_1a6e563810965cdff38da7e4ec3347fce8" kindref="member">OS_QueueGet</ref>(PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a8314bd2c2ba07fa46eb2c5ab029dac56" kindref="member">SysQueueId</ref>,</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)Message,</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___s_b___buffer_d__t" kindref="compound">CFE_SB_BufferD_t</ref><sp/>*),</highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;Nbytes,</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeOut);</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"></highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>translate<sp/>the<sp/>return<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(Status){</highlight></codeline>
<codeline lineno="2014"><highlight class="normal"></highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref>:</highlight></codeline>
<codeline lineno="2016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2018"><highlight class="normal"></highlight></codeline>
<codeline lineno="2019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="osapi_8h_1a649aefc48b25fa31f54b59fe16fc501f" kindref="member">OS_QUEUE_EMPTY</ref>:</highlight></codeline>
<codeline lineno="2020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1aa9ebdcf79be28ce49c79c12f20ce53b7" kindref="member">CFE_SB_NO_MESSAGE</ref>;</highlight></codeline>
<codeline lineno="2021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"></highlight></codeline>
<codeline lineno="2023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="osapi_8h_1a11a8fcc6118adb5c801e6b84739af6a0" kindref="member">OS_QUEUE_TIMEOUT</ref>:</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1a68b8b8ed93cecb670c945388a797e970" kindref="member">CFE_SB_TIME_OUT</ref>;</highlight></codeline>
<codeline lineno="2025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"></highlight></codeline>
<codeline lineno="2027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1ae613b03944ed6bd4597baa55f9232809" kindref="member">CFE_SB_LockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1abf5f0523c6f0c517fee44ccbc9a08e77" kindref="member">HKTlmMsg</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg__t_1a7e7b485f54b705fe9accc276098f9c2e" kindref="member">Payload</ref>.<ref refid="struct_c_f_e___s_b___h_k_msg___payload__t_1a805f919fb1a7cda4146afb7a9275cc24" kindref="member">InternalErrCnt</ref>++;</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1add45edd8c68c1cd7f334ae2a8d610ae8" kindref="member">CFE_SB_UnlockSharedData</ref>(__func__,__LINE__);</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Unexpected<sp/>error<sp/>while<sp/>reading<sp/>the<sp/>queue.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a545dcec8d0ef490f7193f0390142c2ef" kindref="member">CFE_EVS_SendEventWithAppID</ref>(<ref refid="cfe__sb__events_8h_1ae1ecf8ae10a18ce0df00205eac52b3f3" kindref="member">CFE_SB_Q_RD_ERR_EID</ref>,<ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member">CFE_EVS_ERROR</ref>,<ref refid="cfe__sb__priv_8h_1abd90a2f7a6a2cf62d26a4db3c5c41b1e" kindref="member">CFE_SB</ref>.<ref refid="structcfe__sb__t_1ad2193d2d785ec89785c69ca24a7b8fc4" kindref="member">AppId</ref>,</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Pipe<sp/>Read<sp/>Err,pipe<sp/>%s,app<sp/>%s,stat<sp/>0x%x&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb__priv_8c_1a8dc295bd315606efc18460fc6f2bddea" kindref="member">CFE_SB_GetPipeName</ref>(PipeDscPtr-&gt;<ref refid="struct_c_f_e___s_b___pipe_d__t_1a08c581ea5b94cb3481df5806dd8139e4" kindref="member">PipeId</ref>),<ref refid="cfe__sb__priv_8c_1a8804c05b64f1b916675e201ea7174bb8" kindref="member">CFE_SB_GetAppTskName</ref>(TskId,FullName),(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"></highlight></codeline>
<codeline lineno="2036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1a5975053b3478fa6ff2a2b5a6207bce19" kindref="member">CFE_SB_PIPE_RD_ERR</ref>;</highlight></codeline>
<codeline lineno="2037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"></highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>end<sp/>switch<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2040"><highlight class="normal"></highlight></codeline>
<codeline lineno="2041"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(Status);</highlight></codeline>
<codeline lineno="2042"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>CFE_SB_ReadQueue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2043"><highlight class="normal"></highlight></codeline>
<codeline lineno="2044"><highlight class="normal"></highlight><highlight class="comment">/*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2045"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="sb/cfe_sb_api.c"/>
  </compounddef>
</doxygen>
