<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="cfe__es__cds_8c" kind="file" language="C++">
    <compoundname>cfe_es_cds.c</compoundname>
    <includes refid="cfe__private_8h" local="yes">private/cfe_private.h</includes>
    <includes refid="cfe__es__apps_8h" local="yes">cfe_es_apps.h</includes>
    <includes refid="cfe__es__cds_8h" local="yes">cfe_es_cds.h</includes>
    <includes refid="cfe__es__global_8h" local="yes">cfe_es_global.h</includes>
    <includes local="yes">cfe_psp.h</includes>
    <includes refid="cfe__es__cds__mempool_8h" local="yes">cfe_es_cds_mempool.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">stdio.h</includes>
    <includes local="no">stdarg.h</includes>
    <incdepgraph>
      <node id="5014">
        <label>sys/stat.h</label>
      </node>
      <node id="5008">
        <label>stdarg.h</label>
      </node>
      <node id="5002">
        <label>common_types.h</label>
        <link refid="common__types_8h"/>
      </node>
      <node id="5028">
        <label>cfe_psp.h</label>
      </node>
      <node id="5012">
        <label>stdlib.h</label>
      </node>
      <node id="5029">
        <label>ccsds.h</label>
        <link refid="ccsds_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5018" relation="include">
        </childnode>
      </node>
      <node id="5020">
        <label>cfe_msgids.h</label>
      </node>
      <node id="5042">
        <label>cfe_es_events.h</label>
        <link refid="cfe__es__events_8h"/>
      </node>
      <node id="5009">
        <label>osapi-os-rtm.h</label>
        <link refid="osapi-os-rtm_8h"/>
      </node>
      <node id="5023">
        <label>cfe_es_perfids.h</label>
        <link refid="cfe__es__perfids_8h"/>
      </node>
      <node id="5036">
        <label>private/cfe_es_resetdata_typedef.h</label>
        <link refid="cfe__es__resetdata__typedef_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
        <childnode refid="5037" relation="include">
        </childnode>
        <childnode refid="5038" relation="include">
        </childnode>
        <childnode refid="5039" relation="include">
        </childnode>
        <childnode refid="5019" relation="include">
        </childnode>
      </node>
      <node id="5034">
        <label>cfe_es_cds_mempool.h</label>
        <link refid="cfe__es__cds__mempool_8h"/>
        <childnode refid="5001" relation="include">
        </childnode>
      </node>
      <node id="5025">
        <label>cfe_time.h</label>
        <link refid="cfe__time_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
      </node>
      <node id="5026">
        <label>cfe_evs_msg.h</label>
        <link refid="cfe__evs__msg_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
        <childnode refid="5004" relation="include">
        </childnode>
        <childnode refid="5027" relation="include">
        </childnode>
        <childnode refid="5022" relation="include">
        </childnode>
      </node>
      <node id="5010">
        <label>osapi-os-filesys.h</label>
        <link refid="osapi-os-filesys_8h"/>
        <childnode refid="5011" relation="include">
        </childnode>
        <childnode refid="5012" relation="include">
        </childnode>
        <childnode refid="5013" relation="include">
        </childnode>
        <childnode refid="5014" relation="include">
        </childnode>
      </node>
      <node id="5005">
        <label>osapi-version.h</label>
        <link refid="osapi-version_8h"/>
      </node>
      <node id="5004">
        <label>osapi.h</label>
        <link refid="osapi_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5005" relation="include">
        </childnode>
        <childnode refid="5006" relation="include">
        </childnode>
        <childnode refid="5007" relation="include">
        </childnode>
        <childnode refid="5010" relation="include">
        </childnode>
        <childnode refid="5015" relation="include">
        </childnode>
        <childnode refid="5016" relation="include">
        </childnode>
        <childnode refid="5017" relation="include">
        </childnode>
        <childnode refid="5009" relation="include">
        </childnode>
      </node>
      <node id="5017">
        <label>osapi-os-timer.h</label>
        <link refid="osapi-os-timer_8h"/>
      </node>
      <node id="5043">
        <label>string.h</label>
      </node>
      <node id="5032">
        <label>cfe_es_apps.h</label>
        <link refid="cfe__es__apps_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5004" relation="include">
        </childnode>
      </node>
      <node id="5040">
        <label>cfe_es_perf.h</label>
        <link refid="cfe__es__perf_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5004" relation="include">
        </childnode>
        <childnode refid="5022" relation="include">
        </childnode>
        <childnode refid="5041" relation="include">
        </childnode>
        <childnode refid="5042" relation="include">
        </childnode>
        <childnode refid="5027" relation="include">
        </childnode>
        <childnode refid="5024" relation="include">
        </childnode>
        <childnode refid="5023" relation="include">
        </childnode>
        <childnode refid="5028" relation="include">
        </childnode>
      </node>
      <node id="5039">
        <label>cfe_evs_log_typedef.h</label>
        <link refid="cfe__evs__log__typedef_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5026" relation="include">
        </childnode>
      </node>
      <node id="5035">
        <label>cfe_es_global.h</label>
        <link refid="cfe__es__global_8h"/>
        <childnode refid="5004" relation="include">
        </childnode>
        <childnode refid="5001" relation="include">
        </childnode>
        <childnode refid="5036" relation="include">
        </childnode>
        <childnode refid="5022" relation="include">
        </childnode>
        <childnode refid="5032" relation="include">
        </childnode>
        <childnode refid="5033" relation="include">
        </childnode>
        <childnode refid="5040" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
        <childnode refid="5019" relation="include">
        </childnode>
        <childnode refid="5024" relation="include">
        </childnode>
        <childnode refid="5028" relation="include">
        </childnode>
      </node>
      <node id="5018">
        <label>cfe_mission_cfg.h</label>
        <link refid="cfe__mission__cfg_8h"/>
      </node>
      <node id="5019">
        <label>cfe_platform_cfg.h</label>
      </node>
      <node id="5038">
        <label>cfe_es_perfdata_typedef.h</label>
        <link refid="cfe__es__perfdata__typedef_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5019" relation="include">
        </childnode>
      </node>
      <node id="5037">
        <label>cfe_es_erlog_typedef.h</label>
        <link refid="cfe__es__erlog__typedef_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
      </node>
      <node id="5006">
        <label>osconfig.h</label>
      </node>
      <node id="5015">
        <label>osapi-os-net.h</label>
        <link refid="osapi-os-net_8h"/>
      </node>
      <node id="5000">
        <label>es/cfe_es_cds.c</label>
        <link refid="cfe_es_cds.c"/>
        <childnode refid="5001" relation="include">
        </childnode>
        <childnode refid="5032" relation="include">
        </childnode>
        <childnode refid="5033" relation="include">
        </childnode>
        <childnode refid="5035" relation="include">
        </childnode>
        <childnode refid="5028" relation="include">
        </childnode>
        <childnode refid="5034" relation="include">
        </childnode>
        <childnode refid="5043" relation="include">
        </childnode>
        <childnode refid="5011" relation="include">
        </childnode>
        <childnode refid="5008" relation="include">
        </childnode>
      </node>
      <node id="5033">
        <label>cfe_es_cds.h</label>
        <link refid="cfe__es__cds_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5004" relation="include">
        </childnode>
        <childnode refid="5032" relation="include">
        </childnode>
        <childnode refid="5019" relation="include">
        </childnode>
        <childnode refid="5022" relation="include">
        </childnode>
        <childnode refid="5034" relation="include">
        </childnode>
      </node>
      <node id="5027">
        <label>cfe_sb.h</label>
        <link refid="cfe__sb_8h"/>
        <childnode refid="5006" relation="include">
        </childnode>
        <childnode refid="5028" relation="include">
        </childnode>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5018" relation="include">
        </childnode>
        <childnode refid="5019" relation="include">
        </childnode>
        <childnode refid="5029" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
      </node>
      <node id="5022">
        <label>cfe_es.h</label>
        <link refid="cfe__es_8h"/>
        <childnode refid="5018" relation="include">
        </childnode>
        <childnode refid="5023" relation="include">
        </childnode>
      </node>
      <node id="5003">
        <label>cfe.h</label>
        <link refid="cfe_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5004" relation="include">
        </childnode>
        <childnode refid="5018" relation="include">
        </childnode>
        <childnode refid="5019" relation="include">
        </childnode>
        <childnode refid="5020" relation="include">
        </childnode>
        <childnode refid="5021" relation="include">
        </childnode>
        <childnode refid="5022" relation="include">
        </childnode>
        <childnode refid="5024" relation="include">
        </childnode>
        <childnode refid="5030" relation="include">
        </childnode>
        <childnode refid="5027" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
        <childnode refid="5031" relation="include">
        </childnode>
        <childnode refid="5028" relation="include">
        </childnode>
      </node>
      <node id="5024">
        <label>cfe_evs.h</label>
        <link refid="cfe__evs_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
        <childnode refid="5026" relation="include">
        </childnode>
        <childnode refid="5004" relation="include">
        </childnode>
        <childnode refid="5027" relation="include">
        </childnode>
      </node>
      <node id="5016">
        <label>osapi-os-loader.h</label>
        <link refid="osapi-os-loader_8h"/>
      </node>
      <node id="5030">
        <label>cfe_fs.h</label>
        <link refid="cfe__fs_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
      </node>
      <node id="5001">
        <label>private/cfe_private.h</label>
        <link refid="cfe__private_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5003" relation="include">
        </childnode>
        <childnode refid="5019" relation="include">
        </childnode>
      </node>
      <node id="5031">
        <label>cfe_tbl.h</label>
        <link refid="cfe__tbl_8h"/>
        <childnode refid="5002" relation="include">
        </childnode>
        <childnode refid="5025" relation="include">
        </childnode>
        <childnode refid="5006" relation="include">
        </childnode>
      </node>
      <node id="5021">
        <label>cfe_error.h</label>
        <link refid="cfe__error_8h"/>
        <childnode refid="5004" relation="include">
        </childnode>
      </node>
      <node id="5011">
        <label>stdio.h</label>
      </node>
      <node id="5041">
        <label>cfe_es_msg.h</label>
        <link refid="cfe__es__msg_8h"/>
        <childnode refid="5003" relation="include">
        </childnode>
        <childnode refid="5022" relation="include">
        </childnode>
      </node>
      <node id="5007">
        <label>osapi-os-core.h</label>
        <link refid="osapi-os-core_8h"/>
        <childnode refid="5008" relation="include">
        </childnode>
        <childnode refid="5009" relation="include">
        </childnode>
      </node>
      <node id="5013">
        <label>dirent.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="cfe__es__cds_8c_1a84c4dbba552f3fbf85b023a828d51f66" prot="public" static="no">
        <name>CDS_REG_SIZE_OFFSET</name>
        <initializer>((sizeof(CFE_ES_Global.CDSVars.ValidityField)+3) &amp; 0xfffffffc)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="94" column="9" bodyfile="es/cfe_es_cds.c" bodystart="94" bodyend="-1"/>
        <referencedby refid="cfe__es__cds_8h_1a920a2b86f3e8258fac52bb888c2fdf08" compoundref="cfe__es__cds_8c" startline="512" endline="543">CFE_ES_InitCDSRegistry</referencedby>
        <referencedby refid="cfe__es__cds_8h_1a358a529ecbfec8c98202d71563e6cc57" compoundref="cfe__es__cds_8c" startline="736" endline="781">CFE_ES_RebuildCDS</referencedby>
      </memberdef>
      <memberdef kind="define" id="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" prot="public" static="no">
        <name>CDS_REG_OFFSET</name>
        <initializer>(((<ref refid="cfe__es__cds_8c_1a84c4dbba552f3fbf85b023a828d51f66" kindref="member">CDS_REG_SIZE_OFFSET</ref> + sizeof(CFE_ES_Global.CDSVars.MaxNumRegEntries)) + 3) &amp; 0xfffffffc)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="95" column="9" bodyfile="es/cfe_es_cds.c" bodystart="95" bodyend="-1"/>
        <referencedby refid="cfe__es__cds_8h_1a358a529ecbfec8c98202d71563e6cc57" compoundref="cfe__es__cds_8c" startline="736" endline="781">CFE_ES_RebuildCDS</referencedby>
        <referencedby refid="cfe__es__cds_8h_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" compoundref="cfe__es__cds_8c" startline="552" endline="567">CFE_ES_UpdateCDSRegistry</referencedby>
      </memberdef>
      <memberdef kind="define" id="cfe__es__cds_8c_1a2f4410979bec89de5a298e1f1fe9e4b4" prot="public" static="no">
        <name>CDS_POOL_OFFSET</name>
        <initializer>(((<ref refid="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" kindref="member">CDS_REG_OFFSET</ref> + (CFE_ES_CDS_MAX_NUM_ENTRIES * sizeof(<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t" kindref="compound">CFE_ES_CDS_RegRec_t</ref>))) + 3) &amp; 0xfffffffc)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="96" column="9" bodyfile="es/cfe_es_cds.c" bodystart="96" bodyend="-1"/>
        <referencedby refid="cfe__es__cds_8h_1ad5a77531ab384ce7b2c059d205404480" compoundref="cfe__es__cds_8c" startline="420" endline="503">CFE_ES_InitializeCDS</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="cfe__es__cds_8c_1a66594e3f2fd091e2559601fb16df7527" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_ValidateCDS</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_ValidateCDS</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Determines whether a CDS currently exists. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Reads a set of bytes from the beginning and end of the CDS memory area and determines if a fixed pattern is present, thus determining whether the CDS still likely contains valid data or not.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> Operation was performed successfully </para></simplesect>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" kindref="member">CFE_ES_CDS_INVALID</ref> The CDS contents are invalid. </para></simplesect>
<simplesect kind="return"><para>Any of the return values from <ref refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" kindref="member">CFE_PSP_ReadFromCDS</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="115" column="1" bodyfile="es/cfe_es_cds.c" bodystart="367" bodyend="411"/>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" compoundref="cfe__es__cds_8h" startline="83">CFE_ES_CDSVariables_t::CDSSize</references>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" compoundref="cfe__error_8h" startline="338">CFE_ES_CDS_INVALID</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" compoundref="cfe__psp__memory_8c" startline="281" endline="308">CFE_PSP_ReadFromCDS</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" compoundref="cfe__es__cds_8h" startline="87">CFE_ES_CDSVariables_t::ValidityField</references>
        <referencedby refid="cfe__es__cds_8h_1affdb331f1b40f270906ac22ef1b8d87b" compoundref="cfe__es__cds_8c" startline="188" endline="260">CFE_ES_CDS_EarlyInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1ad5a77531ab384ce7b2c059d205404480" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_InitializeCDS</definition>
        <argsstring>(uint32 CDSSize)</argsstring>
        <name>CFE_ES_InitializeCDS</name>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>CDSSize</declname>
        </param>
        <briefdescription>
<para>Initializes the contents of the CDS. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Stores a fixed pattern at the beginning and end of the CDS memory to tag it for future verification following a reset.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CDSSize</parametername>
</parameternamelist>
<parameterdescription>
<para>Total size of CDS memory area (in bytes)</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref></para></simplesect>
<simplesect kind="return"><para>Any of the return values from <ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref> </para></simplesect>
<simplesect kind="return"><para>Any of the return values from <ref refid="cfe__es__cds__mempool_8h_1af1aa110151a9f96736e9f0accbf2973f" kindref="member">CFE_ES_CreateCDSPool</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="135" column="1" bodyfile="es/cfe_es_cds.c" bodystart="420" bodyend="503"/>
        <references refid="cfe__es__cds_8c_1a2f4410979bec89de5a298e1f1fe9e4b4" compoundref="cfe__es__cds_8c" startline="96">CDS_POOL_OFFSET</references>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__cds__mempool_8c_1af1aa110151a9f96736e9f0accbf2973f" compoundref="cfe__es__cds__mempool_8c" startline="120" endline="163">CFE_ES_CreateCDSPool</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es__cds_8c_1a920a2b86f3e8258fac52bb888c2fdf08" compoundref="cfe__es__cds_8c" startline="512" endline="543">CFE_ES_InitCDSRegistry</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" compoundref="cfe__psp__memory_8c" startline="238" endline="264">CFE_PSP_WriteToCDS</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" compoundref="cfe__es__cds_8h" startline="84">CFE_ES_CDSVariables_t::MemPoolSize</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" compoundref="osapi_8h" startline="87">OS_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" compoundref="cfe__es__cds_8h" startline="87">CFE_ES_CDSVariables_t::ValidityField</references>
        <referencedby refid="cfe__es__cds_8h_1affdb331f1b40f270906ac22ef1b8d87b" compoundref="cfe__es__cds_8c" startline="188" endline="260">CFE_ES_CDS_EarlyInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1a920a2b86f3e8258fac52bb888c2fdf08" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_InitCDSRegistry</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_InitCDSRegistry</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Initializes the CDS Registry. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Initializes the data structure used to keep track of CDS blocks and who they belong to.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>Operation was performed successfully </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="151" column="1" bodyfile="es/cfe_es_cds.c" bodystart="512" bodyend="543"/>
        <references refid="cfe__es__cds_8c_1a84c4dbba552f3fbf85b023a828d51f66" compoundref="cfe__es__cds_8c" startline="94">CDS_REG_SIZE_OFFSET</references>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" compoundref="cfe__es__cds_8c" startline="552" endline="567">CFE_ES_UpdateCDSRegistry</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" compoundref="cfe__psp__memory_8c" startline="238" endline="264">CFE_PSP_WriteToCDS</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" compoundref="common__types_8h" startline="318">FALSE</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" compoundref="cfe__es__cds_8h" startline="85">CFE_ES_CDSVariables_t::MaxNumRegEntries</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" compoundref="cfe__es__cds_8h" startline="74">CFE_ES_CDS_RegRec_t::MemHandle</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" compoundref="cfe__es__cds_8h" startline="73">CFE_ES_CDS_RegRec_t::Name</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" compoundref="cfe__es__cds_8h" startline="86">CFE_ES_CDSVariables_t::Registry</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa54841092984192b2c868cfc2da5fa96" compoundref="cfe__es__cds_8h" startline="75">CFE_ES_CDS_RegRec_t::Size</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1abc165540b9ebf26d71b3b911eca8348c" compoundref="cfe__es__cds_8h" startline="77">CFE_ES_CDS_RegRec_t::Table</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" compoundref="cfe__es__cds_8h" startline="76">CFE_ES_CDS_RegRec_t::Taken</references>
        <referencedby refid="cfe__es__cds_8h_1ad5a77531ab384ce7b2c059d205404480" compoundref="cfe__es__cds_8c" startline="420" endline="503">CFE_ES_InitializeCDS</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1a358a529ecbfec8c98202d71563e6cc57" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_RebuildCDS</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_RebuildCDS</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Rebuilds memory pool for CDS and recovers existing registry. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Scans memory for existing CDS and initializes memory pool and registry settings accordingly</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><orderedlist>
<listitem><para>Assumes the validity of the CDS has already been determined</para></listitem></orderedlist>
</para></simplesect>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> Operation was performed successfully </para></simplesect>
<simplesect kind="return"><para>Any of the return values from <ref refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" kindref="member">CFE_PSP_ReadFromCDS</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="169" column="1" bodyfile="es/cfe_es_cds.c" bodystart="736" bodyend="781"/>
        <references refid="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" compoundref="cfe__es__cds_8c" startline="95">CDS_REG_OFFSET</references>
        <references refid="cfe__es__cds_8c_1a84c4dbba552f3fbf85b023a828d51f66" compoundref="cfe__es__cds_8c" startline="94">CDS_REG_SIZE_OFFSET</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" compoundref="cfe__es__cds_8h" startline="83">CFE_ES_CDSVariables_t::CDSSize</references>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" compoundref="cfe__error_8h" startline="338">CFE_ES_CDS_INVALID</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es__cds__mempool_8c_1acaeb4ae711cef5e8703bc59b52416a34" compoundref="cfe__es__cds__mempool_8c" startline="173" endline="280">CFE_ES_RebuildCDSPool</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" compoundref="cfe__psp__memory_8c" startline="281" endline="308">CFE_PSP_ReadFromCDS</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" compoundref="cfe__es__cds_8h" startline="85">CFE_ES_CDSVariables_t::MaxNumRegEntries</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" compoundref="cfe__es__cds_8h" startline="84">CFE_ES_CDSVariables_t::MemPoolSize</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" compoundref="cfe__es__cds_8h" startline="86">CFE_ES_CDSVariables_t::Registry</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" compoundref="cfe__es__cds_8h" startline="87">CFE_ES_CDSVariables_t::ValidityField</references>
        <referencedby refid="cfe__es__cds_8h_1affdb331f1b40f270906ac22ef1b8d87b" compoundref="cfe__es__cds_8c" startline="188" endline="260">CFE_ES_CDS_EarlyInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1affdb331f1b40f270906ac22ef1b8d87b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_CDS_EarlyInit</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_CDS_EarlyInit</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Initializes CDS data constructs. </para>        </briefdescription>
        <detaileddescription>
<para>Initializes the cFE core module API Library.</para><para><simplesect kind="par"><title>Description</title><para>Locates and validates any pre-existing CDS memory or initializes the memory as a fresh CDS.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<simplesect kind="par"><title>SysLog Messages</title><para></para></simplesect>
<simplesect kind="return"><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="188" column="1" bodyfile="es/cfe_es_cds.c" bodystart="188" bodyend="260"/>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" compoundref="cfe__es__cds_8h" startline="83">CFE_ES_CDSVariables_t::CDSSize</references>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" compoundref="cfe__error_8h" startline="338">CFE_ES_CDS_INVALID</references>
        <references refid="cfe__es__cds_8h_1a79940c2fb60deb3549cb82dd13f4f8aa" compoundref="cfe__es__cds_8h" startline="63">CFE_ES_CDS_MUT_REG_NAME</references>
        <references refid="cfe__es__cds_8h_1ae50cf65b6f0fdbfe5fdb27a0fd31e9e5" compoundref="cfe__es__cds_8h" startline="64">CFE_ES_CDS_MUT_REG_VALUE</references>
        <references refid="cfe__es__cds__mempool_8c_1ac247bca6d63dedd88df78d857b73c848" compoundref="cfe__es__cds__mempool_8c" startline="657" endline="671">CFE_ES_CDSReqdMinSize</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es__cds_8c_1ad5a77531ab384ce7b2c059d205404480" compoundref="cfe__es__cds_8c" startline="420" endline="503">CFE_ES_InitializeCDS</references>
        <references refid="cfe__es__cds_8c_1a358a529ecbfec8c98202d71563e6cc57" compoundref="cfe__es__cds_8c" startline="736" endline="781">CFE_ES_RebuildCDS</references>
        <references refid="cfe__es__cds_8c_1a66594e3f2fd091e2559601fb16df7527" compoundref="cfe__es__cds_8c" startline="367" endline="411">CFE_ES_ValidateCDS</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__psp__memory_8c_1a39271b92d95a61d601db12391cdf6298" compoundref="cfe__psp__memory_8c" startline="208" endline="223">CFE_PSP_GetCDSSize</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" compoundref="cfe__es__cds_8h" startline="84">CFE_ES_CDSVariables_t::MemPoolSize</references>
        <references refid="osapi-os-core_8h_1a1cec40bf769e2db8614c1ef6d9906a8d" compoundref="osapi_8c" startline="2910" endline="3047">OS_MutSemCreate</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1aa89b2e3ca45e2a4221ce11a75e7fd104" compoundref="cfe__es__cds_8h" startline="82">CFE_ES_CDSVariables_t::RegistryMutex</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" compoundref="cfe__es__cds_8h" startline="87">CFE_ES_CDSVariables_t::ValidityField</references>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_RegisterCDSEx</definition>
        <argsstring>(CFE_ES_CDSHandle_t *HandlePtr, int32 BlockSize, const char *Name, boolean CriticalTbl)</argsstring>
        <name>CFE_ES_RegisterCDSEx</name>
        <param>
          <type><ref refid="cfe__es_8h_1aa976e86ad134f5b5ca774f2a89497168" kindref="member">CFE_ES_CDSHandle_t</ref> *</type>
          <declname>HandlePtr</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
          <declname>BlockSize</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>Name</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1ac3ecf6d00ebd3dd79ea00efdc71d9c33" kindref="member">boolean</ref></type>
          <declname>CriticalTbl</declname>
        </param>
        <briefdescription>
<para>Reserve space (or re-obtain previously reserved space) in the Critical Data Store (CDS) </para>        </briefdescription>
        <detaileddescription>
<para>cFE Core task other function call prototypes <simplesect kind="par"><title>Description</title><para>This routine is identical to <ref refid="cfe__es__api_8c_1a9749b20ef5b73dc49701f29e89219d3d" kindref="member">CFE_ES_RegisterCDS</ref> except it identifies the contents of the CDS as a critical table. This is crucial because a critical table CDS must only be deleted by cFE Table Services, not via an ES delete CDS command. Otherwise, Table Services may be out of sync with the contents of the CDS.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para><orderedlist>
<listitem><para>This function assumes input parameters are error free and have met size/value restrictions.</para></listitem><listitem><para>The calling function is responsible for issuing any event messages associated with errors.</para></listitem></orderedlist>
</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">HandlePtr</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer Application&apos;s variable that will contain the CDS Memory Block Handle.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">BlockSize</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of bytes needed in the CDS.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">Name</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to character string containing the Application&apos;s local name for the CDS.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">CriticalTbl</parametername>
</parameternamelist>
<parameterdescription>
<para>Indicates whether the CDS is to be used as a Critical Table or not</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">*HandlePtr</parametername>
</parameternamelist>
<parameterdescription>
<para>The handle of the CDS block that can be used in <ref refid="cfe__es__api_8c_1a4e188008567eae18b36d80408f34e8f9" kindref="member">CFE_ES_CopyToCDS</ref> and <ref refid="cfe__es__api_8c_1ae84ae4564568be8f1cf30f4c8bf78077" kindref="member">CFE_ES_RestoreFromCDS</ref>.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>See return codes for <ref refid="cfe__es__api_8c_1a9749b20ef5b73dc49701f29e89219d3d" kindref="member">CFE_ES_RegisterCDS</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="269" column="1" bodyfile="es/cfe_es_cds.c" bodystart="269" bodyend="358"/>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__error_8h_1a19394558c178c3399c355488ac59dff8" compoundref="cfe__error_8h" startline="299">CFE_ES_CDS_ALREADY_EXISTS</references>
        <references refid="cfe__es_8h_1ab78c1059e02707f7c416a7044d89c962" compoundref="cfe__es_8h" startline="179">CFE_ES_CDS_MAX_FULL_NAME_LEN</references>
        <references refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" compoundref="cfe__es__cds_8h" startline="66">CFE_ES_CDS_NOT_FOUND</references>
        <references refid="cfe__error_8h_1a16a4d76e4bba7c4d4bc2ab7a74b44d94" compoundref="cfe__error_8h" startline="331">CFE_ES_CDS_REGISTRY_FULL</references>
        <references refid="cfe__es__cds_8c_1a252ae7d956a2127fda45b374d167ad72" compoundref="cfe__es__cds_8c" startline="675" endline="698">CFE_ES_FindCDSInRegistry</references>
        <references refid="cfe__es__cds_8c_1aabbcdc9b09452e984671a8c681af6262" compoundref="cfe__es__cds_8c" startline="708" endline="726">CFE_ES_FindFreeCDSRegistryEntry</references>
        <references refid="cfe__es__cds__mempool_8c_1a257c495c842dfea488228dfa9c21693d" compoundref="cfe__es__cds__mempool_8c" startline="290" endline="385">CFE_ES_GetCDSBlock</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es__cds_8c_1afb3e1b83c010ecbde25603316bb11779" compoundref="cfe__es__cds_8c" startline="629" endline="642">CFE_ES_LockCDSRegistry</references>
        <references refid="cfe__es__cds__mempool_8c_1aeb7ce6df79dddc269e57744724b8d033" compoundref="cfe__es__cds__mempool_8c" startline="390" endline="454">CFE_ES_PutCDSBlock</references>
        <references refid="cfe__es__cds_8c_1a2be11180893590edd75d95bf2fe371be" compoundref="cfe__es__cds_8c" startline="652" endline="665">CFE_ES_UnlockCDSRegistry</references>
        <references refid="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" compoundref="cfe__es__cds_8c" startline="552" endline="567">CFE_ES_UpdateCDSRegistry</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" compoundref="cfe__es__cds_8h" startline="74">CFE_ES_CDS_RegRec_t::MemHandle</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" compoundref="cfe__es__cds_8h" startline="73">CFE_ES_CDS_RegRec_t::Name</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" compoundref="cfe__es__cds_8h" startline="86">CFE_ES_CDSVariables_t::Registry</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa54841092984192b2c868cfc2da5fa96" compoundref="cfe__es__cds_8h" startline="75">CFE_ES_CDS_RegRec_t::Size</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1abc165540b9ebf26d71b3b911eca8348c" compoundref="cfe__es__cds_8h" startline="77">CFE_ES_CDS_RegRec_t::Table</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" compoundref="cfe__es__cds_8h" startline="76">CFE_ES_CDS_RegRec_t::Taken</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" compoundref="common__types_8h" startline="314">TRUE</references>
        <referencedby refid="cfe__es__api_8c_1a9749b20ef5b73dc49701f29e89219d3d" compoundref="cfe__es__api_8c" startline="1526" endline="1598">CFE_ES_RegisterCDS</referencedby>
        <referencedby refid="cfe__tbl__internal_8c_1a6b6bd14ad2156d4d1ca50748a5d49c8f" compoundref="cfe__tbl__internal_8c" startline="102" endline="293">CFE_TBL_EarlyInit</referencedby>
        <referencedby refid="cfe__tbl__api_8c_1a02649cb295b154981365de11e0bb6683" compoundref="cfe__tbl__api_8c" startline="90" endline="539">CFE_TBL_Register</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_UpdateCDSRegistry</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_UpdateCDSRegistry</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Copies the local version of the CDS Registry to the actual CDS. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Copies the local working copy of the CDS Registry to the CDS.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> Operation was performed successfully </para></simplesect>
<simplesect kind="return"><para>Any of the return values from <ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="552" column="1" bodyfile="es/cfe_es_cds.c" bodystart="552" bodyend="567"/>
        <references refid="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" compoundref="cfe__es__cds_8c" startline="95">CDS_REG_OFFSET</references>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" compoundref="cfe__psp__memory_8c" startline="238" endline="264">CFE_PSP_WriteToCDS</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" compoundref="osapi_8h" startline="87">OS_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" compoundref="cfe__es__cds_8h" startline="86">CFE_ES_CDSVariables_t::Registry</references>
        <referencedby refid="cfe__es__cds_8c_1aaa8e9232510d63e6aa72ff105eb23d37" compoundref="cfe__es__cds_8c" startline="791" endline="876">CFE_ES_DeleteCDS</referencedby>
        <referencedby refid="cfe__es__cds_8h_1a920a2b86f3e8258fac52bb888c2fdf08" compoundref="cfe__es__cds_8c" startline="512" endline="543">CFE_ES_InitCDSRegistry</referencedby>
        <referencedby refid="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" compoundref="cfe__es__cds_8c" startline="269" endline="358">CFE_ES_RegisterCDSEx</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1a4545d93282d5abbcb28b4925976d43ee" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_CDS_ValidateAppID</definition>
        <argsstring>(uint32 *AppIdPtr)</argsstring>
        <name>CFE_ES_CDS_ValidateAppID</name>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref> *</type>
          <declname>AppIdPtr</declname>
        </param>
        <briefdescription>
<para>Validates the Application ID associated with calling Application. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Validates Application ID of calling App. Validation consists of ensuring the AppID is between zero and #CFE_ES_MAX_APPLICATIONS.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">AppIdPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to value that will hold AppID on return.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">*AppIdPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>The AppID as obtained from <ref refid="cfe__es__api_8c_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref></para></parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>Operation was performed successfully </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername><ref refid="cfe__error_8h_1a20d9f25d56c85be712a7e10c1d9efb85" kindref="member">CFE_ES_ERR_APPID</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>The given application ID does not reflect a currently active application. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="576" column="1" bodyfile="es/cfe_es_cds.c" bodystart="576" bodyend="596"/>
        <references refid="cfe__error_8h_1a20d9f25d56c85be712a7e10c1d9efb85" compoundref="cfe__error_8h" startline="227">CFE_ES_ERR_APPID</references>
        <references refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" compoundref="cfe__es__api_8c" startline="784" endline="810">CFE_ES_GetAppID</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <referencedby refid="cfe__es__api_8c_1a9749b20ef5b73dc49701f29e89219d3d" compoundref="cfe__es__api_8c" startline="1526" endline="1598">CFE_ES_RegisterCDS</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1ae4a489c0f37b543d7e8a781b3a833ce3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void CFE_ES_FormCDSName</definition>
        <argsstring>(char *FullCDSName, const char *CDSName, uint32 ThisAppId)</argsstring>
        <name>CFE_ES_FormCDSName</name>
        <param>
          <type>char *</type>
          <declname>FullCDSName</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>CDSName</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref></type>
          <declname>ThisAppId</declname>
        </param>
        <briefdescription>
<para>Creates a Full CDS name from application name and CDS name. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Takes a given CDS Name and combines it with the calling Application&apos;s name to make a processor specific name of the form: &quot;AppName.CDSName&quot;</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>Note: AppName portion will be truncated to OS_MAX_API_NAME.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">FullCDSName</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to character buffer of <ref refid="cfe__es_8h_1ab78c1059e02707f7c416a7044d89c962" kindref="member">CFE_ES_CDS_MAX_FULL_NAME_LEN</ref> size that will be filled with the processor specific CDS Name.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">CDSName</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to character string containing the Application&apos;s local name for the CDS.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">ThisAppId</parametername>
</parameternamelist>
<parameterdescription>
<para>the Application ID of the Application making the call.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">*FullCDSName</parametername>
</parameternamelist>
<parameterdescription>
<para>processor specific CDS Name of the form &quot;AppName.CDSName&quot;.</para></parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>None</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="606" column="1" bodyfile="es/cfe_es_cds.c" bodystart="606" bodyend="619"/>
        <references refid="cfe__es_8h_1afd92c81b56467c04b95aa0440e8e3751" compoundref="cfe__es__api_8c" startline="819" endline="847">CFE_ES_GetAppName</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <referencedby refid="cfe__es__api_8c_1a9749b20ef5b73dc49701f29e89219d3d" compoundref="cfe__es__api_8c" startline="1526" endline="1598">CFE_ES_RegisterCDS</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1afb3e1b83c010ecbde25603316bb11779" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_LockCDSRegistry</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_LockCDSRegistry</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Locks access to the CDS Registry. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Locks the CDS Registry to prevent multiple tasks/threads from modifying it at once.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>Operation was performed successfully </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="629" column="1" bodyfile="es/cfe_es_cds.c" bodystart="629" bodyend="642"/>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="osapi-os-core_8h_1a77239ad1acd87f235cdc45142cc0d39f" compoundref="osapi_8c" startline="3160" endline="3198">OS_MutSemTake</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" compoundref="osapi_8h" startline="87">OS_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1aa89b2e3ca45e2a4221ce11a75e7fd104" compoundref="cfe__es__cds_8h" startline="82">CFE_ES_CDSVariables_t::RegistryMutex</references>
        <referencedby refid="cfe__es__cds_8c_1aaa8e9232510d63e6aa72ff105eb23d37" compoundref="cfe__es__cds_8c" startline="791" endline="876">CFE_ES_DeleteCDS</referencedby>
        <referencedby refid="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" compoundref="cfe__es__cds_8c" startline="269" endline="358">CFE_ES_RegisterCDSEx</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1a2be11180893590edd75d95bf2fe371be" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_UnlockCDSRegistry</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_UnlockCDSRegistry</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Unlocks access to the CDS Registry. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Unlocks CDS Registry to allow other tasks/threads to modify the CDS Registry contents.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>Operation was performed successfully </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="652" column="1" bodyfile="es/cfe_es_cds.c" bodystart="652" bodyend="665"/>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="osapi-os-core_8h_1a48964b6567f9ceda86a51ebc02fb88c5" compoundref="osapi_8c" startline="3115" endline="3144">OS_MutSemGive</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" compoundref="osapi_8h" startline="87">OS_SUCCESS</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1aa89b2e3ca45e2a4221ce11a75e7fd104" compoundref="cfe__es__cds_8h" startline="82">CFE_ES_CDSVariables_t::RegistryMutex</references>
        <referencedby refid="cfe__es__cds_8c_1aaa8e9232510d63e6aa72ff105eb23d37" compoundref="cfe__es__cds_8c" startline="791" endline="876">CFE_ES_DeleteCDS</referencedby>
        <referencedby refid="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" compoundref="cfe__es__cds_8c" startline="269" endline="358">CFE_ES_RegisterCDSEx</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1a252ae7d956a2127fda45b374d167ad72" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_FindCDSInRegistry</definition>
        <argsstring>(const char *CDSName)</argsstring>
        <name>CFE_ES_FindCDSInRegistry</name>
        <param>
          <type>const char *</type>
          <declname>CDSName</declname>
        </param>
        <briefdescription>
<para>Returns the Registry Index for the specified CDS Name. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Locates given CDS Name in the CDS Registry and returns the appropriate Registry Index.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CDSName</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to character string containing complete CDS Name (of the format &quot;AppName.CDSName&quot;).</para></parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>or the Index into Registry for Table with specified name </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="675" column="1" bodyfile="es/cfe_es_cds.c" bodystart="675" bodyend="698"/>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" compoundref="cfe__es__cds_8h" startline="66">CFE_ES_CDS_NOT_FOUND</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" compoundref="cfe__es__cds_8h" startline="85">CFE_ES_CDSVariables_t::MaxNumRegEntries</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" compoundref="cfe__es__cds_8h" startline="73">CFE_ES_CDS_RegRec_t::Name</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" compoundref="cfe__es__cds_8h" startline="86">CFE_ES_CDSVariables_t::Registry</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" compoundref="cfe__es__cds_8h" startline="76">CFE_ES_CDS_RegRec_t::Taken</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" compoundref="common__types_8h" startline="314">TRUE</references>
        <referencedby refid="cfe__es__cds_8c_1aaa8e9232510d63e6aa72ff105eb23d37" compoundref="cfe__es__cds_8c" startline="791" endline="876">CFE_ES_DeleteCDS</referencedby>
        <referencedby refid="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" compoundref="cfe__es__cds_8c" startline="269" endline="358">CFE_ES_RegisterCDSEx</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1aabbcdc9b09452e984671a8c681af6262" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_FindFreeCDSRegistryEntry</definition>
        <argsstring>(void)</argsstring>
        <name>CFE_ES_FindFreeCDSRegistryEntry</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Locates a free slot in the CDS Registry. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Locates a free slot in the CDS Registry.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>Note: This function assumes the registry has been locked.</para></simplesect>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>or Index into CDS Registry of unused entry </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="708" column="1" bodyfile="es/cfe_es_cds.c" bodystart="708" bodyend="726"/>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" compoundref="cfe__es__cds_8h" startline="66">CFE_ES_CDS_NOT_FOUND</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" compoundref="common__types_8h" startline="318">FALSE</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" compoundref="cfe__es__cds_8h" startline="85">CFE_ES_CDSVariables_t::MaxNumRegEntries</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" compoundref="cfe__es__cds_8h" startline="86">CFE_ES_CDSVariables_t::Registry</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" compoundref="cfe__es__cds_8h" startline="76">CFE_ES_CDS_RegRec_t::Taken</references>
        <referencedby refid="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" compoundref="cfe__es__cds_8c" startline="269" endline="358">CFE_ES_RegisterCDSEx</referencedby>
      </memberdef>
      <memberdef kind="function" id="cfe__es__cds_8c_1aaa8e9232510d63e6aa72ff105eb23d37" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref></type>
        <definition>int32 CFE_ES_DeleteCDS</definition>
        <argsstring>(const char *CDSName, boolean CalledByTblServices)</argsstring>
        <name>CFE_ES_DeleteCDS</name>
        <param>
          <type>const char *</type>
          <declname>CDSName</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1ac3ecf6d00ebd3dd79ea00efdc71d9c33" kindref="member">boolean</ref></type>
          <declname>CalledByTblServices</declname>
        </param>
        <briefdescription>
<para>Deletes the specified CDS from the CDS Registry and frees CDS Memory. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>Removes the record of the specified CDS from the CDS Registry and frees the associated CDS memory for future use.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CDSName</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to character string containing complete CDS Name (of the format &quot;AppName.CDSName&quot;).</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">CalledByTblServices</parametername>
</parameternamelist>
<parameterdescription>
<para>- Flag that identifies whether the CDS is supposed to be a Critical Table Image or not.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref> Operation was performed successfully </para></simplesect>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1a569d444dfdfbcc450879a8fc1471be09" kindref="member">CFE_ES_CDS_WRONG_TYPE_ERR</ref> Occurs when Table Services is trying to delete a Critical Data Store that is not a Critical Table Image or when Executive Services is trying to delete a Critical Table Image. </para></simplesect>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1ad6be372a21f906888f1d55201135878e" kindref="member">CFE_ES_CDS_OWNER_ACTIVE_ERR</ref> Occurs when an attempt was made to delete a CDS when an application with the same name associated with the CDS is still present. CDSs can ONLY be deleted when Applications that created them are not present in the system. </para></simplesect>
<simplesect kind="return"><para><ref refid="cfe__error_8h_1a1a25151aeeca680bc059873d5e3c0a61" kindref="member">CFE_ES_CDS_NOT_FOUND_ERR</ref> Occurs when a search of the Critical Data Store Registry does not find a critical data store with the specified name. </para></simplesect>
<simplesect kind="return"><para>Any of the return values from <ref refid="cfe__es__cds_8h_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" kindref="member">CFE_ES_UpdateCDSRegistry</ref> </para></simplesect>
<simplesect kind="return"><para>Any of the return values from <ref refid="cfe__es__cds__mempool_8h_1aeb7ce6df79dddc269e57744724b8d033" kindref="member">CFE_ES_PutCDSBlock</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="es/cfe_es_cds.c" line="791" column="1" bodyfile="es/cfe_es_cds.c" bodystart="791" bodyend="876"/>
        <references refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" compoundref="cfe__es__global_8h" startline="166">CFE_ES_Global_t::CDSVars</references>
        <references refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" compoundref="cfe__es__cds_8h" startline="66">CFE_ES_CDS_NOT_FOUND</references>
        <references refid="cfe__error_8h_1a1a25151aeeca680bc059873d5e3c0a61" compoundref="cfe__error_8h" startline="443">CFE_ES_CDS_NOT_FOUND_ERR</references>
        <references refid="cfe__error_8h_1ad6be372a21f906888f1d55201135878e" compoundref="cfe__error_8h" startline="452">CFE_ES_CDS_OWNER_ACTIVE_ERR</references>
        <references refid="cfe__error_8h_1a569d444dfdfbcc450879a8fc1471be09" compoundref="cfe__error_8h" startline="436">CFE_ES_CDS_WRONG_TYPE_ERR</references>
        <references refid="cfe__error_8h_1a8134921ee07f48bab5c9e1733f0a34cf" compoundref="cfe__error_8h" startline="233">CFE_ES_ERR_APPNAME</references>
        <references refid="cfe__es__cds_8c_1a252ae7d956a2127fda45b374d167ad72" compoundref="cfe__es__cds_8c" startline="675" endline="698">CFE_ES_FindCDSInRegistry</references>
        <references refid="cfe__es_8h_1a8422894d9e2e2c2618d0f4d6006fe53c" compoundref="cfe__es__api_8c" startline="748" endline="775">CFE_ES_GetAppIDByName</references>
        <references refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" compoundref="cfe__es__start_8c" startline="146">CFE_ES_Global</references>
        <references refid="cfe__es__cds_8c_1afb3e1b83c010ecbde25603316bb11779" compoundref="cfe__es__cds_8c" startline="629" endline="642">CFE_ES_LockCDSRegistry</references>
        <references refid="cfe__es__cds__mempool_8c_1aeb7ce6df79dddc269e57744724b8d033" compoundref="cfe__es__cds__mempool_8c" startline="390" endline="454">CFE_ES_PutCDSBlock</references>
        <references refid="cfe__es__cds_8c_1a2be11180893590edd75d95bf2fe371be" compoundref="cfe__es__cds_8c" startline="652" endline="665">CFE_ES_UnlockCDSRegistry</references>
        <references refid="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" compoundref="cfe__es__cds_8c" startline="552" endline="567">CFE_ES_UpdateCDSRegistry</references>
        <references refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d">CFE_ES_WriteToSysLog</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" compoundref="cfe__error_8h" startline="162">CFE_SUCCESS</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" compoundref="common__types_8h" startline="318">FALSE</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" compoundref="cfe__es__cds_8h" startline="74">CFE_ES_CDS_RegRec_t::MemHandle</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" compoundref="cfe__es__cds_8h" startline="73">CFE_ES_CDS_RegRec_t::Name</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" compoundref="common__types_8h" startline="310">NULL</references>
        <references refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" compoundref="stubs_8c" startline="36">OS_MAX_API_NAME</references>
        <references refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" compoundref="cfe__es__cds_8h" startline="86">CFE_ES_CDSVariables_t::Registry</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1abc165540b9ebf26d71b3b911eca8348c" compoundref="cfe__es__cds_8h" startline="77">CFE_ES_CDS_RegRec_t::Table</references>
        <references refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" compoundref="cfe__es__cds_8h" startline="76">CFE_ES_CDS_RegRec_t::Taken</references>
        <referencedby refid="cfe__es__task_8h_1a4cd32c821166b48286fe0c0c22935ffd" compoundref="cfe__es__task_8c" startline="1971" endline="2027">CFE_ES_DeleteCDSCmd</referencedby>
        <referencedby refid="cfe__tbl__task__cmds_8h_1aed9f95402d3b85222ed70583d85e9928" compoundref="cfe__tbl__task__cmds_8c" startline="1381" endline="1469">CFE_TBL_DeleteCDSCmd</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment">**<sp/><sp/>File:<sp/><sp/></highlight></codeline>
<codeline lineno="3"><highlight class="comment">**<sp/><sp/><sp/><sp/>cfe_es_cds.c</highlight></codeline>
<codeline lineno="4"><highlight class="comment">**</highlight></codeline>
<codeline lineno="5"><highlight class="comment">**</highlight></codeline>
<codeline lineno="6"><highlight class="comment">**</highlight></codeline>
<codeline lineno="7"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>Copyright<sp/>(c)<sp/>2004-2012,<sp/>United<sp/>States<sp/>government<sp/>as<sp/>represented<sp/>by<sp/>the<sp/></highlight></codeline>
<codeline lineno="8"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>administrator<sp/>of<sp/>the<sp/>National<sp/>Aeronautics<sp/>Space<sp/>Administration.<sp/><sp/></highlight></codeline>
<codeline lineno="9"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>All<sp/>rights<sp/>reserved.<sp/>This<sp/>software(cFE)<sp/>was<sp/>created<sp/>at<sp/>NASA<sp/>Goddard<sp/></highlight></codeline>
<codeline lineno="10"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>Space<sp/>Flight<sp/>Center<sp/>pursuant<sp/>to<sp/>government<sp/>contracts.</highlight></codeline>
<codeline lineno="11"><highlight class="comment">**</highlight></codeline>
<codeline lineno="12"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>is<sp/>governed<sp/>by<sp/>the<sp/>NASA<sp/>Open<sp/>Source<sp/>Agreement<sp/>and<sp/>may<sp/>be<sp/>used,<sp/></highlight></codeline>
<codeline lineno="13"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>distributed<sp/>and<sp/>modified<sp/>only<sp/>pursuant<sp/>to<sp/>the<sp/>terms<sp/>of<sp/>that<sp/>agreement.</highlight></codeline>
<codeline lineno="14"><highlight class="comment">**</highlight></codeline>
<codeline lineno="15"><highlight class="comment">**<sp/><sp/>Purpose:<sp/><sp/></highlight></codeline>
<codeline lineno="16"><highlight class="comment">**<sp/><sp/><sp/><sp/>This<sp/>file<sp/>implements<sp/>the<sp/>cFE<sp/>Executive<sp/>Services<sp/>Critical<sp/>Data<sp/>Store<sp/>functions.</highlight></codeline>
<codeline lineno="17"><highlight class="comment">**</highlight></codeline>
<codeline lineno="18"><highlight class="comment">**<sp/><sp/>References:</highlight></codeline>
<codeline lineno="19"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/>Flight<sp/>Software<sp/>Branch<sp/>C<sp/>Coding<sp/>Standard<sp/>Version<sp/>1.0a</highlight></codeline>
<codeline lineno="20"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/>cFE<sp/>Flight<sp/>Software<sp/>Application<sp/>Developers<sp/>Guide</highlight></codeline>
<codeline lineno="21"><highlight class="comment">**</highlight></codeline>
<codeline lineno="22"><highlight class="comment">**<sp/><sp/>Notes:</highlight></codeline>
<codeline lineno="23"><highlight class="comment">**<sp/></highlight></codeline>
<codeline lineno="24"><highlight class="comment">**<sp/><sp/>Modification<sp/>History:</highlight></codeline>
<codeline lineno="25"><highlight class="comment">**</highlight></codeline>
<codeline lineno="26"><highlight class="comment">**<sp/>$Log:<sp/>cfe_es_cds.c<sp/><sp/>$</highlight></codeline>
<codeline lineno="27"><highlight class="comment">**<sp/>Revision<sp/>1.7<sp/>2014/08/22<sp/>15:50:11GMT-05:00<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="28"><highlight class="comment">**<sp/>Changed<sp/>signed<sp/>loop<sp/>counters<sp/>to<sp/>unsigned</highlight></codeline>
<codeline lineno="29"><highlight class="comment">**<sp/>Revision<sp/>1.6<sp/>2014/05/05<sp/>13:21:40EDT<sp/>acudmore<sp/></highlight></codeline>
<codeline lineno="30"><highlight class="comment">**<sp/>Changed<sp/>strncpy<sp/>call<sp/>to<sp/>use<sp/>correct<sp/>define<sp/>(<sp/>CFE_ES_CDS_MAX_FULL_NAME_LEN<sp/>)</highlight></codeline>
<codeline lineno="31"><highlight class="comment">**<sp/>Revision<sp/>1.5<sp/>2014/04/23<sp/>15:25:52GMT-05:00<sp/>acudmore<sp/></highlight></codeline>
<codeline lineno="32"><highlight class="comment">**<sp/>Reversed<sp/>&quot;if&quot;<sp/>clause<sp/>order<sp/>to<sp/>check<sp/>if<sp/>array<sp/>index<sp/>is<sp/>out<sp/>of<sp/>bounds<sp/>before<sp/>using<sp/>it.</highlight></codeline>
<codeline lineno="33"><highlight class="comment">**<sp/>Revision<sp/>1.4<sp/>2012/02/08<sp/>16:24:11GMT-05:00<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="34"><highlight class="comment">**<sp/>Added<sp/>test<sp/>for<sp/>function<sp/>result</highlight></codeline>
<codeline lineno="35"><highlight class="comment">**<sp/>Revision<sp/>1.3<sp/>2012/01/13<sp/>11:50:00EST<sp/>acudmore<sp/></highlight></codeline>
<codeline lineno="36"><highlight class="comment">**<sp/>Changed<sp/>license<sp/>text<sp/>to<sp/>reflect<sp/>open<sp/>source</highlight></codeline>
<codeline lineno="37"><highlight class="comment">**<sp/>Revision<sp/>1.2<sp/>2009/06/10<sp/>09:08:53EDT<sp/>acudmore<sp/></highlight></codeline>
<codeline lineno="38"><highlight class="comment">**<sp/>Converted<sp/>OS_Mem*<sp/>and<sp/>OS_BSP*<sp/>API<sp/>to<sp/>CFE_PSP_*<sp/>API</highlight></codeline>
<codeline lineno="39"><highlight class="comment">**<sp/>Revision<sp/>1.1<sp/>2008/04/17<sp/>08:05:03EDT<sp/>ruperera<sp/></highlight></codeline>
<codeline lineno="40"><highlight class="comment">**<sp/>Initial<sp/>revision</highlight></codeline>
<codeline lineno="41"><highlight class="comment">**<sp/>Member<sp/>added<sp/>to<sp/>project<sp/>c:/MKSDATA/MKS-REPOSITORY/MKS-CFE-PROJECT/fsw/cfe-core/src/es/project.pj</highlight></codeline>
<codeline lineno="42"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.16<sp/>2007/07/11<sp/>11:42:30EDT<sp/>David<sp/>Kobe<sp/>(dlkobe)<sp/></highlight></codeline>
<codeline lineno="43"><highlight class="comment">**<sp/>Only<sp/>allocates<sp/>CDS<sp/>Registry<sp/>Record<sp/>after<sp/>successful<sp/>registration</highlight></codeline>
<codeline lineno="44"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.15<sp/>2007/06/07<sp/>09:35:33EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="45"><highlight class="comment">**<sp/>Corrected<sp/>Error<sp/>in<sp/>Delete<sp/>CDS<sp/>function</highlight></codeline>
<codeline lineno="46"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.14<sp/>2007/05/04<sp/>15:51:31EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="47"><highlight class="comment">**<sp/>Added<sp/>CFE_ES_DeleteCDS<sp/>function<sp/>to<sp/>allow<sp/>TBL<sp/>and<sp/>ES<sp/>to<sp/>use<sp/>common<sp/>code</highlight></codeline>
<codeline lineno="48"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.13<sp/>2007/04/28<sp/>16:08:07EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="49"><highlight class="comment">**<sp/>Corrected<sp/>yet<sp/>another<sp/>file<sp/>corruption</highlight></codeline>
<codeline lineno="50"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.12<sp/>2007/04/28<sp/>15:57:01EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="51"><highlight class="comment">**<sp/>Added<sp/>&quot;cfe_es_cds.h&quot;<sp/>includes<sp/>to<sp/>resolve<sp/>sudden<sp/>errors.</highlight></codeline>
<codeline lineno="52"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.11<sp/>2007/04/28<sp/>15:50:26EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="53"><highlight class="comment">**<sp/>Fixed<sp/>typos<sp/>leftover<sp/>from<sp/>restructuring</highlight></codeline>
<codeline lineno="54"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.10<sp/>2007/04/28<sp/>15:48:45EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="55"><highlight class="comment">**<sp/>Correcting<sp/>Corrupted<sp/>File</highlight></codeline>
<codeline lineno="56"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.9<sp/>2007/04/28<sp/>15:35:20EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="57"><highlight class="comment">**<sp/>Corrected<sp/>Typos<sp/>from<sp/>restructuring</highlight></codeline>
<codeline lineno="58"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.8<sp/>2007/04/28<sp/>15:32:38EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="59"><highlight class="comment">**<sp/>Restructured<sp/>CFE_ES_RegisterCDS<sp/>call<sp/>to<sp/>avoid<sp/>Application<sp/>Unknown<sp/>Error</highlight></codeline>
<codeline lineno="60"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.7<sp/>2007/04/28<sp/>15:04:43EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="61"><highlight class="comment">**<sp/>Corrected<sp/>Variable<sp/>Name<sp/>Typo</highlight></codeline>
<codeline lineno="62"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.6<sp/>2007/04/28<sp/>14:49:02EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="63"><highlight class="comment">**<sp/>Baseline<sp/>Implementation<sp/>of<sp/>Critical<sp/>Tables</highlight></codeline>
<codeline lineno="64"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.5<sp/>2007/04/26<sp/>15:39:35EDT<sp/>rjmcgraw<sp/></highlight></codeline>
<codeline lineno="65"><highlight class="comment">**<sp/>Added<sp/>error<sp/>returns<sp/>in<sp/>CFE_ES_CDS_EarlyInit</highlight></codeline>
<codeline lineno="66"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.4<sp/>2007/04/13<sp/>16:24:02EDT<sp/>apcudmore<sp/></highlight></codeline>
<codeline lineno="67"><highlight class="comment">**<sp/>Changed<sp/>EarlyInit<sp/>function<sp/>to<sp/>return<sp/>int32<sp/>status</highlight></codeline>
<codeline lineno="68"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.3<sp/>2007/04/04<sp/>16:06:41EDT<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="69"><highlight class="comment">**<sp/>Made<sp/>numerous<sp/>changes<sp/>to<sp/>correct<sp/>issues<sp/>identified<sp/>during<sp/>ES<sp/>code<sp/>walkthrough</highlight></codeline>
<codeline lineno="70"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.2<sp/>2006/10/30<sp/>15:28:29GMT-05:00<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="71"><highlight class="comment">**<sp/>Removed<sp/>extra<sp/>&quot;PoolSize&quot;<sp/>variable</highlight></codeline>
<codeline lineno="72"><highlight class="comment">**<sp/>Revision<sp/>1.2.1.1<sp/>2006/10/30<sp/>11:05:04GMT-05:00<sp/>dlkobe<sp/></highlight></codeline>
<codeline lineno="73"><highlight class="comment">**<sp/>Initial<sp/>revision</highlight></codeline>
<codeline lineno="74"><highlight class="comment">**<sp/>Member<sp/>added<sp/>to<sp/>project<sp/>d:/mksdata/MKS-CFE-PROJECT/fsw/cfe-core/src/es/project.pj</highlight></codeline>
<codeline lineno="75"><highlight class="comment">**</highlight></codeline>
<codeline lineno="76"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="79"><highlight class="comment">**<sp/>Required<sp/>header<sp/>files.</highlight></codeline>
<codeline lineno="80"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__private_8h" kindref="compound">private/cfe_private.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__es__apps_8h" kindref="compound">cfe_es_apps.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__es__cds_8h" kindref="compound">cfe_es_cds.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__es__global_8h" kindref="compound">cfe_es_global.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cfe_psp.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe__es__cds__mempool_8h" kindref="compound">cfe_es_cds_mempool.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdarg.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Define<sp/>offset<sp/>addresses<sp/>for<sp/>CDS<sp/>data<sp/>segments<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Each<sp/>segment<sp/>is<sp/>guaranteed<sp/>to<sp/>start<sp/>at<sp/>a<sp/>4-byte<sp/>offset<sp/>boundary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="cfe__es__cds_8c_1a84c4dbba552f3fbf85b023a828d51f66" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CDS_REG_SIZE_OFFSET<sp/>((sizeof(CFE_ES_Global.CDSVars.ValidityField)+3)<sp/>&amp;<sp/>0xfffffffc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95" refid="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CDS_REG_OFFSET<sp/><sp/><sp/><sp/><sp/><sp/>(((CDS_REG_SIZE_OFFSET<sp/>+<sp/>sizeof(CFE_ES_Global.CDSVars.MaxNumRegEntries))<sp/>+<sp/>3)<sp/>&amp;<sp/>0xfffffffc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96" refid="cfe__es__cds_8c_1a2f4410979bec89de5a298e1f1fe9e4b4" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CDS_POOL_OFFSET<sp/><sp/><sp/><sp/><sp/>(((CDS_REG_OFFSET<sp/>+<sp/>(CFE_ES_CDS_MAX_NUM_ENTRIES<sp/>*<sp/>sizeof(CFE_ES_CDS_RegRec_t)))<sp/>+<sp/>3)<sp/>&amp;<sp/>0xfffffffc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="comment">/*****************************************************************************/</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a66594e3f2fd091e2559601fb16df7527" kindref="member">CFE_ES_ValidateCDS</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="comment">/*****************************************************************************/</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1ad5a77531ab384ce7b2c059d205404480" kindref="member">CFE_ES_InitializeCDS</ref>(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>CDSSize);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="comment">/*****************************************************************************/</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a920a2b86f3e8258fac52bb888c2fdf08" kindref="member">CFE_ES_InitCDSRegistry</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="comment">/*****************************************************************************/</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a358a529ecbfec8c98202d71563e6cc57" kindref="member">CFE_ES_RebuildCDS</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="comment">/*****************************************************************************/</highlight></codeline>
<codeline lineno="188" refid="cfe__es__cds_8h_1affdb331f1b40f270906ac22ef1b8d87b" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1affdb331f1b40f270906ac22ef1b8d87b" kindref="member">CFE_ES_CDS_EarlyInit</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="189"><highlight class="normal">{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>MinRequiredSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compute<sp/>the<sp/>minimum<sp/>size<sp/>required<sp/>for<sp/>the<sp/>CDS<sp/>with<sp/>the<sp/>current<sp/>configuration<sp/>of<sp/>the<sp/>cFE<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>MinRequiredSize<sp/>=<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>)<sp/>*<sp/>2)<sp/>+<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Minimum<sp/>size<sp/>for<sp/>validity<sp/>fields<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(CFE_ES_CDS_MAX_NUM_ENTRIES<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t" kindref="compound">CFE_ES_CDS_RegRec_t</ref>))<sp/>+<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Minimum<sp/>size<sp/>for<sp/>CDS<sp/>Registry<sp/>contents<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds__mempool_8c_1ac247bca6d63dedd88df78d857b73c848" kindref="member">CFE_ES_CDSReqdMinSize</ref>(CFE_ES_CDS_MAX_NUM_ENTRIES);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Max<sp/>#<sp/>of<sp/>Min<sp/>Sized<sp/>Blocks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>CDS<sp/>size<sp/>from<sp/>OS<sp/>BSP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1a39271b92d95a61d601db12391cdf6298" kindref="member">CFE_PSP_GetCDSSize</ref>(&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref>);</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>size<sp/>was<sp/>obtained<sp/>successfully<sp/>and<sp/>meets<sp/>the<sp/>minimum<sp/>requirements,<sp/>then<sp/>check<sp/>its<sp/>contents<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Always<sp/>truncate<sp/>the<sp/>size<sp/>to<sp/>the<sp/>nearest<sp/>4<sp/>byte<sp/>boundary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref><sp/>&amp;=<sp/>0xfffffffc;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref><sp/>&gt;=<sp/>MinRequiredSize)</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a66594e3f2fd091e2559601fb16df7527" kindref="member">CFE_ES_ValidateCDS</ref>();</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>CDS<sp/>is<sp/>accessible<sp/>but<sp/>invalid,<sp/>then<sp/>create<sp/>a<sp/>new<sp/>one<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" kindref="member">CFE_ES_CDS_INVALID</ref>)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1ad5a77531ab384ce7b2c059d205404480" kindref="member">CFE_ES_InitializeCDS</ref>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref>);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>a<sp/>valid<sp/>CDS<sp/>was<sp/>found,<sp/>rebuild<sp/>the<sp/>memory<sp/>pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a358a529ecbfec8c98202d71563e6cc57" kindref="member">CFE_ES_RebuildCDS</ref>();</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>rebuilding<sp/>is<sp/>not<sp/>possible,<sp/>then<sp/>create<sp/>a<sp/>new<sp/>one<sp/>from<sp/>scratch<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" kindref="member">CFE_ES_CDS_INVALID</ref>)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1ad5a77531ab384ce7b2c059d205404480" kindref="member">CFE_ES_InitializeCDS</ref>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref>);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>Unrecoverable<sp/>error<sp/>while<sp/>reading<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:EarlyInit-Read<sp/>error<sp/>validating<sp/>CDS<sp/>(Err=0x%08X)\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>CDS<sp/>registry<sp/>access<sp/>mutex<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-core_8h_1a1cec40bf769e2db8614c1ef6d9906a8d" kindref="member">OS_MutSemCreate</ref>(&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1aa89b2e3ca45e2a4221ce11a75e7fd104" kindref="member">RegistryMutex</ref>,</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8h_1a79940c2fb60deb3549cb82dd13f4f8aa" kindref="member">CFE_ES_CDS_MUT_REG_NAME</ref>,</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8h_1ae50cf65b6f0fdbfe5fdb27a0fd31e9e5" kindref="member">CFE_ES_CDS_MUT_REG_VALUE</ref>);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>Size<sp/>&lt;<sp/>MinRequiredSize<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:EarlyInit-CDS<sp/>Size<sp/>(%d)<sp/>less<sp/>than<sp/>required<sp/>(%d)\n&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)MinRequiredSize);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>Error<sp/>getting<sp/>the<sp/>size<sp/>of<sp/>the<sp/>CDS<sp/>from<sp/>the<sp/>BSP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:EarlyInit-Unable<sp/>to<sp/>obtain<sp/>CDS<sp/>Size<sp/>from<sp/>BSP<sp/>(Err=0x%08X)\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="260"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_CDS_EarlyInit()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="263"><highlight class="comment">**</highlight></codeline>
<codeline lineno="264"><highlight class="comment">**<sp/>CFE_ES_RegisterCDSEx</highlight></codeline>
<codeline lineno="265"><highlight class="comment">**</highlight></codeline>
<codeline lineno="266"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="267"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1aa2d0b1b06a987447ecc16efc4b46698b" kindref="member">CFE_ES_RegisterCDSEx</ref>(<ref refid="cfe__es_8h_1aa976e86ad134f5b5ca774f2a89497168" kindref="member">CFE_ES_CDSHandle_t</ref><sp/>*HandlePtr,<sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>BlockSize,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*Name,<sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/>CriticalTbl)</highlight></codeline>
<codeline lineno="270"><highlight class="normal">{</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/>RegIndx;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t" kindref="compound">CFE_ES_CDS_RegRec_t</ref><sp/>*RegRecPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lock<sp/>Registry<sp/>for<sp/>update.<sp/><sp/>This<sp/>prevents<sp/>two<sp/>applications<sp/>from<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>trying<sp/>to<sp/>register<sp/>CDSs<sp/>at<sp/>the<sp/>same<sp/>location<sp/>at<sp/>the<sp/>same<sp/>time<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1afb3e1b83c010ecbde25603316bb11779" kindref="member">CFE_ES_LockCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>for<sp/>duplicate<sp/>CDS<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>RegIndx<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a252ae7d956a2127fda45b374d167ad72" kindref="member">CFE_ES_FindCDSInRegistry</ref>(Name);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>CDS<sp/>is<sp/>already<sp/>in<sp/>the<sp/>registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(RegIndx<sp/>!=<sp/><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref>)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pointer<sp/>to<sp/>Registry<sp/>Record<sp/>Entry<sp/>to<sp/>speed<sp/>up<sp/>processing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegRecPtr<sp/>=<sp/>&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[RegIndx];</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>new<sp/>CDS<sp/>is<sp/>the<sp/>same<sp/>size<sp/>as<sp/>the<sp/>old,<sp/>then<sp/>no<sp/>need<sp/>to<sp/>reallocate<sp/>memory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BlockSize<sp/>!=<sp/>RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa54841092984192b2c868cfc2da5fa96" kindref="member">Size</ref>)</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>new<sp/>size<sp/>is<sp/>different,<sp/>the<sp/>old<sp/>CDS<sp/>must<sp/>be<sp/>deleted<sp/>first<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Free<sp/>the<sp/>old<sp/>memory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds__mempool_8c_1aeb7ce6df79dddc269e57744724b8d033" kindref="member">CFE_ES_PutCDSBlock</ref>(RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" kindref="member">MemHandle</ref>);</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Warn<sp/>calling<sp/>application<sp/>that<sp/>this<sp/>is<sp/>a<sp/>duplicate<sp/>registration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1a19394558c178c3399c355488ac59dff8" kindref="member">CFE_ES_CDS_ALREADY_EXISTS</ref>;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Return<sp/>the<sp/>index<sp/>into<sp/>the<sp/>registry<sp/>as<sp/>the<sp/>handle<sp/>to<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*HandlePtr<sp/>=<sp/>RegIndx;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>CDS<sp/>not<sp/>already<sp/>in<sp/>registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Locate<sp/>empty<sp/>slot<sp/>in<sp/>table<sp/>registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegIndx<sp/>=<sp/><ref refid="cfe__es__cds_8c_1aabbcdc9b09452e984671a8c681af6262" kindref="member">CFE_ES_FindFreeCDSRegistryEntry</ref>();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>to<sp/>make<sp/>sure<sp/>we<sp/>found<sp/>a<sp/>free<sp/>entry<sp/>in<sp/>registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(RegIndx<sp/>==<sp/><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref>)</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1a16a4d76e4bba7c4d4bc2ab7a74b44d94" kindref="member">CFE_ES_CDS_REGISTRY_FULL</ref>;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Register-Registry<sp/>full\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegRecPtr<sp/>=<sp/>&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[RegIndx];</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>no<sp/>errors,<sp/>then<sp/>initialize<sp/>the<sp/>CDS<sp/>registry<sp/>entry<sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>the<sp/>memory<sp/>buffer<sp/>for<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds__mempool_8c_1a257c495c842dfea488228dfa9c21693d" kindref="member">CFE_ES_GetCDSBlock</ref>((<ref refid="cfe__es__cds__mempool_8h_1acfac1ec382e2883f79d096a985db163f" kindref="member">CFE_ES_CDSBlockHandle_t</ref><sp/>*)&amp;RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" kindref="member">MemHandle</ref>,<sp/>BlockSize);</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" kindref="member">Taken</ref><sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>the<sp/>size<sp/>of<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa54841092984192b2c868cfc2da5fa96" kindref="member">Size</ref><sp/>=<sp/>BlockSize;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>flag<sp/>indicating<sp/>whether<sp/>it<sp/>is<sp/>a<sp/>Critical<sp/>Table<sp/>or<sp/>not<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1abc165540b9ebf26d71b3b911eca8348c" kindref="member">Table</ref><sp/>=<sp/>CriticalTbl;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>CDS<sp/>Name<sp/>in<sp/>Registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" kindref="member">Name</ref>,<sp/>Name,<sp/><ref refid="cfe__es_8h_1ab78c1059e02707f7c416a7044d89c962" kindref="member">CFE_ES_CDS_MAX_FULL_NAME_LEN</ref>);</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Return<sp/>the<sp/>index<sp/>into<sp/>the<sp/>registry<sp/>as<sp/>the<sp/>handle<sp/>to<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*HandlePtr<sp/>=<sp/>RegIndx;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>we<sp/>succeeded<sp/>at<sp/>creating<sp/>a<sp/>CDS,<sp/>save<sp/>updated<sp/>registry<sp/>in<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" kindref="member">CFE_ES_UpdateCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:RegCDS-Failed<sp/>to<sp/>update<sp/>CDS<sp/>Registry<sp/>(Stat=0x%08X)\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Unlock<sp/>Registry<sp/>for<sp/>update<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1a2be11180893590edd75d95bf2fe371be" kindref="member">CFE_ES_UnlockCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(Status);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_RegisterCDSEx()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="361"><highlight class="comment">**</highlight></codeline>
<codeline lineno="362"><highlight class="comment">**<sp/>CFE_ES_ValidateCDS</highlight></codeline>
<codeline lineno="363"><highlight class="comment">**</highlight></codeline>
<codeline lineno="364"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>prototype<sp/>above</highlight></codeline>
<codeline lineno="365"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367" refid="cfe__es__cds_8h_1a66594e3f2fd091e2559601fb16df7527" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a66594e3f2fd091e2559601fb16df7527" kindref="member">CFE_ES_ValidateCDS</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="368"><highlight class="normal">{</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Assume<sp/>the<sp/>CDS<sp/>is<sp/>invalid<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>Status;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Perform<sp/>2<sp/>checks<sp/>to<sp/>validate<sp/>the<sp/>CDS<sp/>Memory<sp/>Pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>First,<sp/>determine<sp/>if<sp/>the<sp/>first<sp/>validity<sp/>check<sp/>field<sp/>is<sp/>correct<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" kindref="member">CFE_PSP_ReadFromCDS</ref>(&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>));</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strncmp(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>,<sp/></highlight><highlight class="stringliteral">&quot;_CDSBeg_&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>))<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" kindref="member">CFE_PSP_ReadFromCDS</ref>(&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>,<sp/></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref>-</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>)),<sp/></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>));</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strncmp(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>,<sp/></highlight><highlight class="stringliteral">&quot;_CDSEnd_&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>))<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>Validity<sp/>Field<sp/>failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" kindref="member">CFE_ES_CDS_INVALID</ref>;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>BSP<sp/>reported<sp/>an<sp/>error<sp/>reading<sp/>from<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Validate-2nd<sp/>ReadFromCDS<sp/>Failed.<sp/>Status=0x%X\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>Validity<sp/>Field<sp/>failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" kindref="member">CFE_ES_CDS_INVALID</ref>;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>BSP<sp/>reported<sp/>an<sp/>error<sp/>reading<sp/>from<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Validate-1st<sp/>ReadFromCDS<sp/>Failed.<sp/>Status=0x%X\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="411"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_ValidateCDS()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="414"><highlight class="comment">**</highlight></codeline>
<codeline lineno="415"><highlight class="comment">**<sp/>CFE_ES_InitializeCDS</highlight></codeline>
<codeline lineno="416"><highlight class="comment">**</highlight></codeline>
<codeline lineno="417"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>prototype<sp/>above</highlight></codeline>
<codeline lineno="418"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight></codeline>
<codeline lineno="420" refid="cfe__es__cds_8h_1ad5a77531ab384ce7b2c059d205404480" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1ad5a77531ab384ce7b2c059d205404480" kindref="member">CFE_ES_InitializeCDS</ref>(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>CDSSize)</highlight></codeline>
<codeline lineno="421"><highlight class="normal">{</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>MemBlock[32];</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>NumWritten=0;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>Uint32Zero=0;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>the<sp/>CDS<sp/>to<sp/>ensure<sp/>everything<sp/>is<sp/>gone<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>a<sp/>block<sp/>of<sp/>zeros<sp/>to<sp/>write<sp/>to<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>CFE_PSP_MemSet(MemBlock,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(MemBlock));</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>While<sp/>there<sp/>is<sp/>space<sp/>to<sp/>write<sp/>another<sp/>block<sp/>of<sp/>zeros,<sp/>then<sp/>do<sp/>so<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(((NumWritten<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(MemBlock))<sp/>&lt;<sp/>CDSSize)<sp/>&amp;&amp;<sp/>(Status<sp/>==<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref>))</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref>(MemBlock,<sp/>NumWritten,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(MemBlock));</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NumWritten<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(MemBlock);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>While<sp/>there<sp/>is<sp/>space<sp/>to<sp/>write<sp/>a<sp/>uint32<sp/>of<sp/>zeros,<sp/>then<sp/>do<sp/>so<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((Status<sp/>==<sp/>CFE_PSP_SUCCESS)<sp/>&amp;&amp;<sp/>(NumWritten<sp/>&lt;<sp/>CDSSize))</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(((NumWritten<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref>))<sp/>&lt;<sp/>CDSSize)<sp/>&amp;&amp;<sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS))</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref>(&amp;Uint32Zero,<sp/>NumWritten,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref>));</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NumWritten<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref>);</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>!=<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Init-Clear<sp/>CDS<sp/>failed<sp/>@<sp/>Offset=%d<sp/>Status=0x%08X\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)NumWritten,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>Validity<sp/>Check<sp/>strings<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref>(</highlight><highlight class="stringliteral">&quot;_CDSBeg_&quot;</highlight><highlight class="normal">,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>));</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref>(</highlight><highlight class="stringliteral">&quot;_CDSEnd_&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(CDSSize-</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>)),<sp/></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>));</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>!=<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Init-&apos;_CDSEnd_&apos;<sp/>write<sp/>failed.<sp/>Status=0x%08X\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>the<sp/>amount<sp/>of<sp/>CDS<sp/>memory<sp/>is<sp/>available<sp/>for<sp/>the<sp/>CDS<sp/>Memory<sp/>Pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Total<sp/>CDS<sp/>Size<sp/>minus<sp/>the<sp/>validity<sp/>fields<sp/>and<sp/>the<sp/>space<sp/>for<sp/>the<sp/>registry<sp/>and<sp/>the<sp/>registry<sp/>size<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CDSSize<sp/>&lt;<sp/>(<ref refid="cfe__es__cds_8c_1a2f4410979bec89de5a298e1f1fe9e4b4" kindref="member">CDS_POOL_OFFSET</ref><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>)))</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Invalid<sp/>-<sp/>passing<sp/>zero<sp/>will<sp/>cause<sp/>the<sp/>CFE_ES_CreateCDSPool()<sp/>to<sp/>fail<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref><sp/>=<sp/>CDSSize<sp/>-<sp/><ref refid="cfe__es__cds_8c_1a2f4410979bec89de5a298e1f1fe9e4b4" kindref="member">CDS_POOL_OFFSET</ref><sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>);</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>variables<sp/>for<sp/>managing<sp/>the<sp/>CDS<sp/>Memory<sp/>Pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds__mempool_8c_1af1aa110151a9f96736e9f0accbf2973f" kindref="member">CFE_ES_CreateCDSPool</ref>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref>,<sp/><ref refid="cfe__es__cds_8c_1a2f4410979bec89de5a298e1f1fe9e4b4" kindref="member">CDS_POOL_OFFSET</ref>);</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a920a2b86f3e8258fac52bb888c2fdf08" kindref="member">CFE_ES_InitCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>BSP<sp/>reported<sp/>an<sp/>error<sp/>writing<sp/>to<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Init-&apos;_CDSBeg_&apos;<sp/>write<sp/>failed.<sp/>Status=0x%08X\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="503"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_InitializeCDS()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="506"><highlight class="comment">**</highlight></codeline>
<codeline lineno="507"><highlight class="comment">**<sp/>CFE_ES_InitCDSRegistry</highlight></codeline>
<codeline lineno="508"><highlight class="comment">**</highlight></codeline>
<codeline lineno="509"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>prototype<sp/>above</highlight></codeline>
<codeline lineno="510"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512" refid="cfe__es__cds_8h_1a920a2b86f3e8258fac52bb888c2fdf08" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a920a2b86f3e8258fac52bb888c2fdf08" kindref="member">CFE_ES_InitCDSRegistry</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="513"><highlight class="normal">{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>local<sp/>CDS<sp/>Registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref><sp/>=<sp/>CFE_ES_CDS_MAX_NUM_ENTRIES;</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" kindref="member">Name</ref>[0]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa54841092984192b2c868cfc2da5fa96" kindref="member">Size</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" kindref="member">MemHandle</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" kindref="member">Taken</ref><sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1abc165540b9ebf26d71b3b911eca8348c" kindref="member">Table</ref><sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>number<sp/>of<sp/>registry<sp/>entries<sp/>to<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref>(&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref>,<sp/></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1a84c4dbba552f3fbf85b023a828d51f66" kindref="member">CDS_REG_SIZE_OFFSET</ref>,<sp/></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref>));</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" kindref="member">CFE_ES_UpdateCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:InitReg-Failed<sp/>to<sp/>write<sp/>Reg<sp/>Size.<sp/>Status=0x%08X\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="543"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_InitCDSRegistry()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="546"><highlight class="comment">**</highlight></codeline>
<codeline lineno="547"><highlight class="comment">**<sp/>CFE_ES_UpdateCDSRegistry</highlight></codeline>
<codeline lineno="548"><highlight class="comment">**</highlight></codeline>
<codeline lineno="549"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="550"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight></codeline>
<codeline lineno="552" refid="cfe__es__cds_8h_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" kindref="member">CFE_ES_UpdateCDSRegistry</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="553"><highlight class="normal">{</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>local<sp/>registry<sp/>to<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1ae281f06031f3217545ecc7738db55a06" kindref="member">CFE_PSP_WriteToCDS</ref>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>,<sp/></highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" kindref="member">CDS_REG_OFFSET</ref>,</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>));</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:UpdateReg-Failed<sp/>to<sp/>write<sp/>CDS<sp/>Registry.<sp/>Status=0x%08X\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="567"><highlight class="normal">}</highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="570"><highlight class="comment">**</highlight></codeline>
<codeline lineno="571"><highlight class="comment">**<sp/>CFE_ES_CDS_ValidateAppID</highlight></codeline>
<codeline lineno="572"><highlight class="comment">**</highlight></codeline>
<codeline lineno="573"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="574"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576" refid="cfe__es__cds_8h_1a4545d93282d5abbcb28b4925976d43ee" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a4545d93282d5abbcb28b4925976d43ee" kindref="member">CFE_ES_CDS_ValidateAppID</ref>(<ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>*AppIdPtr)</highlight></codeline>
<codeline lineno="577"><highlight class="normal">{</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>Status<sp/>=<sp/><ref refid="cfe__es_8h_1a76ee880d8ee4f632420507997779c1aa" kindref="member">CFE_ES_GetAppID</ref>(AppIdPtr);</highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*AppIdPtr<sp/>&gt;=<sp/>CFE_ES_MAX_APPLICATIONS)</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1a20d9f25d56c85be712a7e10c1d9efb85" kindref="member">CFE_ES_ERR_APPID</ref>;</highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:ValidateAppID-AppId=%d<sp/>&gt;<sp/>Max<sp/>Apps<sp/>(%d)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(*AppIdPtr),<sp/>CFE_ES_MAX_APPLICATIONS);</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:ValidateAppID-GetAppID<sp/>failed<sp/>(Stat=0x%08X)\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="596"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_CDS_ValidateAppID()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="600"><highlight class="comment">**</highlight></codeline>
<codeline lineno="601"><highlight class="comment">**<sp/>CFE_ES_FormCDSName</highlight></codeline>
<codeline lineno="602"><highlight class="comment">**</highlight></codeline>
<codeline lineno="603"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="604"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606" refid="cfe__es__cds_8h_1ae4a489c0f37b543d7e8a781b3a833ce3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="cfe__es__cds_8c_1ae4a489c0f37b543d7e8a781b3a833ce3" kindref="member">CFE_ES_FormCDSName</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*FullCDSName,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CDSName,<sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/>ThisAppId)</highlight></codeline>
<codeline lineno="607"><highlight class="normal">{</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>AppName[<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1afd92c81b56467c04b95aa0440e8e3751" kindref="member">CFE_ES_GetAppName</ref>(AppName,<sp/>ThisAppId,<sp/><ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>);</highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ensure<sp/>that<sp/>AppName<sp/>is<sp/>null<sp/>terminated<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/>AppName[<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>-1]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="614"><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Complete<sp/>formation<sp/>of<sp/>processor<sp/>specific<sp/>table<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/>sprintf(FullCDSName,<sp/></highlight><highlight class="stringliteral">&quot;%s.%s&quot;</highlight><highlight class="normal">,<sp/>AppName,<sp/>CDSName);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="619"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_FormCDSName()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="623"><highlight class="comment">**</highlight></codeline>
<codeline lineno="624"><highlight class="comment">**<sp/>CFE_ES_LockCDSRegistry</highlight></codeline>
<codeline lineno="625"><highlight class="comment">**</highlight></codeline>
<codeline lineno="626"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="627"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight></codeline>
<codeline lineno="629" refid="cfe__es__cds_8h_1afb3e1b83c010ecbde25603316bb11779" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1afb3e1b83c010ecbde25603316bb11779" kindref="member">CFE_ES_LockCDSRegistry</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="630"><highlight class="normal">{</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status;</highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="osapi-os-core_8h_1a77239ad1acd87f235cdc45142cc0d39f" kindref="member">OS_MutSemTake</ref>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1aa89b2e3ca45e2a4221ce11a75e7fd104" kindref="member">RegistryMutex</ref>);</highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_LockCDSRegistry()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="646"><highlight class="comment">**</highlight></codeline>
<codeline lineno="647"><highlight class="comment">**<sp/>CFE_ES_UnlockCDSRegistry</highlight></codeline>
<codeline lineno="648"><highlight class="comment">**</highlight></codeline>
<codeline lineno="649"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="650"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652" refid="cfe__es__cds_8h_1a2be11180893590edd75d95bf2fe371be" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a2be11180893590edd75d95bf2fe371be" kindref="member">CFE_ES_UnlockCDSRegistry</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="653"><highlight class="normal">{</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/>Status;</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="osapi-os-core_8h_1a48964b6567f9ceda86a51ebc02fb88c5" kindref="member">OS_MutSemGive</ref>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1aa89b2e3ca45e2a4221ce11a75e7fd104" kindref="member">RegistryMutex</ref>);</highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_UnlockCDSRegistry()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal"></highlight></codeline>
<codeline lineno="668"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="669"><highlight class="comment">**</highlight></codeline>
<codeline lineno="670"><highlight class="comment">**<sp/>CFE_ES_FindCDSInRegistry</highlight></codeline>
<codeline lineno="671"><highlight class="comment">**</highlight></codeline>
<codeline lineno="672"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="673"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"></highlight></codeline>
<codeline lineno="675" refid="cfe__es__cds_8h_1a252ae7d956a2127fda45b374d167ad72" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a252ae7d956a2127fda45b374d167ad72" kindref="member">CFE_ES_FindCDSInRegistry</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CDSName)</highlight></codeline>
<codeline lineno="676"><highlight class="normal">{</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>RegIndx<sp/>=<sp/><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref>;</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>i<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Point<sp/>to<sp/>next<sp/>record<sp/>in<sp/>the<sp/>CDS<sp/>Registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight></codeline>
<codeline lineno="684"><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>record<sp/>is<sp/>currently<sp/>being<sp/>used<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" kindref="member">Taken</ref><sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>)</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Perform<sp/>a<sp/>case<sp/>sensitive<sp/>name<sp/>comparison<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strcmp(CDSName,<sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" kindref="member">Name</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>names<sp/>match,<sp/>then<sp/>return<sp/>the<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegIndx<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>(RegIndx<sp/>==<sp/><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref>)<sp/>&amp;&amp;<sp/>(i<sp/>&lt;<sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref>-1))<sp/>);</highlight></codeline>
<codeline lineno="696"><highlight class="normal"></highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>RegIndx;</highlight></codeline>
<codeline lineno="698"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_FindCDSInRegistry()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="702"><highlight class="comment">**</highlight></codeline>
<codeline lineno="703"><highlight class="comment">**<sp/>CFE_ES_FindFreeCDSRegistryEntry</highlight></codeline>
<codeline lineno="704"><highlight class="comment">**</highlight></codeline>
<codeline lineno="705"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="706"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight></codeline>
<codeline lineno="708" refid="cfe__es__cds_8h_1aabbcdc9b09452e984671a8c681af6262" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1aabbcdc9b09452e984671a8c681af6262" kindref="member">CFE_ES_FindFreeCDSRegistryEntry</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="709"><highlight class="normal">{</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>RegIndx<sp/>=<sp/><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref>;</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="712"><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>(RegIndx<sp/>==<sp/><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref>)<sp/>&amp;&amp;<sp/>(i<sp/>&lt;<sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref>)<sp/>)</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[i].<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" kindref="member">Taken</ref><sp/>==<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>)</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegIndx<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="724"><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>RegIndx;</highlight></codeline>
<codeline lineno="726"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_FindFreeCDSRegistryEntry()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="730"><highlight class="comment">**</highlight></codeline>
<codeline lineno="731"><highlight class="comment">**<sp/>CFE_ES_RebuildCDS</highlight></codeline>
<codeline lineno="732"><highlight class="comment">**</highlight></codeline>
<codeline lineno="733"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>above</highlight></codeline>
<codeline lineno="734"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736" refid="cfe__es__cds_8h_1a358a529ecbfec8c98202d71563e6cc57" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1a358a529ecbfec8c98202d71563e6cc57" kindref="member">CFE_ES_RebuildCDS</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="737"><highlight class="normal">{</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/>PoolOffset;</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>First,<sp/>determine<sp/>if<sp/>the<sp/>CDS<sp/>registry<sp/>stored<sp/>in<sp/>the<sp/>CDS<sp/>is<sp/>smaller<sp/>or<sp/>equal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>in<sp/>size<sp/>to<sp/>the<sp/>CDS<sp/>registry<sp/>we<sp/>are<sp/>currently<sp/>configured<sp/>for<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>number<sp/>of<sp/>registry<sp/>entries<sp/>to<sp/>the<sp/>CDS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" kindref="member">CFE_PSP_ReadFromCDS</ref>(&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref>,<sp/></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1a84c4dbba552f3fbf85b023a828d51f66" kindref="member">CDS_REG_SIZE_OFFSET</ref>,<sp/></highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref>));</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((Status<sp/>==<sp/>CFE_PSP_SUCCESS)<sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref><sp/>&lt;=<sp/>CFE_ES_CDS_MAX_NUM_ENTRIES))</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__psp__memory_8c_1a7ab02e0c4537fc64458b31c10f172580" kindref="member">CFE_PSP_ReadFromCDS</ref>(&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>,</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" kindref="member">CDS_REG_OFFSET</ref>,</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t" kindref="compound">CFE_ES_CDS_RegRec_t</ref>)));</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/>CFE_PSP_SUCCESS)</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Calculate<sp/>the<sp/>starting<sp/>offset<sp/>of<sp/>the<sp/>memory<sp/>pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PoolOffset<sp/>=<sp/>(<ref refid="cfe__es__cds_8c_1a93a11c4b10f04635750195ed53664184" kindref="member">CDS_REG_OFFSET</ref><sp/>+<sp/>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a24c29fb78dc9fe80467ce8c42f300b76" kindref="member">MaxNumRegEntries</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t" kindref="compound">CFE_ES_CDS_RegRec_t</ref>))<sp/>+<sp/>3)<sp/>&amp;<sp/>0xfffffffc;;</highlight></codeline>
<codeline lineno="759"><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Calculate<sp/>the<sp/>size<sp/>of<sp/>the<sp/>memory<sp/>pool<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref><sp/>=<sp/><ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a8eed2eb437059acae8bd645a07d83759" kindref="member">CDSSize</ref><sp/>-<sp/>PoolOffset<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a35b1b36737da08fb1d5559d54407b42a" kindref="member">ValidityField</ref>);</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Scan<sp/>the<sp/>memory<sp/>pool<sp/>and<sp/>identify<sp/>the<sp/>created<sp/>but<sp/>currently<sp/>unused<sp/>memory<sp/>blocks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds__mempool_8c_1acaeb4ae711cef5e8703bc59b52416a34" kindref="member">CFE_ES_RebuildCDSPool</ref>(<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1add28fd2eff95fd5b6f573695ef6eff53" kindref="member">MemPoolSize</ref>,<sp/>PoolOffset);</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Registry<sp/>in<sp/>CDS<sp/>is<sp/>unreadable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" kindref="member">CFE_ES_CDS_INVALID</ref>;</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Rebuild-Registry<sp/>in<sp/>CDS<sp/>is<sp/>unreadable\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Registry<sp/>in<sp/>CDS<sp/>is<sp/>too<sp/>large<sp/>to<sp/>recover<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1aec53f70e200dd87fe472c27a2e78c13e" kindref="member">CFE_ES_CDS_INVALID</ref>;</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_CDS:Rebuild-Registry<sp/>in<sp/>CDS<sp/>too<sp/>large<sp/>to<sp/>recover\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="781"><highlight class="normal">}</highlight></codeline>
<codeline lineno="782"><highlight class="normal"></highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"></highlight><highlight class="comment">/*******************************************************************</highlight></codeline>
<codeline lineno="785"><highlight class="comment">**</highlight></codeline>
<codeline lineno="786"><highlight class="comment">**<sp/>CFE_ES_DeleteCDS</highlight></codeline>
<codeline lineno="787"><highlight class="comment">**</highlight></codeline>
<codeline lineno="788"><highlight class="comment">**<sp/>NOTE:<sp/>For<sp/>complete<sp/>prolog<sp/>information,<sp/>see<sp/>&apos;cfe_es_cds.h&apos;</highlight></codeline>
<codeline lineno="789"><highlight class="comment">********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"></highlight></codeline>
<codeline lineno="791" refid="cfe__es__cds_8c_1aaa8e9232510d63e6aa72ff105eb23d37" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><ref refid="cfe__es__cds_8c_1aaa8e9232510d63e6aa72ff105eb23d37" kindref="member">CFE_ES_DeleteCDS</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CDSName,<sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/>CalledByTblServices)</highlight></codeline>
<codeline lineno="792"><highlight class="normal">{</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegIndx;</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t" kindref="compound">CFE_ES_CDS_RegRec_t</ref><sp/>*RegRecPtr<sp/>=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OwnerName[<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>];</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AppId;</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i;</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lock<sp/>Registry<sp/>for<sp/>update.<sp/><sp/>This<sp/>prevents<sp/>two<sp/>applications<sp/>from<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>trying<sp/>to<sp/>change<sp/>the<sp/>CDS<sp/>registry<sp/>at<sp/>the<sp/>same<sp/>time<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1afb3e1b83c010ecbde25603316bb11779" kindref="member">CFE_ES_LockCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="803"><highlight class="normal"></highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Find<sp/>CDS<sp/>name<sp/>in<sp/>registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/>RegIndx<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a252ae7d956a2127fda45b374d167ad72" kindref="member">CFE_ES_FindCDSInRegistry</ref>(CDSName);</highlight></codeline>
<codeline lineno="806"><highlight class="normal"></highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>CDS<sp/>is<sp/>already<sp/>in<sp/>the<sp/>registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(RegIndx<sp/>!=<sp/><ref refid="cfe__es__cds_8h_1a39fddbe584067de8448b8b9c064b5f84" kindref="member">CFE_ES_CDS_NOT_FOUND</ref>)</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pointer<sp/>to<sp/>Registry<sp/>Record<sp/>Entry<sp/>to<sp/>speed<sp/>up<sp/>processing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegRecPtr<sp/>=<sp/>&amp;<ref refid="cfe__es__global_8h_1a9d4db28d1ae03cfdc1ebc9efa7407d35" kindref="member">CFE_ES_Global</ref>.<ref refid="struct_c_f_e___e_s___global__t_1a270b792902814471ac802b9606ad540f" kindref="member">CDSVars</ref>.<ref refid="struct_c_f_e___e_s___c_d_s_variables__t_1a235d979cfed366fcc5baf6e8bfe3bfb3" kindref="member">Registry</ref>[RegIndx];</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Critical<sp/>tables<sp/>are<sp/>not<sp/>allowed<sp/>to<sp/>be<sp/>deleted<sp/>via<sp/>an<sp/>ES<sp/>Command.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>They<sp/>must<sp/>be<sp/>deleted<sp/>by<sp/>a<sp/>Table<sp/>Services<sp/>Command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1abc165540b9ebf26d71b3b911eca8348c" kindref="member">Table</ref><sp/>!=<sp/>CalledByTblServices)</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1a569d444dfdfbcc450879a8fc1471be09" kindref="member">CFE_ES_CDS_WRONG_TYPE_ERR</ref>;</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>owning<sp/>application<sp/>is<sp/>still<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>First,<sp/>extract<sp/>the<sp/>owning<sp/>application<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i=0;</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((i<sp/>&lt;<sp/>(<ref refid="stubs_8c_1a8419474683cbd73c491a3688a0b661c1" kindref="member">OS_MAX_API_NAME</ref>-1)<sp/>&amp;&amp;<sp/>(RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" kindref="member">Name</ref>[i]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;.&apos;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OwnerName[i]<sp/>=<sp/>RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1aa7e6a486a92780b3a22d8360aa07b2ca" kindref="member">Name</ref>[i];</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Null<sp/>terminate<sp/>the<sp/>application<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OwnerName[i]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>Application<sp/>Name<sp/>is<sp/>in<sp/>the<sp/>Registered<sp/>Apps<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es_8h_1a8422894d9e2e2c2618d0f4d6006fe53c" kindref="member">CFE_ES_GetAppIDByName</ref>(&amp;AppId,<sp/>OwnerName);</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>we<sp/>can&apos;t<sp/>find<sp/>the<sp/>name,<sp/>then<sp/>things<sp/>are<sp/>good<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>==<sp/><ref refid="cfe__error_8h_1a8134921ee07f48bab5c9e1733f0a34cf" kindref="member">CFE_ES_ERR_APPNAME</ref>)</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Free<sp/>the<sp/>registry<sp/>entry<sp/>and<sp/>the<sp/>CDS<sp/>memory<sp/>block<sp/>associated<sp/>with<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds__mempool_8c_1aeb7ce6df79dddc269e57744724b8d033" kindref="member">CFE_ES_PutCDSBlock</ref>(RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" kindref="member">MemHandle</ref>);</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>any<sp/>errors<sp/>incurred<sp/>while<sp/>freeing<sp/>the<sp/>CDS<sp/>Memory<sp/>Block<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_ES:DeleteCDS-Failed<sp/>to<sp/>free<sp/>CDS<sp/>Mem<sp/>Block<sp/>(Handle=0x%08lX)(Stat=0x%08X)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a1c2223c016e8e4b8d2357210ff6e20fc" kindref="member">MemHandle</ref>,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Remove<sp/>entry<sp/>from<sp/>the<sp/>CDS<sp/>Registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegRecPtr-&gt;<ref refid="struct_c_f_e___e_s___c_d_s___reg_rec__t_1a104d136fa1a1ee1504ae9133c0c43b98" kindref="member">Taken</ref><sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__es__cds_8c_1a9d69dc7cbbb1155bb4e300ba6aefd6c7" kindref="member">CFE_ES_UpdateCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Status<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a51146afa3e65ab120411c9264b45fa1d" kindref="member">CFE_ES_WriteToSysLog</ref>(</highlight><highlight class="stringliteral">&quot;CFE_ES:DeleteCDS-Failed<sp/>to<sp/>update<sp/>CDS<sp/>Registry<sp/>(Stat=0x%08X)\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Status);</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1ad6be372a21f906888f1d55201135878e" kindref="member">CFE_ES_CDS_OWNER_ACTIVE_ERR</ref>;</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Error<sp/>-<sp/>CDS<sp/>not<sp/>in<sp/>registry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>=<sp/><ref refid="cfe__error_8h_1a1a25151aeeca680bc059873d5e3c0a61" kindref="member">CFE_ES_CDS_NOT_FOUND_ERR</ref>;</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="871"><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Unlock<sp/>Registry<sp/>for<sp/>future<sp/>updates<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es__cds_8c_1a2be11180893590edd75d95bf2fe371be" kindref="member">CFE_ES_UnlockCDSRegistry</ref>();</highlight></codeline>
<codeline lineno="874"><highlight class="normal"></highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Status;</highlight></codeline>
<codeline lineno="876"><highlight class="normal">}<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>CFE_ES_DeleteCDS()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>end<sp/>of<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="es/cfe_es_cds.c"/>
  </compounddef>
</doxygen>
