<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CFS Scheduler (SCH) Application on  User&#39;s Guide: apps/sch/fsw/src/sch_custom.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CFS Scheduler (SCH) Application on  User&#39;s Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li><li class="navelem"><a class="el" href="dir_b27db9eba5d844617a3e8e33496c8c05.html">sch</a></li><li class="navelem"><a class="el" href="dir_e450d5e630ceb22d10f0094daac03d4d.html">fsw</a></li><li class="navelem"><a class="el" href="dir_7812b99ddd8ef44656477574544e2ed1.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sch_custom.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/cfe_8h.html">cfe.h</a>&quot;</code><br />
</div>
<p><a href="sch__custom_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7ac9e2cf550e5dcbaf89b65bdc872427"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#a7ac9e2cf550e5dcbaf89b65bdc872427">SCH_TIMER_NAME</a>&#160;&#160;&#160;&quot;SCH_MINOR_TIMER&quot;</td></tr>
<tr class="separator:a7ac9e2cf550e5dcbaf89b65bdc872427"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a460799de20a37103670e068ec0cd3854"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a5eb512da689eec1a7472ab97e2ab6be3">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#a460799de20a37103670e068ec0cd3854">SCH_CustomEarlyInit</a> (void)</td></tr>
<tr class="memdesc:a460799de20a37103670e068ec0cd3854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom Early Initialization.  <a href="#a460799de20a37103670e068ec0cd3854">More...</a><br /></td></tr>
<tr class="separator:a460799de20a37103670e068ec0cd3854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769b51f7ffc7c7711cc7bf0856702a77"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a5eb512da689eec1a7472ab97e2ab6be3">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#a769b51f7ffc7c7711cc7bf0856702a77">SCH_CustomLateInit</a> (void)</td></tr>
<tr class="memdesc:a769b51f7ffc7c7711cc7bf0856702a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom Late Initialization.  <a href="#a769b51f7ffc7c7711cc7bf0856702a77">More...</a><br /></td></tr>
<tr class="separator:a769b51f7ffc7c7711cc7bf0856702a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f0feaac769ebba7a790a5575edfa482"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a9560e25c315bae45d1ed4e2ce49ce55a">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#a0f0feaac769ebba7a790a5575edfa482">SCH_CustomGetCurrentSlotNumber</a> (void)</td></tr>
<tr class="memdesc:a0f0feaac769ebba7a790a5575edfa482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the Current Slot (Minor Frame) number.  <a href="#a0f0feaac769ebba7a790a5575edfa482">More...</a><br /></td></tr>
<tr class="separator:a0f0feaac769ebba7a790a5575edfa482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521f028b851995a3755ed7e4294f3b9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#a521f028b851995a3755ed7e4294f3b9e">SCH_CustomCleanup</a> (void)</td></tr>
<tr class="memdesc:a521f028b851995a3755ed7e4294f3b9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom Cleanup.  <a href="#a521f028b851995a3755ed7e4294f3b9e">More...</a><br /></td></tr>
<tr class="separator:a521f028b851995a3755ed7e4294f3b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb6d913166c6579b57f48ca542b7ad9"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a9560e25c315bae45d1ed4e2ce49ce55a">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#abbb6d913166c6579b57f48ca542b7ad9">SCH_GetMETSlotNumber</a> (void)</td></tr>
<tr class="memdesc:abbb6d913166c6579b57f48ca542b7ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a minor slot number from a MET subseconds zero point.  <a href="#abbb6d913166c6579b57f48ca542b7ad9">More...</a><br /></td></tr>
<tr class="separator:abbb6d913166c6579b57f48ca542b7ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18afe2a56ba0bfdd348e88f0d8a9d55b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#a18afe2a56ba0bfdd348e88f0d8a9d55b">SCH_MajorFrameCallback</a> (void)</td></tr>
<tr class="memdesc:a18afe2a56ba0bfdd348e88f0d8a9d55b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs Major Frame Synchronization.  <a href="#a18afe2a56ba0bfdd348e88f0d8a9d55b">More...</a><br /></td></tr>
<tr class="separator:a18afe2a56ba0bfdd348e88f0d8a9d55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2799afed4a19fadc0a75dc7419a93ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sch__custom_8h.html#af2799afed4a19fadc0a75dc7419a93ca">SCH_MinorFrameCallback</a> (<a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a9560e25c315bae45d1ed4e2ce49ce55a">uint32</a> TimerId)</td></tr>
<tr class="memdesc:af2799afed4a19fadc0a75dc7419a93ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs Minor Frame time step.  <a href="#af2799afed4a19fadc0a75dc7419a93ca">More...</a><br /></td></tr>
<tr class="separator:af2799afed4a19fadc0a75dc7419a93ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a7ac9e2cf550e5dcbaf89b65bdc872427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCH_TIMER_NAME&#160;&#160;&#160;&quot;SCH_MINOR_TIMER&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sch__custom_8h_source.html#l00036">36</a> of file <a class="el" href="sch__custom_8h_source.html">sch_custom.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a521f028b851995a3755ed7e4294f3b9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SCH_CustomCleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom Cleanup. </p>
<dl class="section user"><dt>Description</dt><dd>This function is intended to perform any clean up of custom initialization that would be necessary on an application exit</dd></dl>
<dl class="section user"><dt>Assumptions, External Events, and Notes:</dt><dd>Any resources that will not be cleaned up automatically be CFE need to be cleaned up in this function. </dd></dl>

</div>
</div>
<a class="anchor" id="a460799de20a37103670e068ec0cd3854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a5eb512da689eec1a7472ab97e2ab6be3">int32</a> SCH_CustomEarlyInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom Early Initialization. </p>
<dl class="section user"><dt>Description</dt><dd>This function is intended to perform the creation of the minor frame timer. It is called during #SCH_TimerInit It may be updated to include other initializations, or modifications to already set scheduler parameters.</dd></dl>
<dl class="section user"><dt>Assumptions, External Events, and Notes:</dt><dd>SCH_AppData.ClockAccuracy will be set to the clock resolution in microseconds. CFE_SUCCESS will be returned if all creation was performed properly.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><table  border="0" cellpadding="2" width="100%">
<tr>
<td width="20%" valign="TOP"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/cfe__error_8h.html#ab2b6b188c32c70b8ca0578b7a7bc091b">CFE_SUCCESS</a> </td><td width="80%"></td></tr>
<tr>
<td colspan="2" width="100%">Return codes from #CFE_PSP_TimerInit  </td></tr>
</table>
</dd></dl>

</div>
</div>
<a class="anchor" id="a0f0feaac769ebba7a790a5575edfa482"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a9560e25c315bae45d1ed4e2ce49ce55a">uint32</a> SCH_CustomGetCurrentSlotNumber </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the Current Slot (Minor Frame) number. </p>
<dl class="section user"><dt>Description</dt><dd>This function determines the current slot (minor frame) number. It corrects for any minor frame overlap caused by poor minor frame timing, if necessary. This function and associated subfunction was added to the customizable section as on slower platforms this function can have noticible overhead, and several simplifying assumptions can be made on a platform specific basis.</dd></dl>
<dl class="section user"><dt>Assumptions, External Events, and Notes:</dt><dd>None</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><table  border="0" cellpadding="2" width="100%">
<tr>
<td colspan="2" width="100%">Returns slot index from zero to (<a class="el" href="sch__platform__cfg_8h.html#a640d7089f602476608c00d5d9b613315">SCH_TOTAL_SLOTS</a>-1)  </td></tr>
</table>
</dd></dl>

</div>
</div>
<a class="anchor" id="a769b51f7ffc7c7711cc7bf0856702a77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a5eb512da689eec1a7472ab97e2ab6be3">int32</a> SCH_CustomLateInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom Late Initialization. </p>
<dl class="section user"><dt>Description</dt><dd>This function is intended to perform a wait for startup sync followed by the initialization and starting of the major frame timer, and the starting of the minor frame timer. It may be updated to include other initializations, or modifications to already set scheduler parameters, or remove actions previously performed in <a class="el" href="sch__custom_8h.html#a460799de20a37103670e068ec0cd3854" title="Custom Early Initialization. ">SCH_CustomEarlyInit</a> . This function is called following the completion of #SCH_AppInit</dd></dl>
<dl class="section user"><dt>Assumptions, External Events, and Notes:</dt><dd>Any startup synchronization is included in this function CFE_SUCCESS will be returned if all initialization was performed properly.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><table  border="0" cellpadding="2" width="100%">
<tr>
<td width="20%" valign="TOP"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/cfe__error_8h.html#ab2b6b188c32c70b8ca0578b7a7bc091b">CFE_SUCCESS</a> </td><td width="80%"></td></tr>
<tr>
<td colspan="2" width="100%">Return codes from #CFE_PSP_TimerInit  </td></tr>
</table>
</dd></dl>

</div>
</div>
<a class="anchor" id="abbb6d913166c6579b57f48ca542b7ad9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a9560e25c315bae45d1ed4e2ce49ce55a">uint32</a> SCH_GetMETSlotNumber </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes a minor slot number from a MET subseconds zero point. </p>
<dl class="section user"><dt>Description</dt><dd>This function determines the current slot (minor frame) number if one were to assume that slot zero started when the MET microseconds are equal to zero.</dd></dl>
<dl class="section user"><dt>Assumptions, External Events, and Notes:</dt><dd>None</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><table  border="0" cellpadding="2" width="100%">
<tr>
<td colspan="2" width="100%">Returns slot index from zero to (<a class="el" href="sch__platform__cfg_8h.html#a640d7089f602476608c00d5d9b613315">SCH_TOTAL_SLOTS</a>-1)  </td></tr>
</table>
</dd></dl>

</div>
</div>
<a class="anchor" id="a18afe2a56ba0bfdd348e88f0d8a9d55b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SCH_MajorFrameCallback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs Major Frame Synchronization. </p>
<dl class="section user"><dt>Description</dt><dd>This function is called by cFE TIME services when a Major Frame synchronization signal is received. It then synchronizes the minor frame (slot) processing of the Schedule Definition Table.</dd></dl>
<dl class="section user"><dt>Assumptions, External Events, and Notes:</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="af2799afed4a19fadc0a75dc7419a93ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SCH_MinorFrameCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag:../../../cfe/detailed_design/" href="../../../cfe/detailed_design/common__types_8h.html#a9560e25c315bae45d1ed4e2ce49ce55a">uint32</a>&#160;</td>
          <td class="paramname"><em>TimerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs Minor Frame time step. </p>
<dl class="section user"><dt>Description</dt><dd>This function is called by an OSAL timer when the minor frame timing reference sends a signal. The Scheduler Application uses this to drive the Application's processing of each minor frame.</dd></dl>
<dl class="section user"><dt>Assumptions, External Events, and Notes:</dt><dd>None </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
