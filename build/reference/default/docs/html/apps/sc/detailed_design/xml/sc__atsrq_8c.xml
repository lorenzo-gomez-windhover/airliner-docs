<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="sc__atsrq_8c" kind="file" language="C++">
    <compoundname>sc_atsrq.c</compoundname>
    <includes local="yes">cfe.h</includes>
    <includes refid="sc__atsrq_8h" local="yes">sc_atsrq.h</includes>
    <includes refid="sc__loads_8h" local="yes">sc_loads.h</includes>
    <includes refid="sc__utils_8h" local="yes">sc_utils.h</includes>
    <includes refid="sc__events_8h" local="yes">sc_events.h</includes>
    <incdepgraph>
      <node id="681">
        <label>cfe_error.h</label>
        <link refid="cfe__error_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="672" relation="include">
        </childnode>
      </node>
      <node id="688">
        <label>ccsds.h</label>
        <link refid="ccsds_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="680" relation="include">
        </childnode>
      </node>
      <node id="673">
        <label>osapi-version.h</label>
        <link refid="osapi-version_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="690">
        <label>cfe_tbl.h</label>
        <link refid="cfe__tbl_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="685" relation="include">
        </childnode>
      </node>
      <node id="696">
        <label>sc_tbldefs.h</label>
        <link refid="sc__tbldefs_8h"/>
        <childnode refid="670" relation="include">
        </childnode>
        <childnode refid="695" relation="include">
        </childnode>
      </node>
      <node id="695">
        <label>sc_platform_cfg.h</label>
        <link refid="sc__platform__cfg_8h"/>
      </node>
      <node id="685">
        <label>cfe_time.h</label>
        <link refid="cfe__time_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
      </node>
      <node id="674">
        <label>osapi-os-core.h</label>
        <link refid="osapi-os-core_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="675" relation="include">
        </childnode>
      </node>
      <node id="680">
        <label>cfe_mission_cfg.h</label>
        <link refid="cfe__mission__cfg_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="694">
        <label>sc_app.h</label>
        <link refid="sc__app_8h"/>
        <childnode refid="670" relation="include">
        </childnode>
        <childnode refid="695" relation="include">
        </childnode>
        <childnode refid="696" relation="include">
        </childnode>
        <childnode refid="697" relation="include">
        </childnode>
        <childnode refid="698" relation="include">
        </childnode>
      </node>
      <node id="676">
        <label>osapi-os-filesys.h</label>
        <link refid="osapi-os-filesys_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="683">
        <label>cfe_es_perfids.h</label>
        <link refid="cfe__es__perfids_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="677">
        <label>osapi-os-net.h</label>
        <link refid="osapi-os-net_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="672">
        <label>osapi.h</label>
        <link refid="osapi_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="673" relation="include">
        </childnode>
        <childnode refid="674" relation="include">
        </childnode>
        <childnode refid="676" relation="include">
        </childnode>
        <childnode refid="677" relation="include">
        </childnode>
        <childnode refid="678" relation="include">
        </childnode>
        <childnode refid="679" relation="include">
        </childnode>
        <childnode refid="675" relation="include">
        </childnode>
      </node>
      <node id="679">
        <label>osapi-os-timer.h</label>
        <link refid="osapi-os-timer_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="678">
        <label>osapi-os-loader.h</label>
        <link refid="osapi-os-loader_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="698">
        <label>sc_msg.h</label>
        <link refid="sc__msg_8h"/>
        <childnode refid="670" relation="include">
        </childnode>
        <childnode refid="695" relation="include">
        </childnode>
      </node>
      <node id="692">
        <label>sc_loads.h</label>
        <link refid="sc__loads_8h"/>
        <childnode refid="670" relation="include">
        </childnode>
      </node>
      <node id="697">
        <label>sc_msgdefs.h</label>
        <link refid="sc__msgdefs_8h"/>
      </node>
      <node id="675">
        <label>osapi-os-rtm.h</label>
        <link refid="osapi-os-rtm_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="686">
        <label>cfe_evs_msg.h</label>
        <link refid="cfe__evs__msg_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="685" relation="include">
        </childnode>
        <childnode refid="672" relation="include">
        </childnode>
        <childnode refid="687" relation="include">
        </childnode>
        <childnode refid="682" relation="include">
        </childnode>
      </node>
      <node id="670">
        <label>cfe.h</label>
        <link refid="cfe_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="672" relation="include">
        </childnode>
        <childnode refid="680" relation="include">
        </childnode>
        <childnode refid="681" relation="include">
        </childnode>
        <childnode refid="682" relation="include">
        </childnode>
        <childnode refid="684" relation="include">
        </childnode>
        <childnode refid="689" relation="include">
        </childnode>
        <childnode refid="687" relation="include">
        </childnode>
        <childnode refid="685" relation="include">
        </childnode>
        <childnode refid="690" relation="include">
        </childnode>
      </node>
      <node id="687">
        <label>cfe_sb.h</label>
        <link refid="cfe__sb_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="680" relation="include">
        </childnode>
        <childnode refid="688" relation="include">
        </childnode>
        <childnode refid="685" relation="include">
        </childnode>
      </node>
      <node id="671">
        <label>common_types.h</label>
        <link refid="common__types_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="684">
        <label>cfe_evs.h</label>
        <link refid="cfe__evs_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="685" relation="include">
        </childnode>
        <childnode refid="686" relation="include">
        </childnode>
        <childnode refid="672" relation="include">
        </childnode>
        <childnode refid="687" relation="include">
        </childnode>
      </node>
      <node id="682">
        <label>cfe_es.h</label>
        <link refid="cfe__es_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="680" relation="include">
        </childnode>
        <childnode refid="683" relation="include">
        </childnode>
      </node>
      <node id="669">
        <label>apps/sc/fsw/src/sc_atsrq.c</label>
        <link refid="sc_atsrq.c"/>
        <childnode refid="670" relation="include">
        </childnode>
        <childnode refid="691" relation="include">
        </childnode>
        <childnode refid="692" relation="include">
        </childnode>
        <childnode refid="693" relation="include">
        </childnode>
        <childnode refid="699" relation="include">
        </childnode>
      </node>
      <node id="693">
        <label>sc_utils.h</label>
        <link refid="sc__utils_8h"/>
        <childnode refid="670" relation="include">
        </childnode>
        <childnode refid="694" relation="include">
        </childnode>
      </node>
      <node id="691">
        <label>sc_atsrq.h</label>
        <link refid="sc__atsrq_8h"/>
        <childnode refid="670" relation="include">
        </childnode>
      </node>
      <node id="689">
        <label>cfe_fs.h</label>
        <link refid="cfe__fs_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="671" relation="include">
        </childnode>
        <childnode refid="685" relation="include">
        </childnode>
      </node>
      <node id="699">
        <label>sc_events.h</label>
        <link refid="sc__events_8h"/>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="sc__atsrq_8c_1a687aae01f1d28bd5dba0d23d9ffa832a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_StartAtsCmd</definition>
        <argsstring>(CFE_SB_MsgPtr_t CmdPacket)</argsstring>
        <name>SC_StartAtsCmd</name>
        <param>
          <type><ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref></type>
          <declname>CmdPacket</declname>
        </param>
        <briefdescription>
<para>Start an ATS Command. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function starts an ATS on the ATP. This routine does not actually execute any commands, it simply sets up all of the data structures to indicate that the specified ATS is now running. This function also does all of the parameter checking.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdPacket</parametername>
</parameternamelist>
<parameterdescription>
<para>a <ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref> pointer that references a software bus message</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="sc__msgdefs_8h_1af2c15c9a7e236b9d8639e8236b39766d" kindref="member">SC_START_ATS_CC</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="91" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="91" bodyend="170"/>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" compoundref="sc__app_8h" startline="361">SC_AppData_t::CmdCtr</references>
        <references refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" compoundref="sc__app_8h" startline="360">SC_AppData_t::CmdErrCtr</references>
        <references refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" compoundref="sc__tbldefs_8h" startline="77">SC_AtsInfoTable_t::NumberOfCommands</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" compoundref="sc__atsrq_8c" startline="234" endline="324">SC_BeginAts</references>
        <references refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" compoundref="sc__msgdefs_8h" startline="76">SC_EXECUTING</references>
        <references refid="sc__msgdefs_8h_1a7235f009a8e9977cca98a86ba3d0322f" compoundref="sc__msgdefs_8h" startline="73">SC_IDLE</references>
        <references refid="sc__msgdefs_8h_1a2e2dd92da44f4c937cdc035d2daa9aea" compoundref="sc__msgdefs_8h" startline="106">SC_NUMBER_OF_ATS</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__events_8h_1a191275160ca3f846c26a9657c9726a7b" compoundref="sc__events_8h" startline="281">SC_STARTATS_CMD_INF_EID</references>
        <references refid="sc__events_8h_1aaeb193ef2bf9666e4bc42cafca25cc40" compoundref="sc__events_8h" startline="321">SC_STARTATS_CMD_INVLD_ID_ERR_EID</references>
        <references refid="sc__events_8h_1a025ef0b3289f174964e8d8d1542f8861" compoundref="sc__events_8h" startline="307">SC_STARTATS_CMD_NOT_IDLE_ERR_EID</references>
        <references refid="sc__events_8h_1aa7c89b5ebb1a47602d0a05d21a272f60" compoundref="sc__events_8h" startline="295">SC_STARTATS_CMD_NOT_LDED_ERR_EID</references>
        <references refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" compoundref="sc__utils_8c" startline="183" endline="211">SC_VerifyCmdLength</references>
        <referencedby refid="sc__cmds_8h_1aa78c810357c7edea79d78be1c2013bfa" compoundref="sc__cmds_8c" startline="727" endline="815">SC_ProcessCommand</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1a2f9fa2d89a5aec67ebe386074235e88d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_StopAtsCmd</definition>
        <argsstring>(CFE_SB_MsgPtr_t CmdPacket)</argsstring>
        <name>SC_StopAtsCmd</name>
        <param>
          <type><ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref></type>
          <declname>CmdPacket</declname>
        </param>
        <briefdescription>
<para>Stop the executing ATS Command. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine stops an ATS from executing on the ATP. This routine will execute even if an ATS is not currently executing in the buffer.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdPacket</parametername>
</parameternamelist>
<parameterdescription>
<para>a <ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref> pointer that references a software bus message</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="sc__msgdefs_8h_1af4ceba4c8a1611de43bdce37aa9c6069" kindref="member">SC_STOP_ATS_CC</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="177" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="177" bodyend="227"/>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b">CFE_SUCCESS</references>
        <references refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" compoundref="sc__app_8h" startline="361">SC_AppData_t::CmdCtr</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__msgdefs_8h_1ae1a40aabd994f32dacefb13b329889de" compoundref="sc__msgdefs_8h" startline="86">SC_ATSA</references>
        <references refid="sc__msgdefs_8h_1a3b581d1bee09c3c45c84d492ad5ab43d" compoundref="sc__msgdefs_8h" startline="87">SC_ATSB</references>
        <references refid="sc__app_8h_1a3dbc52edbef9473bda157cc018785bd7" compoundref="sc__app_8h" startline="246">SC_ERROR</references>
        <references refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" compoundref="sc__atsrq_8c" startline="332" endline="349">SC_KillAts</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__events_8h_1ac32fcd7d8b62e807afecfeb05a1ee683" compoundref="sc__events_8h" startline="335">SC_STOPATS_CMD_INF_EID</references>
        <references refid="sc__events_8h_1a275753db1c8fd490157bca564277873e" compoundref="sc__events_8h" startline="347">SC_STOPATS_NO_ATS_INF_EID</references>
        <references refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" compoundref="sc__utils_8c" startline="183" endline="211">SC_VerifyCmdLength</references>
        <referencedby refid="sc__cmds_8h_1aa78c810357c7edea79d78be1c2013bfa" compoundref="sc__cmds_8c" startline="727" endline="815">SC_ProcessCommand</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1ac3ecf6d00ebd3dd79ea00efdc71d9c33" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">boolean</ref></type>
        <definition>boolean SC_BeginAts</definition>
        <argsstring>(uint16 AtsIndex, uint16 TimeOffset)</argsstring>
        <name>SC_BeginAts</name>
        <param>
          <type><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref></type>
          <declname>AtsId</declname>
          <defname>AtsIndex</defname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref></type>
          <declname>TimeOffset</declname>
        </param>
        <briefdescription>
<para>Starts an ATS. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function starts an ATS by finding the first ATS command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">AtsId</parametername>
</parameternamelist>
<parameterdescription>
<para>The Ats to begin</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">TimeOffset</parametername>
</parameternamelist>
<parameterdescription>
<para>Where to start in the ATS</para></parameterdescription>
</parameteritem>
</parameterlist>
</para><para>Returns TRUE if the ATS was started  </para><para>Returns FALSE if the ATS was NOT started  </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="234" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="234" bodyend="324"/>
        <references refid="struct_s_c___app_data__t_1a03bf96d70ccfb74d080dd584c0dc0296" compoundref="sc__app_8h" startline="355">SC_AppData_t::AtsCmdIndexBuffer</references>
        <references refid="struct_s_c___oper_data__t_1a5f56987c9540ca83dd856f4c908c2d39" compoundref="sc__app_8h" startline="329">SC_OperData_t::AtsCmdStatusTblAddr</references>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="struct_s_c___oper_data__t_1ae9f8e4eb45cfe1bf36660cf691e95058" compoundref="sc__app_8h" startline="305">SC_OperData_t::AtsTblAddr</references>
        <references refid="struct_s_c___app_data__t_1a3d36defd73403467bc7179b96fe9e8e5" compoundref="sc__app_8h" startline="349">SC_AppData_t::AtsTimeIndexBuffer</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" compoundref="sc__app_8h" startline="358">SC_AppData_t::NextCmdTime</references>
        <references refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" compoundref="sc__tbldefs_8h" startline="77">SC_AtsInfoTable_t::NumberOfCommands</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" compoundref="sc__msgdefs_8h" startline="57">SC_ATP</references>
        <references refid="sc__events_8h_1a27511c0e4dbf3c1851c3670d05dff0ee" compoundref="sc__events_8h" startline="374">SC_ATS_ERR_SKP_DBG_EID</references>
        <references refid="sc__events_8h_1a19951798d3dbcbbacf4eaaca81792e5c" compoundref="sc__events_8h" startline="359">SC_ATS_SKP_ALL_ERR_EID</references>
        <references refid="sc__utils_8c_1a7e0ad354a5148432c4bf435acd04ad6b" compoundref="sc__utils_8c" startline="149" endline="176">SC_CompareAbsTime</references>
        <references refid="sc__utils_8c_1ac6af36b0399701c0af2597061026a21f" compoundref="sc__utils_8c" startline="121" endline="142">SC_ComputeAbsTime</references>
        <references refid="sc__utils_8c_1a6583d766c8eaeb83692b995747cc84c7" compoundref="sc__utils_8c" startline="91" endline="113">SC_GetAtsEntryTime</references>
        <references refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" compoundref="sc__atsrq_8c" startline="332" endline="349">SC_KillAts</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__msgdefs_8h_1a0ea84cdb4bceee1a00944920248bb855" compoundref="sc__msgdefs_8h" startline="75">SC_SKIPPED</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="sc__atsrq_8h_1a68058fd082d5675fcadf1042e5a6bbd4" compoundref="sc__atsrq_8c" startline="498" endline="568">SC_InlineSwitch</referencedby>
        <referencedby refid="sc__loads_8h_1a1b78fb5ea121dbd2bfbaa4b6cffcb1a4" compoundref="sc__loads_8c" startline="640" endline="710">SC_ProcessAppend</referencedby>
        <referencedby refid="sc__atsrq_8h_1ae69e64aed02ef744b205cb07fdd0e861" compoundref="sc__atsrq_8c" startline="423" endline="490">SC_ServiceSwitchPend</referencedby>
        <referencedby refid="sc__atsrq_8h_1a687aae01f1d28bd5dba0d23d9ffa832a" compoundref="sc__atsrq_8c" startline="91" endline="170">SC_StartAtsCmd</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_KillAts</definition>
        <argsstring>(void)</argsstring>
        <name>SC_KillAts</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Stops an ATS &amp; clears out data. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This is a generic routine that is used to clear out the ATP information to stop an ATS.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="332" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="332" bodyend="349"/>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="struct_s_c___ats_info_table__t_1a31024dc558bf3dcd2723d824255fe18e" compoundref="sc__tbldefs_8h" startline="76">SC_AtsInfoTable_t::AtsUseCtr</references>
        <references refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" compoundref="sc__app_8h" startline="358">SC_AppData_t::NextCmdTime</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" compoundref="sc__msgdefs_8h" startline="57">SC_ATP</references>
        <references refid="sc__msgdefs_8h_1a7235f009a8e9977cca98a86ba3d0322f" compoundref="sc__msgdefs_8h" startline="73">SC_IDLE</references>
        <references refid="sc__msgdefs_8h_1a06aabf7012f8325343341be087ac2019" compoundref="sc__msgdefs_8h" startline="65">SC_MAX_TIME</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <referencedby refid="sc__atsrq_8h_1a8a81e9c2eb64da05ba257bc7a399ada8" compoundref="sc__atsrq_8c" startline="234" endline="324">SC_BeginAts</referencedby>
        <referencedby refid="sc__state_8h_1aed7327ff45afa377eb11a11b522110fa" compoundref="sc__state_8c" startline="341" endline="397">SC_GetNextAtsCommand</referencedby>
        <referencedby refid="sc__atsrq_8h_1a68058fd082d5675fcadf1042e5a6bbd4" compoundref="sc__atsrq_8c" startline="498" endline="568">SC_InlineSwitch</referencedby>
        <referencedby refid="sc__atsrq_8h_1ad501fbe3c43e112872b3bfa22dbc8477" compoundref="sc__atsrq_8c" startline="576" endline="703">SC_JumpAtsCmd</referencedby>
        <referencedby refid="sc__cmds_8h_1ab43b771e424d73f73b3af2427b9aaae0" compoundref="sc__cmds_8c" startline="115" endline="350">SC_ProcessAtpCmd</referencedby>
        <referencedby refid="sc__atsrq_8h_1ae69e64aed02ef744b205cb07fdd0e861" compoundref="sc__atsrq_8c" startline="423" endline="490">SC_ServiceSwitchPend</referencedby>
        <referencedby refid="sc__atsrq_8h_1a2f9fa2d89a5aec67ebe386074235e88d" compoundref="sc__atsrq_8c" startline="177" endline="227">SC_StopAtsCmd</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1a641a2ed2774a4951cd79f0ed15c31aa0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_GroundSwitchCmd</definition>
        <argsstring>(CFE_SB_MsgPtr_t CmdPacket)</argsstring>
        <name>SC_GroundSwitchCmd</name>
        <param>
          <type><ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref></type>
          <declname>CmdPacket</declname>
        </param>
        <briefdescription>
<para>Switch the ATS Command. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function initiates an ATS switch. An ATS switch cannot be immediatly started when the command is received because of the risk of sending out duplicate commands in the new buffer. (if buffer A has executed 3 of the 5 commands for second N, and the switch command is recvd at second N, the switch would happen in the same second, causing buffer B to execute all 5 commands in second N , assuming that the buffers had an overlap of duplicate commands.)</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdPacket</parametername>
</parameternamelist>
<parameterdescription>
<para>a <ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref> pointer that references a software bus message</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="sc__msgdefs_8h_1a661168cf6c8c8f358f17276bb3585714" kindref="member">SC_SWITCH_ATS_CC</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="356" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="356" bodyend="415"/>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" compoundref="sc__app_8h" startline="361">SC_AppData_t::CmdCtr</references>
        <references refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" compoundref="sc__app_8h" startline="360">SC_AppData_t::CmdErrCtr</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" compoundref="sc__tbldefs_8h" startline="77">SC_AtsInfoTable_t::NumberOfCommands</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" compoundref="sc__msgdefs_8h" startline="76">SC_EXECUTING</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__events_8h_1abe06d9a1cdbae6f7bcd1f88535a56ed5" compoundref="sc__events_8h" startline="410">SC_SWITCH_ATS_CMD_IDLE_ERR_EID</references>
        <references refid="sc__events_8h_1a1baf2654a11c5d9c33beff5797156766" compoundref="sc__events_8h" startline="386">SC_SWITCH_ATS_CMD_INF_EID</references>
        <references refid="sc__events_8h_1ae98f21f0b1a5c9eb3cf46651e95652a1" compoundref="sc__events_8h" startline="398">SC_SWITCH_ATS_CMD_NOT_LDED_ERR_EID</references>
        <references refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" compoundref="sc__utils_8c" startline="183" endline="211">SC_VerifyCmdLength</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="sc__cmds_8h_1aa78c810357c7edea79d78be1c2013bfa" compoundref="sc__cmds_8c" startline="727" endline="815">SC_ProcessCommand</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1ae69e64aed02ef744b205cb07fdd0e861" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_ServiceSwitchPend</definition>
        <argsstring>(void)</argsstring>
        <name>SC_ServiceSwitchPend</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Switches ATS&apos;s at a safe time. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function does the ATS switch when it is determined that the switch is &quot;safe&quot;. When the switch request was made, the switch pend flag was set. After every scheduling of the SCP, the switch pend flag is checked. If the switch pend flag is set, this routine is called. This routine checks to see that the current time is one second past the time to start the new ATS. If it is the correct time, then the switch is performed. All of this has the effect of creating a syncronized switch of the ATS buffers, assuring that no duplicate commands are sent.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="423" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="423" bodyend="490"/>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_s_c___app_data__t_1aa3b4c501ef64585b7f9c9bde2bc7f84b" compoundref="sc__app_8h" startline="359">SC_AppData_t::CurrentTime</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" compoundref="sc__app_8h" startline="358">SC_AppData_t::NextCmdTime</references>
        <references refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" compoundref="sc__tbldefs_8h" startline="77">SC_AtsInfoTable_t::NumberOfCommands</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" compoundref="sc__msgdefs_8h" startline="57">SC_ATP</references>
        <references refid="sc__events_8h_1a884048f7d77b33798f7c46063c06287f" compoundref="sc__events_8h" startline="447">SC_ATS_SERVICE_SWITCH_IDLE_ERR_EID</references>
        <references refid="sc__events_8h_1a7718238d4e6b12862ff93464f49697b7" compoundref="sc__events_8h" startline="423">SC_ATS_SERVICE_SWTCH_INF_EID</references>
        <references refid="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" compoundref="sc__atsrq_8c" startline="234" endline="324">SC_BeginAts</references>
        <references refid="sc__utils_8c_1a7e0ad354a5148432c4bf435acd04ad6b" compoundref="sc__utils_8c" startline="149" endline="176">SC_CompareAbsTime</references>
        <references refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" compoundref="sc__msgdefs_8h" startline="76">SC_EXECUTING</references>
        <references refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" compoundref="sc__atsrq_8c" startline="332" endline="349">SC_KillAts</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__events_8h_1a710e0a84a8b33932f529bab47ecc9029" compoundref="sc__events_8h" startline="435">SC_SERVICE_SWITCH_ATS_CMD_LDED_ERR_EID</references>
        <referencedby refid="sc__cmds_8h_1a939d9876c5d8b746680c1e323c1cd3a4" compoundref="sc__cmds_8c" startline="613" endline="720">SC_ProcessRequest</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1a68058fd082d5675fcadf1042e5a6bbd4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1ac3ecf6d00ebd3dd79ea00efdc71d9c33" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">boolean</ref></type>
        <definition>boolean SC_InlineSwitch</definition>
        <argsstring>(void)</argsstring>
        <name>SC_InlineSwitch</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine is called when the ATS IN-LINE request SWITCH ATS is encountered. This routine stops the current ATS from executing and starts the &apos;other&apos; one. It is assumed that there is an ATS running because this command is only valid as an IN-LINE ATS request.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<simplesect kind="return"><para><table rows="2" cols="2"><row>
<entry thead="no"><para>Returns TRUE if the switch was successful  </para></entry></row>
<row>
<entry thead="no"><para>Returns FALSE if the switch was NOT successful  </para></entry></row>
</table>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="498" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="498" bodyend="568"/>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" compoundref="sc__app_8h" startline="361">SC_AppData_t::CmdCtr</references>
        <references refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" compoundref="sc__app_8h" startline="360">SC_AppData_t::CmdErrCtr</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" compoundref="sc__tbldefs_8h" startline="77">SC_AtsInfoTable_t::NumberOfCommands</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__events_8h_1a96ff02a39687d89957288d61d1b6e9d3" compoundref="sc__events_8h" startline="460">SC_ATS_INLINE_SWTCH_INF_EID</references>
        <references refid="sc__events_8h_1a4ffe96a26b5eed705736f58e4f8c146f" compoundref="sc__events_8h" startline="472">SC_ATS_INLINE_SWTCH_NOT_LDED_ERR_EID</references>
        <references refid="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" compoundref="sc__atsrq_8c" startline="234" endline="324">SC_BeginAts</references>
        <references refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" compoundref="sc__atsrq_8c" startline="332" endline="349">SC_KillAts</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__msgdefs_8h_1afe36e11c9d7631269eb320d8081ca824" compoundref="sc__msgdefs_8h" startline="79">SC_STARTING</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="sc__cmds_8h_1ab43b771e424d73f73b3af2427b9aaae0" compoundref="sc__cmds_8c" startline="115" endline="350">SC_ProcessAtpCmd</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1ad501fbe3c43e112872b3bfa22dbc8477" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_JumpAtsCmd</definition>
        <argsstring>(CFE_SB_MsgPtr_t CmdPacket)</argsstring>
        <name>SC_JumpAtsCmd</name>
        <param>
          <type><ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref></type>
          <declname>CmdPacket</declname>
        </param>
        <briefdescription>
<para>Jump time in an ATS Command. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This command is used to jump to a specified time in the currently running ATS. The jump command will effectively restart the ATS at the time given in the command. Because there is no restriction on the time given in the command, the ATP may try to restart the ATS at any time before or after the current time. In the case of the time tag being before the current time, ( a backwards jump ) the ATP will simply skip the commands that have been executed ( or failed execution ) and end up at the same location as before. In the case of the jump time being after the current time, the ATP will skip all commands with time tags less than the jump time and start executing the ATS at the time equal to the jump time. If there are no commands with time tags equal to the jump time, the ATP will set up the ATS to wait for the first command after the jump time. When a command is skipped while doing the jump, the command&apos;s status is marked as SKIPPED unless it has already been marked as EXECUTED, FAILED_DISTRIBUTION, or FAILED_CHECKSUM.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdPacket</parametername>
</parameternamelist>
<parameterdescription>
<para>a <ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref> pointer that references a software bus message</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="sc__msgdefs_8h_1acafe2df08c3aa8a38a15d0d976e70d79" kindref="member">SC_JUMP_ATS_CC</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="576" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="576" bodyend="703"/>
        <references refid="struct_s_c___app_data__t_1a03bf96d70ccfb74d080dd584c0dc0296" compoundref="sc__app_8h" startline="355">SC_AppData_t::AtsCmdIndexBuffer</references>
        <references refid="struct_s_c___oper_data__t_1a5f56987c9540ca83dd856f4c908c2d39" compoundref="sc__app_8h" startline="329">SC_OperData_t::AtsCmdStatusTblAddr</references>
        <references refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" compoundref="sc__app_8h" startline="326">SC_OperData_t::AtsCtrlBlckAddr</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="struct_s_c___oper_data__t_1ae9f8e4eb45cfe1bf36660cf691e95058" compoundref="sc__app_8h" startline="305">SC_OperData_t::AtsTblAddr</references>
        <references refid="struct_s_c___app_data__t_1a3d36defd73403467bc7179b96fe9e8e5" compoundref="sc__app_8h" startline="349">SC_AppData_t::AtsTimeIndexBuffer</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__time_8h_1a008e7b0c99cc1aac24a73b5cd032eee7">CFE_TIME_Print</references>
        <references refid="cfe__time_8h_1af5d977124fb02b03b842af4cf188907b">CFE_TIME_PRINTED_STRING_SIZE</references>
        <references refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" compoundref="sc__app_8h" startline="361">SC_AppData_t::CmdCtr</references>
        <references refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" compoundref="sc__app_8h" startline="360">SC_AppData_t::CmdErrCtr</references>
        <references refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" compoundref="sc__app_8h" startline="358">SC_AppData_t::NextCmdTime</references>
        <references refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" compoundref="sc__tbldefs_8h" startline="77">SC_AtsInfoTable_t::NumberOfCommands</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" compoundref="sc__msgdefs_8h" startline="57">SC_ATP</references>
        <references refid="sc__utils_8c_1a7e0ad354a5148432c4bf435acd04ad6b" compoundref="sc__utils_8c" startline="149" endline="176">SC_CompareAbsTime</references>
        <references refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" compoundref="sc__msgdefs_8h" startline="76">SC_EXECUTING</references>
        <references refid="sc__utils_8c_1a6583d766c8eaeb83692b995747cc84c7" compoundref="sc__utils_8c" startline="91" endline="113">SC_GetAtsEntryTime</references>
        <references refid="sc__events_8h_1aefbbdd61202cff067fa6dc4634d846e2" compoundref="sc__events_8h" startline="498">SC_JUMP_ATS_INF_EID</references>
        <references refid="sc__events_8h_1a0ce15b36dfa3bf3f09ffe90357ad6229" compoundref="sc__events_8h" startline="1088">SC_JUMP_ATS_SKIPPED_DBG_EID</references>
        <references refid="sc__events_8h_1aa9ec28d4c4313b68114e14867777668a" compoundref="sc__events_8h" startline="510">SC_JUMPATS_CMD_NOT_ACT_ERR_EID</references>
        <references refid="sc__events_8h_1a882dfb6b9935eac5d11610b08372b800" compoundref="sc__events_8h" startline="484">SC_JUMPATS_CMD_STOPPED_ERR_EID</references>
        <references refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" compoundref="sc__atsrq_8c" startline="332" endline="349">SC_KillAts</references>
        <references refid="sc__msgdefs_8h_1a4dc0ddf365dc62f97a4446908b43e615" compoundref="sc__msgdefs_8h" startline="72">SC_LOADED</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__msgdefs_8h_1a0ea84cdb4bceee1a00944920248bb855" compoundref="sc__msgdefs_8h" startline="75">SC_SKIPPED</references>
        <references refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" compoundref="sc__utils_8c" startline="183" endline="211">SC_VerifyCmdLength</references>
        <references refid="struct_c_f_e___t_i_m_e___sys_time__t_1ac10c014228075ee87ea7938348a98c1c">CFE_TIME_SysTime_t::Seconds</references>
        <references refid="struct_c_f_e___t_i_m_e___sys_time__t_1a2af2ad470fa81d8eb5c23f68b54ab81a">CFE_TIME_SysTime_t::Subseconds</references>
        <referencedby refid="sc__cmds_8h_1aa78c810357c7edea79d78be1c2013bfa" compoundref="sc__cmds_8c" startline="727" endline="815">SC_ProcessCommand</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1adf1ad91a0ac4209fdc2bad863295fd30" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_ContinueAtsOnFailureCmd</definition>
        <argsstring>(CFE_SB_MsgPtr_t CmdPacket)</argsstring>
        <name>SC_ContinueAtsOnFailureCmd</name>
        <param>
          <type><ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref></type>
          <declname>CmdPacket</declname>
        </param>
        <briefdescription>
<para>Lets an ATS continue if a command failed the checksum. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This routine sets whether or not to let an ATS continue when one of the commands in the ATS fails a checksum validation</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdPacket</parametername>
</parameternamelist>
<parameterdescription>
<para>a <ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref> pointer that references a software bus message</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="sc__msgdefs_8h_1aee714aa07b14455b3803c49ec498aab7" kindref="member">SC_CONTINUE_ATS_ON_FAILURE_CC</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="710" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="710" bodyend="741"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" compoundref="sc__app_8h" startline="361">SC_AppData_t::CmdCtr</references>
        <references refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" compoundref="sc__app_8h" startline="360">SC_AppData_t::CmdErrCtr</references>
        <references refid="struct_s_c___app_data__t_1a88d18d9387612ef1a3180761231c427e" compoundref="sc__app_8h" startline="345">SC_AppData_t::ContinueAtsOnFailureFlag</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__events_8h_1a150d51fced7ec07a4b56183dab534d71" compoundref="sc__events_8h" startline="538">SC_CONT_CMD_DEB_EID</references>
        <references refid="sc__events_8h_1a19d7352b9d9ccdcc2995626f3cbc7bae" compoundref="sc__events_8h" startline="524">SC_CONT_CMD_ERR_EID</references>
        <references refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" compoundref="sc__utils_8c" startline="183" endline="211">SC_VerifyCmdLength</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="sc__cmds_8h_1aa78c810357c7edea79d78be1c2013bfa" compoundref="sc__cmds_8c" startline="727" endline="815">SC_ProcessCommand</referencedby>
      </memberdef>
      <memberdef kind="function" id="sc__atsrq_8c_1a3f66fd506dce0cf0c0c9764222e2f387" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SC_AppendAtsCmd</definition>
        <argsstring>(CFE_SB_MsgPtr_t CmdPacket)</argsstring>
        <name>SC_AppendAtsCmd</name>
        <param>
          <type><ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref></type>
          <declname>CmdPacket</declname>
        </param>
        <briefdescription>
<para>Append to an ATS Command. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function adds the contents of the Append ATS table to the selected ATS. The ATS is then re-sorted for command execution order. This command may target an ATS that is currently active (executing). This command will not change the ATS execution state.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para>None</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdPacket</parametername>
</parameternamelist>
<parameterdescription>
<para>a <ref refid="cfe__sb_8h_1ab774c47a48e3b6fb0bdd42fb2cb80ad8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref> pointer that references a software bus message</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="sc__msgdefs_8h_1a734ba13da18a8fe2083cfe24c6d02a08" kindref="member">SC_APPEND_ATS_CC</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/sc/fsw/src/sc_atsrq.c" line="749" column="1" bodyfile="apps/sc/fsw/src/sc_atsrq.c" bodystart="749" bodyend="809"/>
        <references refid="struct_s_c___app_data__t_1a132236286ca6d51e66424e2b480b5517" compoundref="sc__app_8h" startline="376">SC_AppData_t::AppendCmdArg</references>
        <references refid="struct_s_c___app_data__t_1a9b464bf4c3cea1519ca9cd4f5bd735e6" compoundref="sc__app_8h" startline="377">SC_AppData_t::AppendEntryCount</references>
        <references refid="struct_s_c___app_data__t_1a08c5ed2267a4f6704820f75597c59001" compoundref="sc__app_8h" startline="378">SC_AppData_t::AppendWordCount</references>
        <references refid="struct_s_c___append_ats_cmd__t_1a5f8d6acbb9c9449e9754b55a19d7bf3d" compoundref="sc__msg_8h" startline="223">SC_AppendAtsCmd_t::AtsId</references>
        <references refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" compoundref="sc__app_8h" startline="314">SC_OperData_t::AtsInfoTblAddr</references>
        <references refid="struct_s_c___ats_info_table__t_1a8abdc56728475f8abfd6570a0ddc9983" compoundref="sc__tbldefs_8h" startline="78">SC_AtsInfoTable_t::AtsSize</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" compoundref="sc__app_8h" startline="361">SC_AppData_t::CmdCtr</references>
        <references refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" compoundref="sc__app_8h" startline="360">SC_AppData_t::CmdErrCtr</references>
        <references refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" compoundref="sc__tbldefs_8h" startline="77">SC_AtsInfoTable_t::NumberOfCommands</references>
        <references refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" compoundref="sc__app_8c" startline="88">SC_AppData</references>
        <references refid="sc__events_8h_1a11090f7eb613e461c4306ddbd0aea131" compoundref="sc__events_8h" startline="1186">SC_APPEND_CMD_ARG_ERR_EID</references>
        <references refid="sc__events_8h_1a4f77ca0ceb473a1376a5dac3574b6186" compoundref="sc__events_8h" startline="1235">SC_APPEND_CMD_FIT_ERR_EID</references>
        <references refid="sc__events_8h_1adefc48dbb4426fbdc3889fad3040b79e" compoundref="sc__events_8h" startline="1172">SC_APPEND_CMD_INF_EID</references>
        <references refid="sc__events_8h_1a6f4e36d668ad8af7272aa18622448a40" compoundref="sc__events_8h" startline="1218">SC_APPEND_CMD_SRC_ERR_EID</references>
        <references refid="sc__events_8h_1a536b767b4b3d64c44db124bb1c6b109f" compoundref="sc__events_8h" startline="1202">SC_APPEND_CMD_TGT_ERR_EID</references>
        <references refid="sc__platform__cfg_8h_1a5a6823770db1b0799a5835f459799ad5" compoundref="sc__platform__cfg_8h" startline="93">SC_ATS_BUFF_SIZE</references>
        <references refid="sc__msgdefs_8h_1a2e2dd92da44f4c937cdc035d2daa9aea" compoundref="sc__msgdefs_8h" startline="106">SC_NUMBER_OF_ATS</references>
        <references refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" compoundref="sc__app_8c" startline="89">SC_OperData</references>
        <references refid="sc__loads_8c_1a1b78fb5ea121dbd2bfbaa4b6cffcb1a4" compoundref="sc__loads_8c" startline="640" endline="710">SC_ProcessAppend</references>
        <references refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" compoundref="sc__utils_8c" startline="183" endline="211">SC_VerifyCmdLength</references>
        <referencedby refid="sc__cmds_8h_1aa78c810357c7edea79d78be1c2013bfa" compoundref="sc__cmds_8c" startline="727" endline="815">SC_ProcessCommand</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"><sp/></highlight><highlight class="comment">/*************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>**<sp/>File:</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>**<sp/><sp/><sp/>$Id:<sp/>sc_atsrq.c<sp/>1.6<sp/>2016/10/06<sp/>07:56:47EDT<sp/>mdeschu<sp/>Exp<sp/><sp/>$</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>**<sp/><sp/>Copyright<sp/><sp/>2007-2014<sp/>United<sp/>States<sp/>Government<sp/>as<sp/>represented<sp/>by<sp/>the<sp/></highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>**<sp/><sp/>Administrator<sp/>of<sp/>the<sp/>National<sp/>Aeronautics<sp/>and<sp/>Space<sp/>Administration.<sp/></highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>**<sp/><sp/>All<sp/>Other<sp/>Rights<sp/>Reserved.<sp/><sp/></highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>**<sp/><sp/>This<sp/>software<sp/>was<sp/>created<sp/>at<sp/>NASA&apos;s<sp/>Goddard<sp/>Space<sp/>Flight<sp/>Center.</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>**<sp/><sp/>This<sp/>software<sp/>is<sp/>governed<sp/>by<sp/>the<sp/>NASA<sp/>Open<sp/>Source<sp/>Agreement<sp/>and<sp/>may<sp/>be<sp/></highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>**<sp/><sp/>used,<sp/>distributed<sp/>and<sp/>modified<sp/>only<sp/>pursuant<sp/>to<sp/>the<sp/>terms<sp/>of<sp/>that<sp/></highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>**<sp/><sp/>agreement.<sp/></highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>**<sp/>Purpose:<sp/></highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>**<sp/><sp/><sp/><sp/><sp/>This<sp/>file<sp/>contains<sp/>functions<sp/>to<sp/>handle<sp/>all<sp/>of<sp/>the<sp/>ATS</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>**<sp/><sp/><sp/><sp/><sp/>executive<sp/>requests<sp/>and<sp/>internal<sp/>reuqests<sp/>to<sp/>control</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>**<sp/><sp/><sp/><sp/><sp/>the<sp/>ATP<sp/>and<sp/>ATSs.</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>**<sp/>References:</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Flight<sp/>Software<sp/>Branch<sp/>C<sp/>Coding<sp/>Standard<sp/>Version<sp/>1.2</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>**<sp/><sp/><sp/>CFS<sp/>Development<sp/>Standards<sp/>Document</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>**<sp/>Notes:</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>**<sp/><sp/><sp/>$Log:<sp/>sc_atsrq.c<sp/><sp/>$</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.6<sp/>2016/10/06<sp/>07:56:47EDT<sp/>mdeschu<sp/></highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Fix<sp/>Format<sp/>warning<sp/>in<sp/>SendEvent<sp/>with<sp/>event<sp/>ID<sp/>SC_APPEND_CMD_FIT_ERR_EID</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>**<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Cast<sp/>SC_OperData.AtsInfoTblAddr[AtsIndex].AtsSize<sp/>to<sp/>(int)</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.5<sp/>2016/08/28<sp/>00:26:38EDT<sp/>mdeschu<sp/></highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Compiling<sp/>under<sp/>GCC<sp/>4.4.7<sp/>does<sp/>not<sp/>cause<sp/>unitialized<sp/>warnings<sp/>for<sp/>these<sp/>variables.</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.4<sp/>2016/08/18<sp/>11:28:05EDT<sp/>mdeschu<sp/></highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Fix<sp/>formatting<sp/>only</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.3<sp/>2016/08/05<sp/>18:08:30EDT<sp/>mdeschu<sp/></highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Initialize<sp/>CmdIndex<sp/>in<sp/>SC_JumpAts<sp/>and<sp/>SC_BeginAts</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.2<sp/>2015/10/08<sp/>15:20:27EDT<sp/>sstrege<sp/></highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Restoration<sp/>from<sp/>MKS<sp/>2009<sp/>Trunk</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.14<sp/>2015/03/02<sp/>12:58:54EST<sp/>sstrege<sp/></highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Added<sp/>copyright<sp/>information</highlight></codeline>
<codeline lineno="39"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.13<sp/>2014/06/06<sp/>11:37:49EDT<sp/>sjudy<sp/></highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Changed<sp/>event<sp/>msgs<sp/>to<sp/>have<sp/>&apos;RTS&apos;<sp/>or<sp/>&apos;ATS&apos;<sp/>instead<sp/>of<sp/>&quot;Real<sp/>Time<sp/>Sequence&quot;,<sp/>etc.</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.12<sp/>2011/01/28<sp/>13:20:15GMT-08:00<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="42"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Store<sp/>ATS<sp/>selection<sp/>from<sp/>most<sp/>recent<sp/>ATS<sp/>Append<sp/>command</highlight></codeline>
<codeline lineno="43"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.11<sp/>2010/09/28<sp/>10:34:34EDT<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="44"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Update<sp/>list<sp/>of<sp/>included<sp/>header<sp/>files</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.10<sp/>2010/05/18<sp/>15:32:06EDT<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Change<sp/>AtsId/RtsId<sp/>to<sp/>AtsIndex/RtsIndex<sp/>or<sp/>AtsNumber/RtsNumber</highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.9<sp/>2010/05/18<sp/>14:13:59EDT<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="48"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Change<sp/>AtsCmdIndexBuffer<sp/>contents<sp/>from<sp/>entry<sp/>pointer<sp/>to<sp/>entry<sp/>index</highlight></codeline>
<codeline lineno="49"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.8<sp/>2010/05/05<sp/>11:16:40EDT<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Cleanup<sp/>function<sp/>return<sp/>code<sp/>definitions,<sp/>create<sp/>error<sp/>specific<sp/>event<sp/>numbers</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.7<sp/>2010/04/21<sp/>15:38:24EDT<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="52"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Moved<sp/>prototype<sp/>for<sp/>SC_BeginAts<sp/>to<sp/>header<sp/>file,<sp/>added<sp/>cmd<sp/>handler<sp/>for<sp/>Append<sp/>ATS</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.6<sp/>2010/04/15<sp/>15:19:17EDT<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Fix<sp/>typo<sp/>-<sp/>remove<sp/>ampersand<sp/>from<sp/>arg<sp/>in<sp/>call<sp/>to<sp/>get<sp/>ATS<sp/>time<sp/>value</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.5<sp/>2010/03/26<sp/>18:02:13EDT<sp/>lwalling<sp/></highlight></codeline>
<codeline lineno="56"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Remove<sp/>pad<sp/>from<sp/>ATS<sp/>and<sp/>RTS<sp/>structures,<sp/>change<sp/>32<sp/>bit<sp/>ATS<sp/>time<sp/>to<sp/>two<sp/>16<sp/>bit<sp/>values</highlight></codeline>
<codeline lineno="57"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.4<sp/>2009/01/27<sp/>08:46:01EST<sp/>nyanchik<sp/></highlight></codeline>
<codeline lineno="58"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Continue<sp/>SC<sp/>unit<sp/>test</highlight></codeline>
<codeline lineno="59"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.3<sp/>2009/01/26<sp/>14:44:42EST<sp/>nyanchik<sp/></highlight></codeline>
<codeline lineno="60"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Check<sp/>in<sp/>of<sp/>Unit<sp/>test</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Revision<sp/>1.2<sp/>2009/01/05<sp/>08:26:50EST<sp/>nyanchik<sp/></highlight></codeline>
<codeline lineno="62"><highlight class="comment"><sp/>**<sp/><sp/><sp/>Check<sp/>in<sp/>after<sp/>code<sp/>review<sp/>changes</highlight></codeline>
<codeline lineno="63"><highlight class="comment"><sp/></highlight></codeline>
<codeline lineno="64"><highlight class="comment"><sp/>*************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************</highlight></codeline>
<codeline lineno="69"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="70"><highlight class="comment"><sp/>**<sp/>Include<sp/>section</highlight></codeline>
<codeline lineno="71"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="72"><highlight class="comment"><sp/>**************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe_8h" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">cfe.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sc__atsrq_8h" kindref="compound">sc_atsrq.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sc__loads_8h" kindref="compound">sc_loads.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sc__utils_8h" kindref="compound">sc_utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sc__events_8h" kindref="compound">sc_events.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************</highlight></codeline>
<codeline lineno="81"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="82"><highlight class="comment"><sp/>**<sp/>Functions</highlight></codeline>
<codeline lineno="83"><highlight class="comment"><sp/>**</highlight></codeline>
<codeline lineno="84"><highlight class="comment"><sp/>**************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Starts<sp/>an<sp/>ATS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91" refid="sc__atsrq_8h_1a687aae01f1d28bd5dba0d23d9ffa832a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1a687aae01f1d28bd5dba0d23d9ffa832a" kindref="member">SC_StartAtsCmd</ref><sp/>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref><sp/>CmdPacket)</highlight></codeline>
<codeline lineno="92"><highlight class="normal">{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AtsIndex;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ATS<sp/>array<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" kindref="member">SC_VerifyCmdLength</ref>(CmdPacket,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_s_c___start_ats_cmd__t" kindref="compound">SC_StartAtsCmd_t</ref>)))</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>convert<sp/>ATS<sp/>ID<sp/>to<sp/>array<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AtsIndex<sp/>=<sp/>(((<ref refid="struct_s_c___start_ats_cmd__t" kindref="compound">SC_StartAtsCmd_t</ref>*)CmdPacket)<sp/>-&gt;<sp/>AtsId)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>ATS<sp/>array<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(AtsIndex<sp/>&lt;<sp/><ref refid="sc__msgdefs_8h_1a2e2dd92da44f4c937cdc035d2daa9aea" kindref="member">SC_NUMBER_OF_ATS</ref>)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>make<sp/>sure<sp/>that<sp/>there<sp/>is<sp/>no<sp/>ATS<sp/>running<sp/>on<sp/>the<sp/>ATP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>==<sp/><ref refid="sc__msgdefs_8h_1a7235f009a8e9977cca98a86ba3d0322f" kindref="member">SC_IDLE</ref>)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>make<sp/>sure<sp/>the<sp/>specified<sp/>ATS<sp/>is<sp/>ready<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>start<sp/>the<sp/>ats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" kindref="member">SC_BeginAts</ref><sp/>(AtsIndex,<sp/>0))</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>finish<sp/>the<sp/>ATP<sp/>control<sp/>block<sp/>..<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>=<sp/><ref refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" kindref="member">SC_EXECUTING</ref>;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>the<sp/>command<sp/>request<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" kindref="member">CmdCtr</ref>++;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a191275160ca3f846c26a9657c9726a7b" kindref="member">SC_STARTATS_CMD_INF_EID</ref>,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ATS<sp/>%c<sp/>Execution<sp/>Started&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(AtsIndex<sp/>?<sp/></highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight><highlight class="comment">/*<sp/>could<sp/>not<sp/>start<sp/>the<sp/>ats,<sp/>all<sp/>commands<sp/>were<sp/>skipped<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>event<sp/>message<sp/>was<sp/>sent<sp/>from<sp/>SC_BeginAts<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>the<sp/>command<sp/>request<sp/>error<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>ats<sp/>didn&apos;t<sp/>have<sp/>any<sp/>commands<sp/>in<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1aa7c89b5ebb1a47602d0a05d21a272f60" kindref="member">SC_STARTATS_CMD_NOT_LDED_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Start<sp/>ATS<sp/>Rejected:<sp/>ATS<sp/>%c<sp/>Not<sp/>Loaded&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(AtsIndex<sp/>?<sp/></highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>the<sp/>command<sp/>request<sp/>error<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>the<sp/>ATS<sp/>is<sp/>being<sp/>used<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a025ef0b3289f174964e8d8d1542f8861" kindref="member">SC_STARTATS_CMD_NOT_IDLE_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Start<sp/>ATS<sp/>Rejected:<sp/>ATP<sp/>is<sp/>not<sp/>Idle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>the<sp/>command<sp/>request<sp/>error<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>the<sp/>specified<sp/>ATS<sp/>id<sp/>is<sp/>not<sp/>valid<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1aaeb193ef2bf9666e4bc42cafca25cc40" kindref="member">SC_STARTATS_CMD_INVLD_ID_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Start<sp/>ATS<sp/>%d<sp/>Rejected:<sp/>Invalid<sp/>ATS<sp/>ID&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="struct_s_c___start_ats_cmd__t" kindref="compound">SC_StartAtsCmd_t</ref>*)CmdPacket)<sp/>-&gt;<sp/>AtsId);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>the<sp/>command<sp/>request<sp/>error<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="170"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_StartAtsCmd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/>Stop<sp/>the<sp/>currently<sp/>executing<sp/>ATS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177" refid="sc__atsrq_8h_1a2f9fa2d89a5aec67ebe386074235e88d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1a2f9fa2d89a5aec67ebe386074235e88d" kindref="member">SC_StopAtsCmd</ref><sp/>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref><sp/>CmdPacket)</highlight></codeline>
<codeline lineno="178"><highlight class="normal">{<sp/><sp/></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/>TempAtsChar<sp/>=<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/>Result<sp/><sp/>=<sp/><sp/><ref refid="sc__app_8h_1a3dbc52edbef9473bda157cc018785bd7" kindref="member">SC_ERROR</ref>;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" kindref="member">SC_VerifyCmdLength</ref>(CmdPacket,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_s_c___no_args_cmd__t" kindref="compound">SC_NoArgsCmd_t</ref>)))</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="185"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Set<sp/>the<sp/>temp<sp/>ATS<sp/>ID<sp/>if<sp/>it<sp/>is<sp/>valid</highlight></codeline>
<codeline lineno="186"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>==<sp/><ref refid="sc__msgdefs_8h_1ae1a40aabd994f32dacefb13b329889de" kindref="member">SC_ATSA</ref>)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TempAtsChar<sp/>=<sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>==<sp/><ref refid="sc__msgdefs_8h_1a3b581d1bee09c3c45c84d492ad5ab43d" kindref="member">SC_ATSB</ref>)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TempAtsChar<sp/>=<sp/></highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1ac32fcd7d8b62e807afecfeb05a1ee683" kindref="member">SC_STOPATS_CMD_INF_EID</ref>,</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ATS<sp/>%c<sp/>stopped&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TempAtsChar);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a275753db1c8fd490157bca564277873e" kindref="member">SC_STOPATS_NO_ATS_INF_EID</ref>,</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;There<sp/>is<sp/>no<sp/>ATS<sp/>running<sp/>to<sp/>stop&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>the<sp/>ATS<sp/>from<sp/>executing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" kindref="member">SC_KillAts</ref>();</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>the<sp/>global<sp/>switch<sp/>pend<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>SwitchPendFlag<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" kindref="member">CmdCtr</ref>++;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="227"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_StopAtsCmd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>for<sp/>stating<sp/>an<sp/>ATS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234" refid="sc__atsrq_8h_1a8a81e9c2eb64da05ba257bc7a399ada8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" kindref="member">SC_BeginAts</ref><sp/>(<ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/>AtsIndex,<sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/>TimeOffset)</highlight></codeline>
<codeline lineno="235"><highlight class="normal">{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_s_c___ats_entry_header__t" kindref="compound">SC_AtsEntryHeader_t</ref><sp/><sp/><sp/>*Entry;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ATS<sp/>table<sp/>entry<sp/>pointer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EntryIndex;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ATS<sp/>entry<sp/>location<sp/>in<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sc__tbldefs_8h_1a28d20ba745b8e9e01873312162938000" kindref="member">SC_AbsTimeTag_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ListCmdTime;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>list<sp/>entry<sp/>execution<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeIndex;<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>current<sp/>time<sp/>buffer<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdIndex;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ATS<sp/>command<sp/>index<sp/>(cmd<sp/>num<sp/>-<sp/>1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReturnCode;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sc__tbldefs_8h_1a28d20ba745b8e9e01873312162938000" kindref="member">SC_AbsTimeTag_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeToStartAts;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>REAL<sp/>time<sp/>to<sp/>start<sp/>the<sp/>ATS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdsSkipped<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>TimeToStartAts<sp/>=<sp/><ref refid="sc__utils_8c_1ac6af36b0399701c0af2597061026a21f" kindref="member">SC_ComputeAbsTime</ref><sp/>(TimeOffset);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="248"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>**<sp/>Loop<sp/>through<sp/>the<sp/>commands<sp/>until<sp/>a<sp/>time<sp/>tag<sp/>is<sp/>found<sp/>that</highlight></codeline>
<codeline lineno="249"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>**<sp/>has<sp/>a<sp/>time<sp/>greater<sp/>than<sp/>or<sp/>equal<sp/>to<sp/>the<sp/>current<sp/>time<sp/>OR</highlight></codeline>
<codeline lineno="250"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>**<sp/>all<sp/>of<sp/>the<sp/>commands<sp/>have<sp/>been<sp/>skipped</highlight></codeline>
<codeline lineno="251"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>TimeIndex<sp/>=<sp/>0;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>pointer<sp/>into<sp/>the<sp/>time<sp/>index<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(TimeIndex<sp/>&lt;<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref>)</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>first<sp/>get<sp/>the<sp/>cmd<sp/>index<sp/>at<sp/>this<sp/>list<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdIndex<sp/>=<sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a3d36defd73403467bc7179b96fe9e8e5" kindref="member">AtsTimeIndexBuffer</ref>[AtsIndex][TimeIndex];</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>then<sp/>get<sp/>the<sp/>entry<sp/>index<sp/>from<sp/>the<sp/>cmd<sp/>index<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EntryIndex<sp/>=<sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a03bf96d70ccfb74d080dd584c0dc0296" kindref="member">AtsCmdIndexBuffer</ref>[AtsIndex][CmdIndex];</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>then<sp/>get<sp/>a<sp/>pointer<sp/>to<sp/>the<sp/>ATS<sp/>entry<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Entry<sp/>=<sp/>(<ref refid="struct_s_c___ats_entry_header__t" kindref="compound">SC_AtsEntryHeader_t</ref><sp/>*)<sp/>&amp;<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1ae9f8e4eb45cfe1bf36660cf691e95058" kindref="member">AtsTblAddr</ref>[AtsIndex][EntryIndex];</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>then<sp/>get<sp/>cmd<sp/>execution<sp/>time<sp/>from<sp/>the<sp/>ATS<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ListCmdTime<sp/>=<sp/><ref refid="sc__utils_8c_1a6583d766c8eaeb83692b995747cc84c7" kindref="member">SC_GetAtsEntryTime</ref>(Entry);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compare<sp/>ATS<sp/>start<sp/>time<sp/>to<sp/>this<sp/>list<sp/>entry<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a7e0ad354a5148432c4bf435acd04ad6b" kindref="member">SC_CompareAbsTime</ref>(TimeToStartAts,<sp/>ListCmdTime))</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>start<sp/>time<sp/>is<sp/>greater<sp/>than<sp/>this<sp/>list<sp/>entry<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a5f56987c9540ca83dd856f4c908c2d39" kindref="member">AtsCmdStatusTblAddr</ref>[AtsIndex][CmdIndex]<sp/>=<sp/><ref refid="sc__msgdefs_8h_1a0ea84cdb4bceee1a00944920248bb855" kindref="member">SC_SKIPPED</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdsSkipped++;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeIndex++;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>start<sp/>time<sp/>is<sp/>less<sp/>than<sp/>or<sp/>equal<sp/>to<sp/>this<sp/>list<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="282"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>**<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>whole<sp/>ATS<sp/>was<sp/>skipped</highlight></codeline>
<codeline lineno="283"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(TimeIndex<sp/>==<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref>)</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a19951798d3dbcbbacf4eaaca81792e5c" kindref="member">SC_ATS_SKP_ALL_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;All<sp/>ATS<sp/>commands<sp/>were<sp/>skipped,<sp/>ATS<sp/>stopped&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>stop<sp/>the<sp/>ats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" kindref="member">SC_KillAts</ref>();</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReturnCode<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight><highlight class="comment">/*<sp/>there<sp/>is<sp/>at<sp/>least<sp/>one<sp/>command<sp/>to<sp/>execute<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="301"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Initialize<sp/>the<sp/>ATP<sp/>Control<sp/>Block.</highlight></codeline>
<codeline lineno="302"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>leave<sp/>the<sp/>atp<sp/>state<sp/>alone,<sp/>it<sp/>will<sp/>be<sp/>updated<sp/>by<sp/>the<sp/>caller<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>=<sp/>AtsIndex<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>CmdNumber<sp/>=<sp/>CmdIndex;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>TimeIndexPtr<sp/>=<sp/>TimeIndex;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>send<sp/>an<sp/>event<sp/>for<sp/>number<sp/>of<sp/>commands<sp/>skipped<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a27511c0e4dbf3c1851c3670d05dff0ee" kindref="member">SC_ATS_ERR_SKP_DBG_EID</ref>,</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ATS<sp/>started,<sp/>skipped<sp/>%d<sp/>commands&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdsSkipped);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="314"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Set<sp/>the<sp/>next<sp/>command<sp/>time<sp/>for<sp/>the<sp/>ATP</highlight></codeline>
<codeline lineno="315"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" kindref="member">NextCmdTime</ref>[<ref refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" kindref="member">SC_ATP</ref>]<sp/>=<sp/>ListCmdTime;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReturnCode<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(ReturnCode);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="324"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_BeginAts<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>Function<sp/>for<sp/>stopping<sp/>the<sp/>running<sp/>ATS<sp/><sp/>&amp;<sp/>clearing<sp/>data<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332" refid="sc__atsrq_8h_1aa4e5e88e49506b47ec4e2759d1a8088a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" kindref="member">SC_KillAts</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="333"><highlight class="normal">{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>!=<sp/><sp/><ref refid="sc__msgdefs_8h_1a7235f009a8e9977cca98a86ba3d0322f" kindref="member">SC_IDLE</ref>)</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Increment<sp/>the<sp/>ats<sp/>use<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>-<sp/>1].<ref refid="struct_s_c___ats_info_table__t_1a31024dc558bf3dcd2723d824255fe18e" kindref="member">AtsUseCtr</ref>++;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="342"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>**<sp/>Reset<sp/>the<sp/>state<sp/>in<sp/>the<sp/>atp<sp/>control<sp/>block</highlight></codeline>
<codeline lineno="343"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>=<sp/><ref refid="sc__msgdefs_8h_1a7235f009a8e9977cca98a86ba3d0322f" kindref="member">SC_IDLE</ref>;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>reset<sp/>the<sp/>time<sp/>of<sp/>the<sp/>next<sp/>ats<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" kindref="member">NextCmdTime</ref>[<ref refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" kindref="member">SC_ATP</ref>]<sp/>=<sp/><ref refid="sc__msgdefs_8h_1a06aabf7012f8325343341be087ac2019" kindref="member">SC_MAX_TIME</ref>;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="349"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_KillAts<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Process<sp/>an<sp/>ATS<sp/>Switch<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356" refid="sc__atsrq_8h_1a641a2ed2774a4951cd79f0ed15c31aa0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1a641a2ed2774a4951cd79f0ed15c31aa0" kindref="member">SC_GroundSwitchCmd</ref><sp/>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref><sp/>CmdPacket)</highlight></codeline>
<codeline lineno="357"><highlight class="normal">{</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CurrAtsNum;</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NewAtsNum;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>number<sp/>of<sp/>the<sp/>ats<sp/>to<sp/>switch<sp/>to*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" kindref="member">SC_VerifyCmdLength</ref>(CmdPacket,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_s_c___no_args_cmd__t" kindref="compound">SC_NoArgsCmd_t</ref>)))</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>make<sp/>sure<sp/>that<sp/>an<sp/>ATS<sp/>is<sp/>running<sp/>on<sp/>the<sp/>ATP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>==<sp/><ref refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" kindref="member">SC_EXECUTING</ref>)</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>the<sp/>current<sp/>ATS<sp/>number<sp/>range<sp/>0..1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CurrAtsNum<sp/>=<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>the<sp/>ATS<sp/>to<sp/>switch<sp/>to<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NewAtsNum<sp/>=<sp/>1<sp/>-<sp/>CurrAtsNum;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>new<sp/>ATS<sp/>has<sp/>commands<sp/>in<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[NewAtsNum].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>the<sp/>global<sp/>switch<sp/>pend<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>SwitchPendFlag<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>update<sp/>the<sp/>command<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" kindref="member">CmdCtr</ref>++;</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a1baf2654a11c5d9c33beff5797156766" kindref="member">SC_SWITCH_ATS_CMD_INF_EID</ref>,</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Switch<sp/>ATS<sp/>is<sp/>Pending&quot;</highlight><highlight class="normal">);<sp/><sp/></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>the<sp/>other<sp/>ATS<sp/>does<sp/>not<sp/>have<sp/>any<sp/>commands<sp/>in<sp/>it<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1ae98f21f0b1a5c9eb3cf46651e95652a1" kindref="member">SC_SWITCH_ATS_CMD_NOT_LDED_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Switch<sp/>ATS<sp/>Failure:<sp/>Destination<sp/>ATS<sp/>Not<sp/>Loaded&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>update<sp/>command<sp/>error<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>SwitchPendFlag<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>ATP<sp/>is<sp/>not<sp/>currently<sp/>executing<sp/>any<sp/>commands<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1abe06d9a1cdbae6f7bcd1f88535a56ed5" kindref="member">SC_SWITCH_ATS_CMD_IDLE_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Switch<sp/>ATS<sp/>Rejected:<sp/>ATP<sp/>is<sp/>idle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>update<sp/>the<sp/>command<sp/>error<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>SwitchPendFlag<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight></codeline>
<codeline lineno="415"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_GroundSwitchCmd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>for<sp/>switching<sp/>ATS&apos;s<sp/>when<sp/>each<sp/>have<sp/>commands<sp/>in<sp/>to<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>execute<sp/>in<sp/>the<sp/>same<sp/>second.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423" refid="sc__atsrq_8h_1ae69e64aed02ef744b205cb07fdd0e861" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1ae69e64aed02ef744b205cb07fdd0e861" kindref="member">SC_ServiceSwitchPend</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="424"><highlight class="normal">{</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/>NewAtsNum;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>ats<sp/>that<sp/>we<sp/>are<sp/>switching<sp/>to<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/>OldAtsNum;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>ats<sp/>we<sp/>are<sp/>switching<sp/>from<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="429"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>**<sp/><sp/>See<sp/>if<sp/>it<sp/>is<sp/>time<sp/>to<sp/>switch<sp/>the<sp/>ATS</highlight></codeline>
<codeline lineno="430"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a7e0ad354a5148432c4bf435acd04ad6b" kindref="member">SC_CompareAbsTime</ref><sp/>(<ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" kindref="member">NextCmdTime</ref>[<ref refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" kindref="member">SC_ATP</ref>],<sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1aa3b4c501ef64585b7f9c9bde2bc7f84b" kindref="member">CurrentTime</ref>))</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>make<sp/>sure<sp/>that<sp/>an<sp/>ATS<sp/>is<sp/>still<sp/>running<sp/>on<sp/>the<sp/>ATP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>==<sp/><ref refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" kindref="member">SC_EXECUTING</ref>)</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>the<sp/>ATS<sp/>number<sp/>to<sp/>switch<sp/>to<sp/>and<sp/>from<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OldAtsNum<sp/>=<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NewAtsNum<sp/>=<sp/>1<sp/>-<sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>new<sp/>ATS<sp/>has<sp/>commands<sp/>in<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[NewAtsNum].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>stop<sp/>the<sp/>current<sp/>ATS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" kindref="member">SC_KillAts</ref>();</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="450"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Start<sp/>the<sp/>new<sp/>ATS:<sp/>Notice<sp/>that<sp/>we<sp/>are<sp/>starting<sp/>the<sp/>new</highlight></codeline>
<codeline lineno="451"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>ATS<sp/>with<sp/>a<sp/>one<sp/>second<sp/>offset<sp/>from<sp/>the<sp/>current<sp/>second,</highlight></codeline>
<codeline lineno="452"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>This<sp/>prevents<sp/>commands<sp/>that<sp/>were<sp/>executed<sp/>the<sp/>same</highlight></codeline>
<codeline lineno="453"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>second<sp/>that<sp/>this<sp/>command<sp/>was<sp/>received<sp/>from<sp/>being<sp/>repeated.</highlight></codeline>
<codeline lineno="454"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" kindref="member">SC_BeginAts</ref><sp/>(NewAtsNum,<sp/>1))</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>=<sp/><ref refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" kindref="member">SC_EXECUTING</ref>;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a7718238d4e6b12862ff93464f49697b7" kindref="member">SC_ATS_SERVICE_SWTCH_INF_EID</ref>,</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref><sp/>,</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ATS<sp/>Switched<sp/>from<sp/>%c<sp/>to<sp/>%c&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(OldAtsNum?</highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal">:</highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">),<sp/>(NewAtsNum?</highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal">:</highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>the<sp/>other<sp/>ATS<sp/>does<sp/>not<sp/>have<sp/>any<sp/>commands<sp/>in<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a710e0a84a8b33932f529bab47ecc9029" kindref="member">SC_SERVICE_SWITCH_ATS_CMD_LDED_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Switch<sp/>ATS<sp/>Failure:<sp/>Destination<sp/>ATS<sp/>is<sp/>empty&quot;</highlight><highlight class="normal">);<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>ATP<sp/>is<sp/>not<sp/>currently<sp/>executing<sp/>any<sp/>commands<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>this<sp/>should<sp/>only<sp/>happen<sp/>if<sp/>the<sp/>switch<sp/>flag<sp/>gets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>corrupted<sp/>some<sp/>how<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a884048f7d77b33798f7c46063c06287f" kindref="member">SC_ATS_SERVICE_SWITCH_IDLE_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref><sp/>,</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Switch<sp/>ATS<sp/>Rejected:<sp/>ATP<sp/>is<sp/>idle&quot;</highlight><highlight class="normal">);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>in<sp/>any<sp/>case,<sp/>this<sp/>flag<sp/>will<sp/>need<sp/>to<sp/>be<sp/>cleared<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>SwitchPendFlag<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="490"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_ServiceSwitchPend<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Switches<sp/>from<sp/>one<sp/>ATS<sp/>to<sp/>the<sp/>other<sp/>when<sp/>there<sp/>are<sp/>no<sp/>commands<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>to<sp/>be<sp/>executed<sp/>in<sp/>the<sp/>same<sp/>second<sp/>of<sp/>the<sp/>switch<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="498" refid="sc__atsrq_8h_1a68058fd082d5675fcadf1042e5a6bbd4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1a68058fd082d5675fcadf1042e5a6bbd4" kindref="member">SC_InlineSwitch</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="499"><highlight class="normal">{</highlight></codeline>
<codeline lineno="500"><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NewAtsNum;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>number<sp/>of<sp/>the<sp/>ats<sp/>to<sp/>switch<sp/>to*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OldAtsNum;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>number<sp/>of<sp/>the<sp/>ats<sp/>to<sp/>switch<sp/>from*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReturnCode;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>return<sp/>code<sp/>for<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>figure<sp/>out<sp/>which<sp/>ATS<sp/>to<sp/>switch<sp/>to<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>NewAtsNum<sp/>=<sp/>1<sp/>-<sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>the<sp/>ATS<sp/>number<sp/>to<sp/>switch<sp/>FROM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/>OldAtsNum<sp/>=<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>new<sp/>ATS<sp/>has<sp/>commands<sp/>in<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[NewAtsNum].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="517"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Stop<sp/>the<sp/>current<sp/>ATS</highlight></codeline>
<codeline lineno="518"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" kindref="member">SC_KillAts</ref>();</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="522"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Start<sp/>up<sp/>the<sp/>other<sp/>ATS</highlight></codeline>
<codeline lineno="523"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__atsrq_8c_1a57f6a141d3067ee2f82a2eaff1ecc696" kindref="member">SC_BeginAts</ref><sp/>(NewAtsNum<sp/>,<sp/>0))</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>=<sp/><ref refid="sc__msgdefs_8h_1afe36e11c9d7631269eb320d8081ca824" kindref="member">SC_STARTING</ref>;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a96ff02a39687d89957288d61d1b6e9d3" kindref="member">SC_ATS_INLINE_SWTCH_INF_EID</ref>,</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref><sp/>,</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ATS<sp/>Switched<sp/>from<sp/>%c<sp/>to<sp/>%c&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(OldAtsNum?</highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal">:</highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">),<sp/>(NewAtsNum?</highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal">:</highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="534"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/><sp/>Update<sp/>the<sp/>command<sp/>counter<sp/>and<sp/>return<sp/>code</highlight></codeline>
<codeline lineno="535"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" kindref="member">CmdCtr</ref>++;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReturnCode<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;<sp/><sp/></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>all<sp/>of<sp/>the<sp/>commands<sp/>in<sp/>the<sp/>new<sp/>ats<sp/>were<sp/>skipped<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="543"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>update<sp/>the<sp/>command<sp/>error<sp/>counter</highlight></codeline>
<codeline lineno="544"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReturnCode<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>the<sp/>other<sp/>ATS<sp/>does<sp/>not<sp/>have<sp/>any<sp/>commands<sp/>in<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a4ffe96a26b5eed705736f58e4f8c146f" kindref="member">SC_ATS_INLINE_SWTCH_NOT_LDED_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref><sp/><sp/>,</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Switch<sp/>ATS<sp/>Failure:<sp/>Destination<sp/>ATS<sp/>Not<sp/>Loaded&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="556"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>update<sp/>the<sp/>ATS<sp/>error<sp/>counter</highlight></codeline>
<codeline lineno="557"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReturnCode<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>out<sp/>the<sp/>global<sp/>ground-switch<sp/>pend<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>SwitchPendFlag<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(ReturnCode);</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="568"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Jump<sp/>an<sp/>ATS<sp/>forward<sp/>in<sp/>time<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576" refid="sc__atsrq_8h_1ad501fbe3c43e112872b3bfa22dbc8477" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1ad501fbe3c43e112872b3bfa22dbc8477" kindref="member">SC_JumpAtsCmd</ref><sp/>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref><sp/>CmdPacket)</highlight></codeline>
<codeline lineno="577"><highlight class="normal">{</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_s_c___ats_entry_header__t" kindref="compound">SC_AtsEntryHeader_t</ref><sp/><sp/><sp/>*Entry;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ATS<sp/>table<sp/>entry<sp/>pointer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EntryIndex;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ATS<sp/>entry<sp/>location<sp/>in<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sc__tbldefs_8h_1a28d20ba745b8e9e01873312162938000" kindref="member">SC_AbsTimeTag_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>JumpTime;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>time<sp/>to<sp/>jump<sp/>to<sp/>in<sp/>the<sp/>ATS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sc__tbldefs_8h_1a28d20ba745b8e9e01873312162938000" kindref="member">SC_AbsTimeTag_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ListCmdTime;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>list<sp/>entry<sp/>execution<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AtsIndex;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>index<sp/>of<sp/>the<sp/>ATS<sp/>that<sp/>is<sp/>running<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeIndex;<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>current<sp/>time<sp/>buffer<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdIndex;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ATS<sp/>command<sp/>index<sp/>(cmd<sp/>num<sp/>-<sp/>1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeBuffer[<ref refid="cfe__time_8h_1af5d977124fb02b03b842af4cf188907b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_TIME_PRINTED_STRING_SIZE</ref>];</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___t_i_m_e___sys_time__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_TIME_SysTime_t</ref><sp/><sp/><sp/><sp/><sp/>NewTime;</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NumSkipped;</highlight></codeline>
<codeline lineno="588"><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" kindref="member">SC_VerifyCmdLength</ref>(CmdPacket,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_s_c___jump_ats_cmd__t" kindref="compound">SC_JumpAtsCmd_t</ref>)))</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtpState<sp/>==<sp/><ref refid="sc__msgdefs_8h_1a77594eb112d4042ca368604bf77dd969" kindref="member">SC_EXECUTING</ref>)</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>JumpTime<sp/>=<sp/>((<ref refid="struct_s_c___jump_ats_cmd__t" kindref="compound">SC_JumpAtsCmd_t</ref><sp/>*)CmdPacket)<sp/>-&gt;<sp/>NewTime<sp/>;</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AtsIndex<sp/>=<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>AtsNumber<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="597"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Loop<sp/>through<sp/>the<sp/>commands<sp/>until<sp/>a<sp/>time<sp/>tag<sp/>is<sp/>found</highlight></codeline>
<codeline lineno="598"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>that<sp/>has<sp/>a<sp/>time<sp/>greater<sp/>than<sp/>or<sp/>equal<sp/>to<sp/>the<sp/>current<sp/>time<sp/>OR</highlight></codeline>
<codeline lineno="599"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>all<sp/>of<sp/>the<sp/>commands<sp/>have<sp/>been<sp/>skipped</highlight></codeline>
<codeline lineno="600"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NumSkipped<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(TimeIndex<sp/>&lt;<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref>)</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>first<sp/>get<sp/>the<sp/>cmd<sp/>index<sp/>at<sp/>this<sp/>list<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdIndex<sp/>=<sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a3d36defd73403467bc7179b96fe9e8e5" kindref="member">AtsTimeIndexBuffer</ref>[AtsIndex][TimeIndex];</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>then<sp/>get<sp/>the<sp/>entry<sp/>index<sp/>from<sp/>the<sp/>cmd<sp/>index<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EntryIndex<sp/>=<sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a03bf96d70ccfb74d080dd584c0dc0296" kindref="member">AtsCmdIndexBuffer</ref>[AtsIndex][CmdIndex];</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>then<sp/>get<sp/>a<sp/>pointer<sp/>to<sp/>the<sp/>ATS<sp/>entry<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Entry<sp/>=<sp/>(<ref refid="struct_s_c___ats_entry_header__t" kindref="compound">SC_AtsEntryHeader_t</ref><sp/>*)<sp/>&amp;<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1ae9f8e4eb45cfe1bf36660cf691e95058" kindref="member">AtsTblAddr</ref>[AtsIndex][EntryIndex];</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>then<sp/>get<sp/>cmd<sp/>execution<sp/>time<sp/>from<sp/>the<sp/>ATS<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ListCmdTime<sp/>=<sp/><ref refid="sc__utils_8c_1a6583d766c8eaeb83692b995747cc84c7" kindref="member">SC_GetAtsEntryTime</ref>(Entry);</highlight></codeline>
<codeline lineno="614"><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compare<sp/>ATS<sp/>jump<sp/>time<sp/>to<sp/>this<sp/>list<sp/>entry<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a7e0ad354a5148432c4bf435acd04ad6b" kindref="member">SC_CompareAbsTime</ref>(JumpTime,<sp/>ListCmdTime))</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>jump<sp/>time<sp/>is<sp/>greater<sp/>than<sp/>this<sp/>list<sp/>entry<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="621"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>If<sp/>the<sp/>ATS<sp/>command<sp/>is<sp/>loaded<sp/>and<sp/>ready<sp/>to<sp/>run,<sp/>then</highlight></codeline>
<codeline lineno="622"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/><sp/>mark<sp/>the<sp/>command<sp/>as<sp/>being<sp/>skipped</highlight></codeline>
<codeline lineno="623"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/><sp/>if<sp/>the<sp/>command<sp/>has<sp/>any<sp/>other<sp/>status,<sp/>SC_SKIPPED,<sp/>SC_EXECUTED,</highlight></codeline>
<codeline lineno="624"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/><sp/><sp/>etc,<sp/>then<sp/>leave<sp/>the<sp/>status<sp/>alone.</highlight></codeline>
<codeline lineno="625"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a5f56987c9540ca83dd856f4c908c2d39" kindref="member">AtsCmdStatusTblAddr</ref>[AtsIndex][CmdIndex]<sp/>==<sp/><ref refid="sc__msgdefs_8h_1a4dc0ddf365dc62f97a4446908b43e615" kindref="member">SC_LOADED</ref>)</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a5f56987c9540ca83dd856f4c908c2d39" kindref="member">AtsCmdStatusTblAddr</ref>[AtsIndex][CmdIndex]<sp/>=<sp/><ref refid="sc__msgdefs_8h_1a0ea84cdb4bceee1a00944920248bb855" kindref="member">SC_SKIPPED</ref>;</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NumSkipped++;</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="631"><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeIndex++;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>jump<sp/>time<sp/>is<sp/>less<sp/>than<sp/>or<sp/>equal<sp/>to<sp/>this<sp/>list<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="642"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>the<sp/>whole<sp/>ATS<sp/>was<sp/>skipped</highlight></codeline>
<codeline lineno="643"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(TimeIndex<sp/>==<sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref>)</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a882dfb6b9935eac5d11610b08372b800" kindref="member">SC_JUMPATS_CMD_STOPPED_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Jump<sp/>Cmd:<sp/>All<sp/>ATS<sp/>commands<sp/>were<sp/>skipped,<sp/>ATS<sp/>stopped&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>stop<sp/>the<sp/>ats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__atsrq_8c_1aa4e5e88e49506b47ec4e2759d1a8088a" kindref="member">SC_KillAts</ref>();<sp/><sp/></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight><highlight class="comment">/*<sp/>there<sp/>is<sp/>at<sp/>least<sp/>one<sp/>command<sp/>to<sp/>execute<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="659"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Update<sp/>the<sp/>ATP<sp/>Control<sp/>Block<sp/>entries.</highlight></codeline>
<codeline lineno="660"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>CmdNumber<sp/>=<sp/>CmdIndex;</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a39c07cdf7206869ac9e99a3183459e3b" kindref="member">AtsCtrlBlckAddr</ref><sp/>-&gt;<sp/>TimeIndexPtr<sp/>=<sp/>TimeIndex;</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="665"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Set<sp/>the<sp/>next<sp/>command<sp/>time<sp/>for<sp/>the<sp/>ATP</highlight></codeline>
<codeline lineno="666"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae226884178b29aa50e5236580ee69917" kindref="member">NextCmdTime</ref>[<ref refid="sc__msgdefs_8h_1a6de562b995a9e21ce74e3b65e50f9d07" kindref="member">SC_ATP</ref>]<sp/>=<sp/>ListCmdTime;</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" kindref="member">CmdCtr</ref>++;</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>print<sp/>out<sp/>the<sp/>date<sp/>in<sp/>a<sp/>readable<sp/>format<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NewTime.<ref refid="struct_c_f_e___t_i_m_e___sys_time__t_1ac10c014228075ee87ea7938348a98c1c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">Seconds</ref><sp/>=<sp/>ListCmdTime;</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NewTime.<ref refid="struct_c_f_e___t_i_m_e___sys_time__t_1a2af2ad470fa81d8eb5c23f68b54ab81a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">Subseconds</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__time_8h_1a008e7b0c99cc1aac24a73b5cd032eee7" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_TIME_Print</ref>(<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)&amp;TimeBuffer,<sp/>NewTime);</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1aefbbdd61202cff067fa6dc4634d846e2" kindref="member">SC_JUMP_ATS_INF_EID</ref>,</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Next<sp/>ATS<sp/>command<sp/>time<sp/>in<sp/>the<sp/>ATP<sp/>was<sp/>set<sp/>to<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimeBuffer);<sp/></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NumSkipped<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>skipped<sp/>come<sp/>commands,<sp/>but<sp/>not<sp/>all<sp/>of<sp/>them<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a0ce15b36dfa3bf3f09ffe90357ad6229" kindref="member">SC_JUMP_ATS_SKIPPED_DBG_EID</ref>,</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Jump<sp/>Cmd:<sp/>Skipped<sp/>%d<sp/>ATS<sp/>commands&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NumSkipped);<sp/></highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/><sp/>There<sp/>is<sp/>not<sp/>a<sp/>running<sp/>ATS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1aa9ec28d4c4313b68114e14867777668a" kindref="member">SC_JUMPATS_CMD_NOT_ACT_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ATS<sp/>Jump<sp/>Failed:<sp/>No<sp/>active<sp/>ATS&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight></codeline>
<codeline lineno="703"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_JumpAtsCmd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Continue<sp/>ATS<sp/>on<sp/>Checksum<sp/>Failure<sp/>Cmd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="710" refid="sc__atsrq_8h_1adf1ad91a0ac4209fdc2bad863295fd30" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1adf1ad91a0ac4209fdc2bad863295fd30" kindref="member">SC_ContinueAtsOnFailureCmd</ref>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref><sp/>CmdPacket)</highlight></codeline>
<codeline lineno="711"><highlight class="normal">{</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/>State;</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" kindref="member">SC_VerifyCmdLength</ref>(CmdPacket,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_s_c___set_continue_ats_on_failure_cmd__t" kindref="compound">SC_SetContinueAtsOnFailureCmd_t</ref>)))</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>State<sp/>=<sp/>((<ref refid="struct_s_c___set_continue_ats_on_failure_cmd__t" kindref="compound">SC_SetContinueAtsOnFailureCmd_t</ref><sp/>*)<sp/>CmdPacket)<sp/>-&gt;<sp/>ContinueState;</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(State<sp/>!=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref><sp/>&amp;&amp;<sp/>State<sp/>!=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>)</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a19d7352b9d9ccdcc2995626f3cbc7bae" kindref="member">SC_CONT_CMD_ERR_EID</ref>,</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Continue<sp/>ATS<sp/>On<sp/>Failure<sp/>command<sp/><sp/>failed,<sp/>invalid<sp/>state:<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>State);</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a88d18d9387612ef1a3180761231c427e" kindref="member">ContinueAtsOnFailureFlag</ref><sp/>=<sp/>State;<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" kindref="member">CmdCtr</ref>++;</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a150d51fced7ec07a4b56183dab534d71" kindref="member">SC_CONT_CMD_DEB_EID</ref>,</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Continue-ATS-On-Failure<sp/>command,<sp/>State:<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>State);</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="741"><highlight class="normal">}</highlight><highlight class="comment">/*<sp/>end<sp/>SC_ContinueAtsOnFailureCmd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Append<sp/>to<sp/>selected<sp/>ATS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="749" refid="sc__atsrq_8h_1a3f66fd506dce0cf0c0c9764222e2f387" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sc__atsrq_8c_1a3f66fd506dce0cf0c0c9764222e2f387" kindref="member">SC_AppendAtsCmd</ref><sp/>(<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_MsgPtr_t</ref><sp/>CmdPacket)</highlight></codeline>
<codeline lineno="750"><highlight class="normal">{</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_s_c___append_ats_cmd__t" kindref="compound">SC_AppendAtsCmd_t</ref><sp/>*AppendCmd<sp/>=<sp/>(<ref refid="struct_s_c___append_ats_cmd__t" kindref="compound">SC_AppendAtsCmd_t</ref><sp/>*)<sp/>CmdPacket;</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a2e00abb078d312d1d8c4fbcd6be343d8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint16</ref><sp/><sp/>AtsIndex;<sp/><sp/></highlight><highlight class="comment">/*<sp/>index<sp/>(not<sp/>ID)<sp/>of<sp/>target<sp/>ATS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__utils_8c_1a631102696bfaadee4fc90587fd67e8cf" kindref="member">SC_VerifyCmdLength</ref>(CmdPacket,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_s_c___append_ats_cmd__t" kindref="compound">SC_AppendAtsCmd_t</ref>)))</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>create<sp/>base<sp/>zero<sp/>array<sp/>index<sp/>from<sp/>base<sp/>one<sp/>ID<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AtsIndex<sp/>=<sp/>AppendCmd-&gt;<ref refid="struct_s_c___append_ats_cmd__t_1a5f8d6acbb9c9449e9754b55a19d7bf3d" kindref="member">AtsId</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(AtsIndex<sp/>&gt;=<sp/><ref refid="sc__msgdefs_8h_1a2e2dd92da44f4c937cdc035d2daa9aea" kindref="member">SC_NUMBER_OF_ATS</ref>)</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>invalid<sp/>target<sp/>ATS<sp/>selection<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a11090f7eb613e461c4306ddbd0aea131" kindref="member">SC_APPEND_CMD_ARG_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Append<sp/>ATS<sp/>error:<sp/>invalid<sp/>ATS<sp/>ID<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,<sp/>AppendCmd-&gt;<ref refid="struct_s_c___append_ats_cmd__t_1a5f8d6acbb9c9449e9754b55a19d7bf3d" kindref="member">AtsId</ref>);</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1aea14091ad69351c7cfbf12f8f90332a2" kindref="member">NumberOfCommands</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>target<sp/>ATS<sp/>table<sp/>is<sp/>empty<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a536b767b4b3d64c44db124bb1c6b109f" kindref="member">SC_APPEND_CMD_TGT_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Append<sp/>ATS<sp/>%c<sp/>error:<sp/>ATS<sp/>table<sp/>is<sp/>empty&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal"><sp/>+<sp/>AtsIndex);</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a9b464bf4c3cea1519ca9cd4f5bd735e6" kindref="member">AppendEntryCount</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>append<sp/>table<sp/>is<sp/>empty<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a6f4e36d668ad8af7272aa18622448a40" kindref="member">SC_APPEND_CMD_SRC_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Append<sp/>ATS<sp/>%c<sp/>error:<sp/>Append<sp/>table<sp/>is<sp/>empty&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal"><sp/>+<sp/>AtsIndex);</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1a8abdc56728475f8abfd6570a0ddc9983" kindref="member">AtsSize</ref><sp/>+<sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a08c5ed2267a4f6704820f75597c59001" kindref="member">AppendWordCount</ref>)<sp/>&gt;<sp/><ref refid="sc__platform__cfg_8h_1a5a6823770db1b0799a5835f459799ad5" kindref="member">SC_ATS_BUFF_SIZE</ref>)</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>not<sp/>enough<sp/>room<sp/>in<sp/>ATS<sp/>buffer<sp/>for<sp/>Append<sp/>table<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1acacf89d319aa3ff369032385bc605bc0" kindref="member">CmdErrCtr</ref>++;</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1a4f77ca0ceb473a1376a5dac3574b6186" kindref="member">SC_APPEND_CMD_FIT_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Append<sp/>ATS<sp/>%c<sp/>error:<sp/>ATS<sp/>size<sp/>=<sp/>%d,<sp/>Append<sp/>size<sp/>=<sp/>%d,<sp/>ATS<sp/>buffer<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal"><sp/>+<sp/>AtsIndex,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="sc__app_8c_1aa93918dd4ff04500fde341a882066f79" kindref="member">SC_OperData</ref>.<ref refid="struct_s_c___oper_data__t_1a174d7310fa7980d799924f5583a36041" kindref="member">AtsInfoTblAddr</ref>[AtsIndex].<ref refid="struct_s_c___ats_info_table__t_1a8abdc56728475f8abfd6570a0ddc9983" kindref="member">AtsSize</ref>,</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a08c5ed2267a4f6704820f75597c59001" kindref="member">AppendWordCount</ref>,<sp/><ref refid="sc__platform__cfg_8h_1a5a6823770db1b0799a5835f459799ad5" kindref="member">SC_ATS_BUFF_SIZE</ref>);</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>store<sp/>ATS<sp/>selection<sp/>from<sp/>most<sp/>recent<sp/>ATS<sp/>Append<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a132236286ca6d51e66424e2b480b5517" kindref="member">AppendCmdArg</ref><sp/>=<sp/>AppendCmd-&gt;<ref refid="struct_s_c___append_ats_cmd__t_1a5f8d6acbb9c9449e9754b55a19d7bf3d" kindref="member">AtsId</ref>;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>copy<sp/>append<sp/>data<sp/>and<sp/>re-calc<sp/>timing<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__loads_8c_1a1b78fb5ea121dbd2bfbaa4b6cffcb1a4" kindref="member">SC_ProcessAppend</ref>(AtsIndex);</highlight></codeline>
<codeline lineno="800"><highlight class="normal"></highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>increment<sp/>command<sp/>success<sp/>counter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1ae9226772ddc48bb6bc3b18f0bcc21e1a" kindref="member">CmdCtr</ref>++;</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="sc__events_8h_1adefc48dbb4426fbdc3889fad3040b79e" kindref="member">SC_APPEND_CMD_INF_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Append<sp/>ATS<sp/>%c<sp/>command:<sp/>%d<sp/>ATS<sp/>entries<sp/>appended&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal"><sp/>+<sp/>AtsIndex,<sp/><ref refid="sc__app_8c_1a524a5cb62cde0dde845335517f34dd16" kindref="member">SC_AppData</ref>.<ref refid="struct_s_c___app_data__t_1a9b464bf4c3cea1519ca9cd4f5bd735e6" kindref="member">AppendEntryCount</ref>);</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="809"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>SC_AppendAtsCmd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"></highlight><highlight class="comment">/************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>End<sp/>of<sp/>File<sp/>Comment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"></highlight><highlight class="comment">/************************/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="apps/sc/fsw/src/sc_atsrq.c"/>
  </compounddef>
</doxygen>
