<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="fm__child_8c" kind="file" language="C++">
    <compoundname>fm_child.c</compoundname>
    <includes local="yes">cfe.h</includes>
    <includes refid="fm__msg_8h" local="yes">fm_msg.h</includes>
    <includes refid="fm__msgdefs_8h" local="yes">fm_msgdefs.h</includes>
    <includes refid="fm__msgids_8h" local="yes">fm_msgids.h</includes>
    <includes refid="fm__events_8h" local="yes">fm_events.h</includes>
    <includes refid="fm__app_8h" local="yes">fm_app.h</includes>
    <includes refid="fm__child_8h" local="yes">fm_child.h</includes>
    <includes refid="fm__cmds_8h" local="yes">fm_cmds.h</includes>
    <includes refid="fm__cmd__utils_8h" local="yes">fm_cmd_utils.h</includes>
    <includes refid="fm__perfids_8h" local="yes">fm_perfids.h</includes>
    <includes refid="fm__platform__cfg_8h" local="yes">fm_platform_cfg.h</includes>
    <includes refid="fm__verify_8h" local="yes">fm_verify.h</includes>
    <includes local="no">string.h</includes>
    <incdepgraph>
      <node id="556">
        <label>fm_events.h</label>
        <link refid="fm__events_8h"/>
      </node>
      <node id="541">
        <label>cfe_error.h</label>
        <link refid="cfe__error_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="532" relation="include">
        </childnode>
      </node>
      <node id="548">
        <label>ccsds.h</label>
        <link refid="ccsds_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="540" relation="include">
        </childnode>
      </node>
      <node id="533">
        <label>osapi-version.h</label>
        <link refid="osapi-version_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="550">
        <label>cfe_tbl.h</label>
        <link refid="cfe__tbl_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="545" relation="include">
        </childnode>
      </node>
      <node id="551">
        <label>fm_msg.h</label>
        <link refid="fm__msg_8h"/>
        <childnode refid="530" relation="include">
        </childnode>
        <childnode refid="552" relation="include">
        </childnode>
        <childnode refid="553" relation="include">
        </childnode>
      </node>
      <node id="545">
        <label>cfe_time.h</label>
        <link refid="cfe__time_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
      </node>
      <node id="534">
        <label>osapi-os-core.h</label>
        <link refid="osapi-os-core_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="535" relation="include">
        </childnode>
      </node>
      <node id="540">
        <label>cfe_mission_cfg.h</label>
        <link refid="cfe__mission__cfg_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="536">
        <label>osapi-os-filesys.h</label>
        <link refid="osapi-os-filesys_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="543">
        <label>cfe_es_perfids.h</label>
        <link refid="cfe__es__perfids_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="554">
        <label>fm_msgdefs.h</label>
        <link refid="fm__msgdefs_8h"/>
      </node>
      <node id="537">
        <label>osapi-os-net.h</label>
        <link refid="osapi-os-net_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="532">
        <label>osapi.h</label>
        <link refid="osapi_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="533" relation="include">
        </childnode>
        <childnode refid="534" relation="include">
        </childnode>
        <childnode refid="536" relation="include">
        </childnode>
        <childnode refid="537" relation="include">
        </childnode>
        <childnode refid="538" relation="include">
        </childnode>
        <childnode refid="539" relation="include">
        </childnode>
        <childnode refid="535" relation="include">
        </childnode>
      </node>
      <node id="563">
        <label>string.h</label>
      </node>
      <node id="557">
        <label>fm_app.h</label>
        <link refid="fm__app_8h"/>
        <childnode refid="530" relation="include">
        </childnode>
      </node>
      <node id="539">
        <label>osapi-os-timer.h</label>
        <link refid="osapi-os-timer_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="560">
        <label>fm_cmd_utils.h</label>
        <link refid="fm__cmd__utils_8h"/>
        <childnode refid="530" relation="include">
        </childnode>
      </node>
      <node id="559">
        <label>fm_cmds.h</label>
        <link refid="fm__cmds_8h"/>
        <childnode refid="530" relation="include">
        </childnode>
      </node>
      <node id="538">
        <label>osapi-os-loader.h</label>
        <link refid="osapi-os-loader_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="552">
        <label>fm_platform_cfg.h</label>
        <link refid="fm__platform__cfg_8h"/>
      </node>
      <node id="535">
        <label>osapi-os-rtm.h</label>
        <link refid="osapi-os-rtm_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="546">
        <label>cfe_evs_msg.h</label>
        <link refid="cfe__evs__msg_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="545" relation="include">
        </childnode>
        <childnode refid="532" relation="include">
        </childnode>
        <childnode refid="547" relation="include">
        </childnode>
        <childnode refid="542" relation="include">
        </childnode>
      </node>
      <node id="529">
        <label>apps/fm/fsw/src/fm_child.c</label>
        <link refid="fm_child.c"/>
        <childnode refid="530" relation="include">
        </childnode>
        <childnode refid="551" relation="include">
        </childnode>
        <childnode refid="554" relation="include">
        </childnode>
        <childnode refid="555" relation="include">
        </childnode>
        <childnode refid="556" relation="include">
        </childnode>
        <childnode refid="557" relation="include">
        </childnode>
        <childnode refid="558" relation="include">
        </childnode>
        <childnode refid="559" relation="include">
        </childnode>
        <childnode refid="560" relation="include">
        </childnode>
        <childnode refid="561" relation="include">
        </childnode>
        <childnode refid="552" relation="include">
        </childnode>
        <childnode refid="562" relation="include">
        </childnode>
        <childnode refid="563" relation="include">
        </childnode>
      </node>
      <node id="558">
        <label>fm_child.h</label>
        <link refid="fm__child_8h"/>
        <childnode refid="530" relation="include">
        </childnode>
        <childnode refid="551" relation="include">
        </childnode>
      </node>
      <node id="530">
        <label>cfe.h</label>
        <link refid="cfe_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="532" relation="include">
        </childnode>
        <childnode refid="540" relation="include">
        </childnode>
        <childnode refid="541" relation="include">
        </childnode>
        <childnode refid="542" relation="include">
        </childnode>
        <childnode refid="544" relation="include">
        </childnode>
        <childnode refid="549" relation="include">
        </childnode>
        <childnode refid="547" relation="include">
        </childnode>
        <childnode refid="545" relation="include">
        </childnode>
        <childnode refid="550" relation="include">
        </childnode>
      </node>
      <node id="547">
        <label>cfe_sb.h</label>
        <link refid="cfe__sb_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="540" relation="include">
        </childnode>
        <childnode refid="548" relation="include">
        </childnode>
        <childnode refid="545" relation="include">
        </childnode>
      </node>
      <node id="555">
        <label>fm_msgids.h</label>
        <link refid="fm__msgids_8h"/>
      </node>
      <node id="531">
        <label>common_types.h</label>
        <link refid="common__types_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
      </node>
      <node id="544">
        <label>cfe_evs.h</label>
        <link refid="cfe__evs_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="545" relation="include">
        </childnode>
        <childnode refid="546" relation="include">
        </childnode>
        <childnode refid="532" relation="include">
        </childnode>
        <childnode refid="547" relation="include">
        </childnode>
      </node>
      <node id="542">
        <label>cfe_es.h</label>
        <link refid="cfe__es_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="540" relation="include">
        </childnode>
        <childnode refid="543" relation="include">
        </childnode>
      </node>
      <node id="562">
        <label>fm_verify.h</label>
        <link refid="fm__verify_8h"/>
        <childnode refid="530" relation="include">
        </childnode>
        <childnode refid="552" relation="include">
        </childnode>
      </node>
      <node id="561">
        <label>fm_perfids.h</label>
        <link refid="fm__perfids_8h"/>
      </node>
      <node id="553">
        <label>fm_defs.h</label>
        <link refid="fm__defs_8h"/>
      </node>
      <node id="549">
        <label>cfe_fs.h</label>
        <link refid="cfe__fs_8h" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag"/>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="545" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" prot="public" static="no">
        <name>OS_DIRENTRY_NAME</name>
        <param><defname>x</defname></param>
        <initializer>((x).d_name)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="42" column="9" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="42" bodyend="-1"/>
        <referencedby refid="fm__child_8h_1a6ca53203cb0bd42a38f2e10c14e2b294" compoundref="fm__child_8c" startline="492" endline="636">FM_ChildDeleteAllCmd</referencedby>
        <referencedby refid="fm__child_8h_1a88d72fce98a917ff068ae8aad857af13" compoundref="fm__child_8c" startline="1074" endline="1148">FM_ChildDeleteDirCmd</referencedby>
        <referencedby refid="fm__child_8h_1aa0bc195d165713d7c107a09a55135d1a" compoundref="fm__child_8c" startline="1471" endline="1593">FM_ChildDirListFileLoop</referencedby>
        <referencedby refid="fm__child_8h_1a9eb81011943d9b7efd2817d9eff72e03" compoundref="fm__child_8c" startline="1222" endline="1346">FM_ChildDirListPktCmd</referencedby>
      </memberdef>
      <memberdef kind="define" id="fm__child_8c_1a2058f02f27ce53bd66f814fd0d891874" prot="public" static="no">
        <name>FM_QUEUE_SEM_NAME</name>
        <initializer>&quot;FM_QUEUE_SEM&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="46" column="9" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="46" bodyend="-1"/>
        <referencedby refid="fm__child_8h_1a3dd7c87e5bc7606add8e69323e0795f1" compoundref="fm__child_8c" startline="54" endline="101">FM_ChildInit</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="fm__child_8c_1a3dd7c87e5bc7606add8e69323e0795f1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref></type>
        <definition>int32 FM_ChildInit</definition>
        <argsstring>(void)</argsstring>
        <name>FM_ChildInit</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Child Task Initialization Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked during FM application startup initialization to create and initialize the FM Child Task. The purpose for the child task is to process FM application commands that take too long to execute within the main task.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">(none)</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="3" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para></para></entry></row>
<row>
<entry thead="no"><para>Error return codes from <ref refid="osapi_8c_1a078ac65c4cf2acda58fa915fbdb188f6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_CountSemCreate</ref>  </para></entry></row>
<row>
<entry thead="no"><para>Error return codes from <ref refid="cfe__es_8h_1a64768543df91e7856b4356fdc70ebe8c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_CreateChildTask</ref>  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="fm__app_8h_1a1d291a92a04c7fd196ac554c1d5c33b0" kindref="member">FM_AppInit</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="54" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="54" bodyend="101"/>
        <references refid="cfe__es__api_8c_1a64768543df91e7856b4356fdc70ebe8c">CFE_ES_CreateChildTask</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b">CFE_SUCCESS</references>
        <references refid="struct_f_m___global_data__t_1a252da43588c5ed504c3a9e4507162f31" compoundref="fm__msg_8h" startline="565">FM_GlobalData_t::ChildQueueCountSem</references>
        <references refid="struct_f_m___global_data__t_1a4c96d444916b205fb90555252551b1fc" compoundref="fm__msg_8h" startline="564">FM_GlobalData_t::ChildSemaphore</references>
        <references refid="struct_f_m___global_data__t_1ab1ac60c7deb5bef92cf454331634b398" compoundref="fm__msg_8h" startline="563">FM_GlobalData_t::ChildTaskID</references>
        <references refid="fm__events_8h_1ad4a61f37bfb39bca1513288828862d8a" compoundref="fm__events_8h" startline="1818">FM_CHILD_INIT_ERR_EID</references>
        <references refid="fm__platform__cfg_8h_1a166202caab5a1347da966db9e5708aa0" compoundref="fm__platform__cfg_8h" startline="349">FM_CHILD_SEM_NAME</references>
        <references refid="fm__platform__cfg_8h_1acf7bdce9fed1c9b5b28a9aeda58e8fbd" compoundref="fm__platform__cfg_8h" startline="37">FM_CHILD_TASK_FLAGS</references>
        <references refid="fm__platform__cfg_8h_1a1483497ee6c5c69e341cbad381134353" compoundref="fm__platform__cfg_8h" startline="296">FM_CHILD_TASK_NAME</references>
        <references refid="fm__platform__cfg_8h_1adff03cc829c9dafd69a3561cd2ab711a" compoundref="fm__platform__cfg_8h" startline="334">FM_CHILD_TASK_PRIORITY</references>
        <references refid="fm__platform__cfg_8h_1a3412d5f9f7c7846d492a0ae74697ec9d" compoundref="fm__platform__cfg_8h" startline="312">FM_CHILD_TASK_STACK_SIZE</references>
        <references refid="fm__child_8c_1ae1fcecb533fa5da32afa94345ad87d7f" compoundref="fm__child_8c" startline="110" endline="144">FM_ChildTask</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__child_8c_1a2058f02f27ce53bd66f814fd0d891874" compoundref="fm__child_8c" startline="46">FM_QUEUE_SEM_NAME</references>
        <references refid="osapi-os-core_8h_1a078ac65c4cf2acda58fa915fbdb188f6">OS_CountSemCreate</references>
        <references refid="osapi-os-core_8h_1a1cec40bf769e2db8614c1ef6d9906a8d">OS_MutSemCreate</references>
        <referencedby refid="fm__app_8h_1a1d291a92a04c7fd196ac554c1d5c33b0" compoundref="fm__app_8c" startline="153" endline="232">FM_AppInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1ae1fcecb533fa5da32afa94345ad87d7f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildTask</definition>
        <argsstring>(void)</argsstring>
        <name>FM_ChildTask</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Child Task Entry Point Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is the entry point for the FM application child task. The function registers with CFE as a child task, creates the semaphore to interface with the parent task and calls the child task main loop function. Should the main loop function return due to a breakdown in the interface handshake with the parent task, this function will self delete as a child task with CFE. There is no return from <ref refid="cfe__es_8h_1af17fa3dd427191492771b1ca929f45a2" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_DeleteChildTask</ref>.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">(none)</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="cfe__es_8h_1af17fa3dd427191492771b1ca929f45a2" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_DeleteChildTask</ref>, <ref refid="fm__child_8h_1a04b7cf4ab2461b64d56c0016401e5455" kindref="member">FM_ChildLoop</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="110" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="110" bodyend="144"/>
        <references refid="cfe__es__api_8c_1a263795095b7eda1070864d75add8d91a">CFE_ES_ExitChildTask</references>
        <references refid="cfe__es__api_8c_1a1e008c905bb89083293355b71ce4bc2d">CFE_ES_RegisterChildTask</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b">CFE_SUCCESS</references>
        <references refid="struct_f_m___global_data__t_1a4c96d444916b205fb90555252551b1fc" compoundref="fm__msg_8h" startline="564">FM_GlobalData_t::ChildSemaphore</references>
        <references refid="fm__events_8h_1a3a36c6ab37a533eb52dad9ecac3af376" compoundref="fm__events_8h" startline="1800">FM_CHILD_INIT_EID</references>
        <references refid="fm__events_8h_1ad4a61f37bfb39bca1513288828862d8a" compoundref="fm__events_8h" startline="1818">FM_CHILD_INIT_ERR_EID</references>
        <references refid="fm__defs_8h_1ac0a385f4717c2957e470a522d6dcd797" compoundref="fm__defs_8h" startline="36">FM_CHILD_SEM_INVALID</references>
        <references refid="fm__child_8c_1a04b7cf4ab2461b64d56c0016401e5455" compoundref="fm__child_8c" startline="153" endline="206">FM_ChildLoop</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <referencedby refid="fm__child_8h_1a3dd7c87e5bc7606add8e69323e0795f1" compoundref="fm__child_8c" startline="54" endline="101">FM_ChildInit</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a04b7cf4ab2461b64d56c0016401e5455" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildLoop</definition>
        <argsstring>(void)</argsstring>
        <name>FM_ChildLoop</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Child Task Main Loop Processor Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is the main loop for the FM application child task. The function waits indefinitely for the parent task to grant the handshake semaphore, which is the signal that there are fresh command arguments in the child task handshake queue. The function will remain in this loop until the child task is terminated by the CFE, or until a fatal error occurs which causes the child task to terminate itself. Fatal errors are defined as any error returned by <ref refid="osapi_8c_1a5823afb4723b533c182c8493e93078ea" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_CountSemTake</ref> or if the handshake queue is empty, or if the read index for the handshake queue is invalid.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">(none)</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, <ref refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" kindref="member">FM_ChildProcess</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="153" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="153" bodyend="206"/>
        <references refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625">CFE_ES_PerfLogEntry</references>
        <references refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4">CFE_ES_PerfLogExit</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__error_8h_1ab482895eae31f97bcb2aaaf4809cb945">CFE_OS_ERROR</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b">CFE_SUCCESS</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a145677a299584ed8f7661cf67980dce6" compoundref="fm__msg_8h" startline="573">FM_GlobalData_t::ChildQueueCount</references>
        <references refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" compoundref="fm__msg_8h" startline="572">FM_GlobalData_t::ChildReadIndex</references>
        <references refid="struct_f_m___global_data__t_1a4c96d444916b205fb90555252551b1fc" compoundref="fm__msg_8h" startline="564">FM_GlobalData_t::ChildSemaphore</references>
        <references refid="fm__platform__cfg_8h_1a5946b5cc35e5d43c6a3236b729305567" compoundref="fm__platform__cfg_8h" startline="282">FM_CHILD_QUEUE_DEPTH</references>
        <references refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" compoundref="fm__perfids_8h" startline="39">FM_CHILD_TASK_PERF_ID</references>
        <references refid="fm__events_8h_1a6a97cd04595479bfad3c01ecd23d4c46" compoundref="fm__events_8h" startline="1835">FM_CHILD_TERM_ERR_EID</references>
        <references refid="fm__child_8c_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="osapi-os-core_8h_1a5823afb4723b533c182c8493e93078ea">OS_CountSemTake</references>
        <referencedby refid="fm__child_8h_1ae1fcecb533fa5da32afa94345ad87d7f" compoundref="fm__child_8c" startline="110" endline="144">FM_ChildTask</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a3fc80ba42ab816e891167a85c640f9bf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildProcess</definition>
        <argsstring>(void)</argsstring>
        <name>FM_ChildProcess</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Child Task Command Queue Processor Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function routes control to the appropriate child task command handler. After the command handler has finished, this function then updates the queue access variables to point to the next queue entry.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">(none)</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, <ref refid="fm__child_8h_1ae1fcecb533fa5da32afa94345ad87d7f" kindref="member">FM_ChildTask</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="215" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="215" bodyend="304"/>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a843f6fbceda7b12674959b382409119d" compoundref="fm__msg_8h" startline="600">FM_GlobalData_t::ChildQueue</references>
        <references refid="struct_f_m___global_data__t_1a145677a299584ed8f7661cf67980dce6" compoundref="fm__msg_8h" startline="573">FM_GlobalData_t::ChildQueueCount</references>
        <references refid="struct_f_m___global_data__t_1a252da43588c5ed504c3a9e4507162f31" compoundref="fm__msg_8h" startline="565">FM_GlobalData_t::ChildQueueCountSem</references>
        <references refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" compoundref="fm__msg_8h" startline="572">FM_GlobalData_t::ChildReadIndex</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__events_8h_1a67cb706de0a5232fd7bad7ca6fad588c" compoundref="fm__events_8h" startline="1851">FM_CHILD_EXE_ERR_EID</references>
        <references refid="fm__platform__cfg_8h_1a5946b5cc35e5d43c6a3236b729305567" compoundref="fm__platform__cfg_8h" startline="282">FM_CHILD_QUEUE_DEPTH</references>
        <references refid="fm__child_8c_1a56e7773f1b8ab3fea6e3511edbbce859" compoundref="fm__child_8c" startline="690" endline="861">FM_ChildConcatCmd</references>
        <references refid="fm__child_8c_1ab443b52c6ce1682760dc98b74f675806" compoundref="fm__child_8c" startline="313" endline="349">FM_ChildCopyCmd</references>
        <references refid="fm__child_8c_1aeff2a44bc96d3197178b65c2a3d8968d" compoundref="fm__child_8c" startline="1031" endline="1065">FM_ChildCreateDirCmd</references>
        <references refid="fm__child_8c_1a3a3dad84b3d793f17ec51fbccbabb24a" compoundref="fm__child_8c" startline="645" endline="681">FM_ChildDecompressCmd</references>
        <references refid="fm__child_8c_1a6ca53203cb0bd42a38f2e10c14e2b294" compoundref="fm__child_8c" startline="492" endline="636">FM_ChildDeleteAllCmd</references>
        <references refid="fm__child_8c_1a5cf5d58bf0f535d5028d348888d93fc6" compoundref="fm__child_8c" startline="446" endline="483">FM_ChildDeleteCmd</references>
        <references refid="fm__child_8c_1a88d72fce98a917ff068ae8aad857af13" compoundref="fm__child_8c" startline="1074" endline="1148">FM_ChildDeleteDirCmd</references>
        <references refid="fm__child_8c_1af8674c8eb239138b4fc1b7bea8d857b8" compoundref="fm__child_8c" startline="1157" endline="1213">FM_ChildDirListFileCmd</references>
        <references refid="fm__child_8c_1a9eb81011943d9b7efd2817d9eff72e03" compoundref="fm__child_8c" startline="1222" endline="1346">FM_ChildDirListPktCmd</references>
        <references refid="fm__child_8c_1a02cd414b57bf1a531f26419fbdb0f941" compoundref="fm__child_8c" startline="870" endline="1022">FM_ChildFileInfoCmd</references>
        <references refid="fm__child_8c_1ab4328867626461a989a53c46556f29c9" compoundref="fm__child_8c" startline="358" endline="393">FM_ChildMoveCmd</references>
        <references refid="fm__child_8c_1a1189ef8aad610e70fe9d36d7a9f684a9" compoundref="fm__child_8c" startline="402" endline="437">FM_ChildRenameCmd</references>
        <references refid="fm__child_8c_1a4075be244ac10994f306259f9fbccd57" compoundref="fm__child_8c" startline="1354" endline="1381">FM_ChildSetPermissionsCmd</references>
        <references refid="fm__msgdefs_8h_1a88bd1dbfcda3821055d9e7640fb4eb7a" compoundref="fm__msgdefs_8h" startline="453">FM_CONCAT_CC</references>
        <references refid="fm__msgdefs_8h_1a13c7bb50072bef1eb88376a9cc294526" compoundref="fm__msgdefs_8h" startline="159">FM_COPY_CC</references>
        <references refid="fm__msgdefs_8h_1ada86146b2a3c857cd48947545294b6f2" compoundref="fm__msgdefs_8h" startline="569">FM_CREATE_DIR_CC</references>
        <references refid="fm__msgdefs_8h_1a4f9b7dc7f6d4f2b9d887b412d8d5419c" compoundref="fm__msgdefs_8h" startline="401">FM_DECOMPRESS_CC</references>
        <references refid="fm__msgdefs_8h_1a0ced7949ac26982a8b3839a79d2df727" compoundref="fm__msgdefs_8h" startline="353">FM_DELETE_ALL_CC</references>
        <references refid="fm__msgdefs_8h_1aaad7efb631674edce885b94330ed6310" compoundref="fm__msgdefs_8h" startline="295">FM_DELETE_CC</references>
        <references refid="fm__msgdefs_8h_1a51e23a4d8cf42841743a01686eb97b85" compoundref="fm__msgdefs_8h" startline="608">FM_DELETE_DIR_CC</references>
        <references refid="fm__msgdefs_8h_1a4b9711a4ca14deedc4f3abce2162764c" compoundref="fm__msgdefs_8h" startline="810">FM_DELETE_INT_CC</references>
        <references refid="fm__msgdefs_8h_1ae4525ebab17346a1340824e97e00d5f1" compoundref="fm__msgdefs_8h" startline="662">FM_GET_DIR_FILE_CC</references>
        <references refid="fm__msgdefs_8h_1a0c70b01f18aefa087fba4372be96261b" compoundref="fm__msgdefs_8h" startline="726">FM_GET_DIR_PKT_CC</references>
        <references refid="fm__msgdefs_8h_1ab76c0b00331550b02c42bd7d2166d32c" compoundref="fm__msgdefs_8h" startline="502">FM_GET_FILE_INFO_CC</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__msgdefs_8h_1a3b861d8e0f17cd3ee7f8fd6b11ebbb04" compoundref="fm__msgdefs_8h" startline="211">FM_MOVE_CC</references>
        <references refid="fm__msgdefs_8h_1a31217b5303b3c219d6f0b82af5df3a57" compoundref="fm__msgdefs_8h" startline="257">FM_RENAME_CC</references>
        <references refid="fm__msgdefs_8h_1adfda056d4436f4f55f40be106fd4bc87" compoundref="fm__msgdefs_8h" startline="857">FM_SET_FILE_PERM_CC</references>
        <references refid="osapi-os-core_8h_1a48964b6567f9ceda86a51ebc02fb88c5">OS_MutSemGive</references>
        <references refid="osapi-os-core_8h_1a77239ad1acd87f235cdc45142cc0d39f">OS_MutSemTake</references>
        <referencedby refid="fm__child_8h_1a04b7cf4ab2461b64d56c0016401e5455" compoundref="fm__child_8c" startline="153" endline="206">FM_ChildLoop</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1ab443b52c6ce1682760dc98b74f675806" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildCopyCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildCopyCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Copy File Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a copy file command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_Copy, <ref refid="struct_f_m___copy_file_cmd__t" kindref="compound">FM_CopyFileCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="313" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="313" bodyend="349"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__events_8h_1a61936ebdd90baf4aa685b6f27b94b71b" compoundref="fm__events_8h" startline="313">FM_COPY_CMD_EID</references>
        <references refid="fm__events_8h_1afd7b1f56eabbcf2543eda9adcb571d87" compoundref="fm__events_8h" startline="419">FM_COPY_OS_ERR_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="osapi-os-filesys_8h_1a61ccbf4b4b770fe470765cd10ad9706d">OS_cp</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" compoundref="fm__msg_8h" startline="541">FM_ChildQueueEntry_t::Target</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1ab4328867626461a989a53c46556f29c9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildMoveCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildMoveCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Move File Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a move file command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_Move, <ref refid="struct_f_m___move_file_cmd__t" kindref="compound">FM_MoveFileCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="358" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="358" bodyend="393"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__events_8h_1a4a5e6a8fdbceda128c09f356509722a6" compoundref="fm__events_8h" startline="432">FM_MOVE_CMD_EID</references>
        <references refid="fm__events_8h_1a8167fd4722f3a915559ccacae82cc659" compoundref="fm__events_8h" startline="538">FM_MOVE_OS_ERR_EID</references>
        <references refid="osapi-os-filesys_8h_1a13e9c66fca3b72651bc00304e89cc54b">OS_mv</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" compoundref="fm__msg_8h" startline="541">FM_ChildQueueEntry_t::Target</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a1189ef8aad610e70fe9d36d7a9f684a9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildRenameCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildRenameCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Rename File Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a rename file command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_Rename, <ref refid="struct_f_m___rename_file_cmd__t" kindref="compound">FM_RenameFileCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="402" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="402" bodyend="437"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__events_8h_1a769cf8e730c1e1bbcbc330819db1fdec" compoundref="fm__events_8h" startline="551">FM_RENAME_CMD_EID</references>
        <references refid="fm__events_8h_1a5b8f714271a3b934a9c7c29829d7d71a" compoundref="fm__events_8h" startline="643">FM_RENAME_OS_ERR_EID</references>
        <references refid="osapi-os-filesys_8h_1a2b7e1718909ff6a95d2c0b7bd21b41ed">OS_rename</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" compoundref="fm__msg_8h" startline="541">FM_ChildQueueEntry_t::Target</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a5cf5d58bf0f535d5028d348888d93fc6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildDeleteCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildDeleteCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Delete File Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a delete file command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_Delete, <ref refid="struct_f_m___delete_file_cmd__t" kindref="compound">FM_DeleteFileCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="446" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="446" bodyend="483"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__events_8h_1ad8a6fb70c65523b86f3015b2546685fb" compoundref="fm__events_8h" startline="656">FM_DELETE_CMD_EID</references>
        <references refid="fm__msgdefs_8h_1a4b9711a4ca14deedc4f3abce2162764c" compoundref="fm__msgdefs_8h" startline="810">FM_DELETE_INT_CC</references>
        <references refid="fm__events_8h_1a696b8ee5cefa4508cb0562a17182d7fc" compoundref="fm__events_8h" startline="732">FM_DELETE_OS_ERR_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="osapi-os-filesys_8h_1a2ee7caab771e650d41302ca5b1ab5d5c">OS_remove</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a6ca53203cb0bd42a38f2e10c14e2b294" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildDeleteAllCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildDeleteAllCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Delete All Files Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a delete all files from a directory command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_DeleteAll, <ref refid="struct_f_m___delete_all_cmd__t" kindref="compound">FM_DeleteAllCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="492" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="492" bodyend="636"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" compoundref="fm__msg_8h" startline="569">FM_GlobalData_t::ChildCmdWarnCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="fm__events_8h_1aa406615f534d5d655b30e2443d3a6e2e" compoundref="fm__events_8h" startline="750">FM_DELETE_ALL_CMD_EID</references>
        <references refid="fm__events_8h_1ad8ac4b872fb009db2a192e41b9413306" compoundref="fm__events_8h" startline="848">FM_DELETE_ALL_OS_ERR_EID</references>
        <references refid="fm__events_8h_1a1c0c088f32c0f42efe4b416b53d9c3af" compoundref="fm__events_8h" startline="770">FM_DELETE_ALL_WARNING_EID</references>
        <references refid="fm__cmd__utils_8c_1afe8ea141831a4e9ff8c09dd79236321e" compoundref="fm__cmd__utils_8c" startline="136" endline="230">FM_GetFilenameState</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__defs_8h_1a5d38d9d67fee9f8d622b4b551e5b590f" compoundref="fm__defs_8h" startline="68">FM_NAME_IS_DIRECTORY</references>
        <references refid="fm__defs_8h_1a2304a68959eb31b48738bace641a592c" compoundref="fm__defs_8h" startline="67">FM_NAME_IS_FILE_CLOSED</references>
        <references refid="fm__defs_8h_1a79468f39f089172833ed4610f230bccd" compoundref="fm__defs_8h" startline="66">FM_NAME_IS_FILE_OPEN</references>
        <references refid="fm__defs_8h_1a10834035fd7cd08a222187e03aa26bb6" compoundref="fm__defs_8h" startline="64">FM_NAME_IS_INVALID</references>
        <references refid="fm__defs_8h_1aa79f45a73628796a1ab1fa6cec523b60" compoundref="fm__defs_8h" startline="65">FM_NAME_IS_NOT_IN_USE</references>
        <references refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" compoundref="fm__defs_8h" startline="55">FM_PARENT_DIRECTORY</references>
        <references refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" compoundref="fm__defs_8h" startline="54">FM_THIS_DIRECTORY</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92">OS_closedir</references>
        <references refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" compoundref="fm__child_8c" startline="42">OS_DIRENTRY_NAME</references>
        <references refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f">OS_opendir</references>
        <references refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63">OS_readdir</references>
        <references refid="osapi-os-filesys_8h_1a2ee7caab771e650d41302ca5b1ab5d5c">OS_remove</references>
        <references refid="osapi-os-filesys_8h_1aa0beb91f47463f63aae201b887be4dc0">OS_rewinddir</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" compoundref="fm__msg_8h" startline="540">FM_ChildQueueEntry_t::Source2</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a3a3dad84b3d793f17ec51fbccbabb24a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildDecompressCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildDecompressCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Decompress File Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a decompress file command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_Decompress, <ref refid="struct_f_m___decompress_cmd__t" kindref="compound">FM_DecompressCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="645" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="645" bodyend="681"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__fs__decompress_8c_1a2d9160967617e454ed049a0b6c202ae8">CFE_FS_Decompress</references>
        <references refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b">CFE_SUCCESS</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__events_8h_1ab728d1305f7bd285a4fdb6f5a8128f6d" compoundref="fm__events_8h" startline="957">FM_DECOM_CFE_ERR_EID</references>
        <references refid="fm__events_8h_1a7cab09d166baec6395c38224cb7b4e9e" compoundref="fm__events_8h" startline="866">FM_DECOM_CMD_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" compoundref="fm__msg_8h" startline="541">FM_ChildQueueEntry_t::Target</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a56e7773f1b8ab3fea6e3511edbbce859" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildConcatCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildConcatCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Concatenate Files Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a concatenate files command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_Concat, <ref refid="struct_f_m___concat_cmd__t" kindref="compound">FM_ConcatCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="690" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="690" bodyend="861"/>
        <references refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625">CFE_ES_PerfLogEntry</references>
        <references refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4">CFE_ES_PerfLogExit</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1aad1e50b4015ed83fbd4fa9fcffc23b98" compoundref="fm__msg_8h" startline="598">FM_GlobalData_t::ChildBuffer</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="fm__platform__cfg_8h_1ae41510cbe8ec5f58635ff6510faadd63" compoundref="fm__platform__cfg_8h" startline="227">FM_CHILD_FILE_BLOCK_SIZE</references>
        <references refid="fm__platform__cfg_8h_1af1428dea27332a7d934fa984a9ad2421" compoundref="fm__platform__cfg_8h" startline="228">FM_CHILD_FILE_LOOP_COUNT</references>
        <references refid="fm__platform__cfg_8h_1ac0d6c709f86f04a72da408ca551daaf4" compoundref="fm__platform__cfg_8h" startline="229">FM_CHILD_FILE_SLEEP_MS</references>
        <references refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" compoundref="fm__perfids_8h" startline="39">FM_CHILD_TASK_PERF_ID</references>
        <references refid="fm__events_8h_1a717355caf97174153b7f332ead52465a" compoundref="fm__events_8h" startline="975">FM_CONCAT_CMD_EID</references>
        <references refid="fm__events_8h_1af88e259b5e2db1eaadf4a298a14868f1" compoundref="fm__events_8h" startline="1086">FM_CONCAT_OS_ERR_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6">OS_close</references>
        <references refid="osapi-os-filesys_8h_1a61ccbf4b4b770fe470765cd10ad9706d">OS_cp</references>
        <references refid="osapi-os-filesys_8h_1a0b68c81a6ebf54f71e09b402874fbe9f">OS_lseek</references>
        <references refid="osapi-os-filesys_8h_1a32b00c0a65370a5dd7fde6157a249980">OS_open</references>
        <references refid="osapi-os-filesys_8h_1a43dace419af92095b82f0b788ffb31f9">OS_read</references>
        <references refid="osapi-os-filesys_8h_1a9d92578f2d09bd724bc5bbc6c78fc84c">OS_READ_ONLY</references>
        <references refid="osapi-os-filesys_8h_1a2788e8d8f495bac9f6933fffbf9f2b93">OS_READ_WRITE</references>
        <references refid="osapi-os-filesys_8h_1a2ee7caab771e650d41302ca5b1ab5d5c">OS_remove</references>
        <references refid="osapi-os-filesys_8h_1aa32664bb78a844908f95c7ca369309be">OS_SEEK_END</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="osapi-os-core_8h_1a8f78bce95227e4e99fe6f0378835260e">OS_TaskDelay</references>
        <references refid="osapi-os-filesys_8h_1aa4cff610350a94b341e81af75941aecd">OS_write</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" compoundref="fm__msg_8h" startline="540">FM_ChildQueueEntry_t::Source2</references>
        <references refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" compoundref="fm__msg_8h" startline="541">FM_ChildQueueEntry_t::Target</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a02cd414b57bf1a531f26419fbdb0f941" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildFileInfoCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildFileInfoCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Get File Info Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a get file info command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_GetFileInfo, <ref refid="struct_f_m___get_file_info_cmd__t" kindref="compound">FM_GetFileInfoCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="870" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="870" bodyend="1022"/>
        <references refid="cfe__es__api_8c_1ae9f5d3540d243c9f57ea73658c758c91">CFE_ES_CalculateCRC</references>
        <references refid="cfe__mission__cfg_8h_1aefbb9d92cd44551b03db17d5899ef231">CFE_ES_CRC_16</references>
        <references refid="cfe__mission__cfg_8h_1a9fb84dadb2922dbcc08fbe4423510e75">CFE_ES_CRC_32</references>
        <references refid="cfe__mission__cfg_8h_1a7307e5911f60929cd3e0168fc588f3ba">CFE_ES_CRC_8</references>
        <references refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625">CFE_ES_PerfLogEntry</references>
        <references refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4">CFE_ES_PerfLogExit</references>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__sb_8h_1a67765875dfff1d3d6d7cbc4a7ae2f8f0">CFE_SB_InitMsg</references>
        <references refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d">CFE_SB_SendMsg</references>
        <references refid="cfe__sb_8h_1aaab4db240d18fa4017741f0f7680e4e1">CFE_SB_TimeStampMsg</references>
        <references refid="struct_f_m___global_data__t_1aad1e50b4015ed83fbd4fa9fcffc23b98" compoundref="fm__msg_8h" startline="598">FM_GlobalData_t::ChildBuffer</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" compoundref="fm__msg_8h" startline="569">FM_GlobalData_t::ChildCmdWarnCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="struct_f_m___file_info_pkt__t_1aacc3d6d448c7661a8ed15297092a0fe2" compoundref="fm__msg_8h" startline="376">FM_FileInfoPkt_t::CRC</references>
        <references refid="struct_f_m___file_info_pkt__t_1ae876fb6929aa671e0ea28ef3287f96f1" compoundref="fm__msg_8h" startline="372">FM_FileInfoPkt_t::CRC_Computed</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" compoundref="fm__msg_8h" startline="538">FM_ChildQueueEntry_t::FileInfoCRC</references>
        <references refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" compoundref="fm__msg_8h" startline="592">FM_GlobalData_t::FileInfoPkt</references>
        <references refid="struct_f_m___child_queue_entry__t_1a261709a0524b1483098e330071fc0282" compoundref="fm__msg_8h" startline="536">FM_ChildQueueEntry_t::FileInfoSize</references>
        <references refid="struct_f_m___child_queue_entry__t_1a43574f0288c5ccd390ac3ea0ec98423b" compoundref="fm__msg_8h" startline="535">FM_ChildQueueEntry_t::FileInfoState</references>
        <references refid="struct_f_m___child_queue_entry__t_1a67fc0f589b2ca3aea5acda08ac513a72" compoundref="fm__msg_8h" startline="537">FM_ChildQueueEntry_t::FileInfoTime</references>
        <references refid="struct_f_m___file_info_pkt__t_1ac536da4de434341d63cd6d8260f9247e" compoundref="fm__msg_8h" startline="385">FM_FileInfoPkt_t::Filename</references>
        <references refid="struct_f_m___file_info_pkt__t_1a0eb2fb1848e16f5479b3e24ca33e4ae5" compoundref="fm__msg_8h" startline="378">FM_FileInfoPkt_t::FileSize</references>
        <references refid="struct_f_m___file_info_pkt__t_1a06265b37f21c3c7a43a6872c1c1b57cb" compoundref="fm__msg_8h" startline="370">FM_FileInfoPkt_t::FileStatus</references>
        <references refid="fm__platform__cfg_8h_1ae41510cbe8ec5f58635ff6510faadd63" compoundref="fm__platform__cfg_8h" startline="227">FM_CHILD_FILE_BLOCK_SIZE</references>
        <references refid="fm__platform__cfg_8h_1af1428dea27332a7d934fa984a9ad2421" compoundref="fm__platform__cfg_8h" startline="228">FM_CHILD_FILE_LOOP_COUNT</references>
        <references refid="fm__platform__cfg_8h_1ac0d6c709f86f04a72da408ca551daaf4" compoundref="fm__platform__cfg_8h" startline="229">FM_CHILD_FILE_SLEEP_MS</references>
        <references refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" compoundref="fm__perfids_8h" startline="39">FM_CHILD_TASK_PERF_ID</references>
        <references refid="fm__msgids_8h_1a15d63179bd9a49bcb71ff87239f095f2" compoundref="fm__msgids_8h" startline="42">FM_FILE_INFO_TLM_MID</references>
        <references refid="fm__events_8h_1a439196cca44f092b17a9679cf091a792" compoundref="fm__events_8h" startline="1107">FM_GET_FILE_INFO_CMD_EID</references>
        <references refid="fm__events_8h_1acae0f8206969b93071746127af66f2db" compoundref="fm__events_8h" startline="1183">FM_GET_FILE_INFO_WARNING_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__defs_8h_1a11cb3115f4e6fdb685ea98c65a470854" compoundref="fm__defs_8h" startline="45">FM_IGNORE_CRC</references>
        <references refid="fm__defs_8h_1a2304a68959eb31b48738bace641a592c" compoundref="fm__defs_8h" startline="67">FM_NAME_IS_FILE_CLOSED</references>
        <references refid="struct_f_m___file_info_pkt__t_1ad105064ddcb99d1ce3f9456f7e7bd72c" compoundref="fm__msg_8h" startline="380">FM_FileInfoPkt_t::LastModifiedTime</references>
        <references refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6">OS_close</references>
        <references refid="osapi-os-filesys_8h_1a32b00c0a65370a5dd7fde6157a249980">OS_open</references>
        <references refid="osapi-os-filesys_8h_1a43dace419af92095b82f0b788ffb31f9">OS_read</references>
        <references refid="osapi-os-filesys_8h_1a9d92578f2d09bd724bc5bbc6c78fc84c">OS_READ_ONLY</references>
        <references refid="osapi-os-core_8h_1a8f78bce95227e4e99fe6f0378835260e">OS_TaskDelay</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1aeff2a44bc96d3197178b65c2a3d8968d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildCreateDirCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildCreateDirCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Create Directory Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a create directory command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_CreateDir, <ref refid="struct_f_m___create_dir_cmd__t" kindref="compound">FM_CreateDirCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1031" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1031" bodyend="1065"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__events_8h_1a5ce09eb7d68da904fdc6ca4b69c113b0" compoundref="fm__events_8h" startline="1225">FM_CREATE_DIR_CMD_EID</references>
        <references refid="fm__events_8h_1ae281de89683ac6faf9e4c56cffdf6099" compoundref="fm__events_8h" startline="1298">FM_CREATE_DIR_OS_ERR_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="osapi-os-filesys_8h_1a7b0c66b65e536179a6ff655671490cf6">OS_mkdir</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a88d72fce98a917ff068ae8aad857af13" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildDeleteDirCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildDeleteDirCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Delete Directory Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a delete directory command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_DeleteDir, <ref refid="struct_f_m___delete_dir_cmd__t" kindref="compound">FM_DeleteDirCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1074" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1074" bodyend="1148"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="fm__events_8h_1ae4fe0b934b9949c4693b72ad96490ddf" compoundref="fm__events_8h" startline="1311">FM_DELETE_DIR_CMD_EID</references>
        <references refid="fm__events_8h_1a714c9f64c8d55f7be5427a53bce8bf9a" compoundref="fm__events_8h" startline="1379">FM_DELETE_DIR_EMPTY_ERR_EID</references>
        <references refid="fm__events_8h_1afdcc3ca4ab3218fa2fadda6563c7033e" compoundref="fm__events_8h" startline="1401">FM_DELETE_DIR_OS_ERR_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" compoundref="fm__defs_8h" startline="55">FM_PARENT_DIRECTORY</references>
        <references refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" compoundref="fm__defs_8h" startline="54">FM_THIS_DIRECTORY</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92">OS_closedir</references>
        <references refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" compoundref="fm__child_8c" startline="42">OS_DIRENTRY_NAME</references>
        <references refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f">OS_opendir</references>
        <references refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63">OS_readdir</references>
        <references refid="osapi-os-filesys_8h_1aa769d1593b6193a5ace2fdf73449726e">OS_rmdir</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1af8674c8eb239138b4fc1b7bea8d857b8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildDirListFileCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildDirListFileCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Get Dir List to File Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a get directory listing to a file command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_GetDirFile, <ref refid="struct_f_m___get_dir_file_cmd__t" kindref="compound">FM_GetDirFileCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1157" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1157" bodyend="1213"/>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="fm__child_8c_1a37da339a9867e1cb45d831c81d4a0a0a" compoundref="fm__child_8c" startline="1389" endline="1462">FM_ChildDirListFileInit</references>
        <references refid="fm__child_8c_1af357d80f88bcbf029ae0ef0e87dc3532" compoundref="fm__child_8c" startline="1471" endline="1593">FM_ChildDirListFileLoop</references>
        <references refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" compoundref="fm__events_8h" startline="1542">FM_GET_DIR_FILE_OS_ERR_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="struct_f_m___child_queue_entry__t_1a9f87c57ce25f4da9ae5118c1d48ff447" compoundref="fm__msg_8h" startline="542">FM_ChildQueueEntry_t::GetSizeTimeMode</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6">OS_close</references>
        <references refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92">OS_closedir</references>
        <references refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f">OS_opendir</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" compoundref="fm__msg_8h" startline="540">FM_ChildQueueEntry_t::Source2</references>
        <references refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" compoundref="fm__msg_8h" startline="541">FM_ChildQueueEntry_t::Target</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a9eb81011943d9b7efd2817d9eff72e03" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildDirListPktCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildDirListPktCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Get Dir List to Packet Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a get directory listing to a packet command.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, #FM_GetDirPkt, <ref refid="struct_f_m___get_dir_pkt_cmd__t" kindref="compound">FM_GetDirPktCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1222" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1222" bodyend="1346"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__sb_8h_1a67765875dfff1d3d6d7cbc4a7ae2f8f0">CFE_SB_InitMsg</references>
        <references refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d">CFE_SB_SendMsg</references>
        <references refid="cfe__sb_8h_1aaab4db240d18fa4017741f0f7680e4e1">CFE_SB_TimeStampMsg</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" compoundref="fm__msg_8h" startline="569">FM_GlobalData_t::ChildCmdWarnCounter</references>
        <references refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" compoundref="fm__msg_8h" startline="579">FM_GlobalData_t::ChildCurrentCC</references>
        <references refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" compoundref="fm__msg_8h" startline="580">FM_GlobalData_t::ChildPreviousCC</references>
        <references refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" compoundref="fm__msg_8h" startline="533">FM_ChildQueueEntry_t::CommandCode</references>
        <references refid="struct_f_m___child_queue_entry__t_1a24772d4fcca2e475028e4ca6c9f32772" compoundref="fm__msg_8h" startline="534">FM_ChildQueueEntry_t::DirListOffset</references>
        <references refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" compoundref="fm__msg_8h" startline="588">FM_GlobalData_t::DirListPkt</references>
        <references refid="struct_f_m___dir_list_pkt__t_1a257df7548e089d59f310f3d7df3f525b" compoundref="fm__msg_8h" startline="326">FM_DirListPkt_t::DirName</references>
        <references refid="struct_f_m___dir_list_entry__t_1a46f50fa5eef0f02cb914d8f571010c9e" compoundref="fm__msg_8h" startline="309">FM_DirListEntry_t::EntryName</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="struct_f_m___dir_list_pkt__t_1a4226d73a64f77ecd0ca701b023eca345" compoundref="fm__msg_8h" startline="334">FM_DirListPkt_t::FileList</references>
        <references refid="struct_f_m___dir_list_pkt__t_1a2e59494f9ce58d6af81ace2752c7426d" compoundref="fm__msg_8h" startline="332">FM_DirListPkt_t::FirstFile</references>
        <references refid="fm__platform__cfg_8h_1ace83585f0302db2c752f269a07bb7df0" compoundref="fm__platform__cfg_8h" startline="264">FM_CHILD_STAT_SLEEP_FILECOUNT</references>
        <references refid="fm__child_8c_1a50ccf8c801c6fbdce2a63f765785a210" compoundref="fm__child_8c" startline="1641" endline="1667">FM_ChildSleepStat</references>
        <references refid="fm__platform__cfg_8h_1ab89d57a7bce1efbbf4b2bdb0884dfda0" compoundref="fm__platform__cfg_8h" startline="179">FM_DIR_LIST_PKT_ENTRIES</references>
        <references refid="fm__msgids_8h_1ad562246df6fcd9b37b29136cbc8030f8" compoundref="fm__msgids_8h" startline="43">FM_DIR_LIST_TLM_MID</references>
        <references refid="fm__events_8h_1aa3a76cb27baacb14c4b39ddb3e6b519d" compoundref="fm__events_8h" startline="1563">FM_GET_DIR_PKT_CMD_EID</references>
        <references refid="fm__events_8h_1a822606d2445d0f9059c6e3ee1147a21f" compoundref="fm__events_8h" startline="1651">FM_GET_DIR_PKT_OS_ERR_EID</references>
        <references refid="fm__events_8h_1a2d6822b74cba795363bf98b4b9a78650" compoundref="fm__events_8h" startline="1579">FM_GET_DIR_PKT_WARNING_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" compoundref="fm__defs_8h" startline="55">FM_PARENT_DIRECTORY</references>
        <references refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" compoundref="fm__defs_8h" startline="54">FM_THIS_DIRECTORY</references>
        <references refid="struct_f_m___child_queue_entry__t_1a9f87c57ce25f4da9ae5118c1d48ff447" compoundref="fm__msg_8h" startline="542">FM_ChildQueueEntry_t::GetSizeTimeMode</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92">OS_closedir</references>
        <references refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" compoundref="fm__child_8c" startline="42">OS_DIRENTRY_NAME</references>
        <references refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f">OS_opendir</references>
        <references refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63">OS_readdir</references>
        <references refid="struct_f_m___dir_list_pkt__t_1ad6f7a56cb9f91964e6631ee1c0b8c616" compoundref="fm__msg_8h" startline="330">FM_DirListPkt_t::PacketFiles</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <references refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" compoundref="fm__msg_8h" startline="540">FM_ChildQueueEntry_t::Source2</references>
        <references refid="struct_f_m___dir_list_pkt__t_1aefa9a21fa2bc5eac53d7964cb3cfd31b" compoundref="fm__msg_8h" startline="328">FM_DirListPkt_t::TotalFiles</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a4075be244ac10994f306259f9fbccd57" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildSetPermissionsCmd</definition>
        <argsstring>(FM_ChildQueueEntry_t *CmdArgs)</argsstring>
        <name>FM_ChildSetPermissionsCmd</name>
        <param>
          <type><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref> *</type>
          <declname>CmdArgs</declname>
        </param>
        <briefdescription>
<para>Child Task Set Permissions Command Handler. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked when the FM child task has been granted the child task handshake semaphore and the child task command queue contains arguments that signal a set permissions / mode on the source1 file or directory</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">CmdArgsPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to an entry in the child task handshake command queue which contains the arguments necessary to process this command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref>, <ref refid="struct_f_m___set_perm_cmd__t" kindref="compound">FM_SetPermCmd_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1354" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1354" bodyend="1381"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__events_8h_1abdb4792a8f523393ff983cd1415ab9a7" compoundref="fm__events_8h" startline="1899">FM_SET_PERM_CMD_EID</references>
        <references refid="fm__events_8h_1a9ff454962e31f7acf84eb2594fa225a1" compoundref="fm__events_8h" startline="1911">FM_SET_PERM_OS_ERR_EID</references>
        <references refid="struct_f_m___child_queue_entry__t_1a8d610b7a7b3e079c2ade72401a100593" compoundref="fm__msg_8h" startline="543">FM_ChildQueueEntry_t::Mode</references>
        <references refid="osapi-os-filesys_8h_1aef31b0db7ad2f42c096c4e0db9152911">OS_chmod</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" compoundref="fm__msg_8h" startline="539">FM_ChildQueueEntry_t::Source1</references>
        <referencedby refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" compoundref="fm__child_8c" startline="215" endline="304">FM_ChildProcess</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a37da339a9867e1cb45d831c81d4a0a0a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1ac3ecf6d00ebd3dd79ea00efdc71d9c33" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">boolean</ref></type>
        <definition>boolean FM_ChildDirListFileInit</definition>
        <argsstring>(int32 *FileHandlePtr, char *Directory, char *Filename)</argsstring>
        <name>FM_ChildDirListFileInit</name>
        <param>
          <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref> *</type>
          <declname>FileHandlePtr</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>Directory</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>Filename</declname>
        </param>
        <briefdescription>
<para>Child Task Get Dir List to File Initialization Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function creates the output file and then writes both the CFE file header and a blank copy of the directory list statistics structure to the output file. At the end of the command, software will re-write the statistics structure, this time with up to date values.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="out">FileHandlePtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to a file handle variable which is modified to contain the newly created output file handle. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">Directory</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to a buffer containing the directory name. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">Filename</parametername>
</parameternamelist>
<parameterdescription>
<para>- A pointer to a buffer containing the output filename.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="4" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para></para></entry></row>
<row>
<entry thead="no"><para>Error return codes from <ref refid="osfileapi_8c_1a9e28b3226a066b1ea186650ed36b9b81" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_creat</ref>  </para></entry></row>
<row>
<entry thead="no"><para>Error return codes from <ref refid="cfe__fs_8h_1a7f0315f283029e5ec7ade9fdfd38875d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_WriteHeader</ref>  </para></entry></row>
<row>
<entry thead="no"><para>Error return codes from <ref refid="osfileapi_8c_1aa4cff610350a94b341e81af75941aecd" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_write</ref>  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para>#FM_GetDirFile </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1389" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1389" bodyend="1462"/>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="cfe__fs__api_8c_1a7f0315f283029e5ec7ade9fdfd38875d">CFE_FS_WriteHeader</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_c_f_e___f_s___header__t_1adc2b15b18f9bfcbee4aa3c8d9100163b">CFE_FS_Header_t::Description</references>
        <references refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" compoundref="fm__msg_8h" startline="586">FM_GlobalData_t::DirListFileStats</references>
        <references refid="struct_f_m___dir_list_file_stats__t_1a983f17b43cef6579ba60405df49c55fe" compoundref="fm__msg_8h" startline="350">FM_DirListFileStats_t::DirName</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="fm__platform__cfg_8h_1a4824237f0ee2c1bf26065322180f0450" compoundref="fm__platform__cfg_8h" startline="154">FM_DIR_LIST_FILE_SUBTYPE</references>
        <references refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" compoundref="fm__events_8h" startline="1542">FM_GET_DIR_FILE_OS_ERR_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6">OS_close</references>
        <references refid="osapi-os-filesys_8h_1a9e28b3226a066b1ea186650ed36b9b81">OS_creat</references>
        <references refid="osapi-os-filesys_8h_1a2788e8d8f495bac9f6933fffbf9f2b93">OS_READ_WRITE</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <references refid="osapi-os-filesys_8h_1aa4cff610350a94b341e81af75941aecd">OS_write</references>
        <references refid="struct_c_f_e___f_s___header__t_1ac1b5794c41f04cd1eee346f033f44e3a">CFE_FS_Header_t::SubType</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1af8674c8eb239138b4fc1b7bea8d857b8" compoundref="fm__child_8c" startline="1157" endline="1213">FM_ChildDirListFileCmd</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1af357d80f88bcbf029ae0ef0e87dc3532" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildDirListFileLoop</definition>
        <argsstring>(os_dirp_t DirPtr, int32 FileHandle, char *Directory, char *DirWithSep, char *Filename, uint8 getSizeTimeMode)</argsstring>
        <name>FM_ChildDirListFileLoop</name>
        <param>
          <type><ref refid="osapi-os-filesys_8h_1a2352c3c6c5ad0819aa5a633da30b84d1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirp_t</ref></type>
          <declname>DirPtr</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref></type>
          <declname>FileHandle</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>Directory</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>DirWithSep</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>Filename</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint8</ref></type>
          <declname>GetSizeTimeMode</declname>
          <defname>getSizeTimeMode</defname>
        </param>
        <briefdescription>
<para>Child Task Get Dir List to File Loop Processor Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function reads each directory entry, determines the last modify time size and mode for each entry, and writes the entry data to the output file.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">DirPtr</parametername>
</parameternamelist>
<parameterdescription>
<para>- Directory pointer, a handle used to read directory entries. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">FileHandle</parametername>
</parameternamelist>
<parameterdescription>
<para>- Output file handle. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">Directory</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to a buffer containing the directory name. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">DirWithSep</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to directory name with path separator appended. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">Filename</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to a buffer containing the output filename. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">GetSizeTimeMode</parametername>
</parameternamelist>
<parameterdescription>
<para>- Option to call OS_stat for size, time, mode of files</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="1" cols="1"><row>
<entry thead="no"><para>(none)  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para>#FM_GetDirFile </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1471" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1471" bodyend="1593"/>
        <references refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e">CFE_EVS_DEBUG</references>
        <references refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832">CFE_EVS_ERROR</references>
        <references refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4">CFE_EVS_INFORMATION</references>
        <references refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298">CFE_EVS_SendEvent</references>
        <references refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" compoundref="fm__msg_8h" startline="567">FM_GlobalData_t::ChildCmdCounter</references>
        <references refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" compoundref="fm__msg_8h" startline="568">FM_GlobalData_t::ChildCmdErrCounter</references>
        <references refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" compoundref="fm__msg_8h" startline="569">FM_GlobalData_t::ChildCmdWarnCounter</references>
        <references refid="struct_f_m___dir_list_file_stats__t_1a03717b4dfffff70af08b5c8dad73831f" compoundref="fm__msg_8h" startline="351">FM_DirListFileStats_t::DirEntries</references>
        <references refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" compoundref="fm__msg_8h" startline="586">FM_GlobalData_t::DirListFileStats</references>
        <references refid="struct_f_m___dir_list_entry__t_1a46f50fa5eef0f02cb914d8f571010c9e" compoundref="fm__msg_8h" startline="309">FM_DirListEntry_t::EntryName</references>
        <references refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="struct_f_m___dir_list_file_stats__t_1a0ab57f4b5d2a04edd9c7fccdcd38c6f4" compoundref="fm__msg_8h" startline="352">FM_DirListFileStats_t::FileEntries</references>
        <references refid="fm__platform__cfg_8h_1ace83585f0302db2c752f269a07bb7df0" compoundref="fm__platform__cfg_8h" startline="264">FM_CHILD_STAT_SLEEP_FILECOUNT</references>
        <references refid="fm__child_8c_1a50ccf8c801c6fbdce2a63f765785a210" compoundref="fm__child_8c" startline="1641" endline="1667">FM_ChildSleepStat</references>
        <references refid="fm__platform__cfg_8h_1abd424538512fb782d2c9714936010a8d" compoundref="fm__platform__cfg_8h" startline="141">FM_DIR_LIST_FILE_ENTRIES</references>
        <references refid="fm__events_8h_1a706b5547a82c41f76ddbfa6401f9fb7f" compoundref="fm__events_8h" startline="1424">FM_GET_DIR_FILE_CMD_EID</references>
        <references refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" compoundref="fm__events_8h" startline="1542">FM_GET_DIR_FILE_OS_ERR_EID</references>
        <references refid="fm__events_8h_1a55bf771c49e815e8f25eb9860c9885ff" compoundref="fm__events_8h" startline="1486">FM_GET_DIR_FILE_WARNING_EID</references>
        <references refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" compoundref="fm__app_8c" startline="53">FM_GlobalData</references>
        <references refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" compoundref="fm__defs_8h" startline="55">FM_PARENT_DIRECTORY</references>
        <references refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" compoundref="fm__defs_8h" startline="54">FM_THIS_DIRECTORY</references>
        <references refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" compoundref="fm__child_8c" startline="42">OS_DIRENTRY_NAME</references>
        <references refid="osapi-os-filesys_8h_1a0b68c81a6ebf54f71e09b402874fbe9f">OS_lseek</references>
        <references refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63">OS_readdir</references>
        <references refid="osapi-os-filesys_8h_1a43ec0724caab103627a9def565cdfcaf">OS_SEEK_SET</references>
        <references refid="osapi-os-filesys_8h_1aa4cff610350a94b341e81af75941aecd">OS_write</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1af8674c8eb239138b4fc1b7bea8d857b8" compoundref="fm__child_8c" startline="1157" endline="1213">FM_ChildDirListFileCmd</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a114300482e3667818c3a8c80d4a68526" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref></type>
        <definition>int32 FM_ChildSizeTimeMode</definition>
        <argsstring>(const char *Filename, uint32 *FileSize, uint32 *FileTime, uint32 *FileMode)</argsstring>
        <name>FM_ChildSizeTimeMode</name>
        <param>
          <type>const char *</type>
          <declname>Filename</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref> *</type>
          <declname>FileSize</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref> *</type>
          <declname>FileTime</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref> *</type>
          <declname>FileMode</declname>
        </param>
        <briefdescription>
<para>Child Task File Size Time and Mode Utility Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked to query the last modify time, current size and mode (permissions) for each directory entry when processing either the Get Directory List to File or Get Directory List to Packet commands.</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">Filename</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to the combined directory and entry names. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">FileSize</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to the number containing the current entry size. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">FileTime</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to the number containing the last modify time. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">FileMode</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to the value containing the mode (permissions).</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="2" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para></para></entry></row>
<row>
<entry thead="no"><para>Error return codes from <ref refid="osfileapi_8c_1ae2a42242548bcadd43e8aa9da1bec195" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_stat</ref>  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para>#FM_GetDirFile, #FM_GetDirPkt </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1601" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1601" bodyend="1631"/>
        <references refid="cfe__time_8h_1a0f8b1968e967bd7596b0e5dd353dc35d">CFE_TIME_FS2CFESeconds</references>
        <references refid="osapi-os-filesys_8h_1ae2a42242548bcadd43e8aa9da1bec195">OS_stat</references>
        <references refid="osapi_8h_1a35b2b8984c2833372a467771063b05be">OS_SUCCESS</references>
        <referencedby refid="fm__child_8h_1aacef3ed2d1c3a8b63506bb7bd7a740c7" compoundref="fm__child_8c" startline="1641" endline="1667">FM_ChildSleepStat</referencedby>
      </memberdef>
      <memberdef kind="function" id="fm__child_8c_1a50ccf8c801c6fbdce2a63f765785a210" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FM_ChildSleepStat</definition>
        <argsstring>(const char *Filename, FM_DirListEntry_t *DirListData, int32 *FilesTillSleep, boolean getSizeTimeMode)</argsstring>
        <name>FM_ChildSleepStat</name>
        <param>
          <type>const char *</type>
          <declname>Filename</declname>
        </param>
        <param>
          <type><ref refid="struct_f_m___dir_list_entry__t" kindref="compound">FM_DirListEntry_t</ref> *</type>
          <declname>DirListData</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref> *</type>
          <declname>FilesTillSleep</declname>
        </param>
        <param>
          <type><ref refid="common__types_8h_1ac3ecf6d00ebd3dd79ea00efdc71d9c33" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">boolean</ref></type>
          <declname>GetSizeTimeMode</declname>
          <defname>getSizeTimeMode</defname>
        </param>
        <briefdescription>
<para>Child Task Sleep and Stat Utility Function. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="par"><title>Description</title><para>This function is invoked to query the last modify time, current size and mode (permissions) for each directory entry when processing either the Get Directory List to File or Get Directory List to Packet commands. However it only will sleep if FM_CHILD_STAT_SLEEP_FILECOUNT reaches zero and call FM_ChildSizeTimeMode if getSizeTimeMode is TRUE, otherwise this function has no effect</para></simplesect>
<simplesect kind="par"><title>Assumptions, External Events, and Notes:</title><para></para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">Filename</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to the combined directory and entry names. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">DirListData</parametername>
</parameternamelist>
<parameterdescription>
<para>- Pointer to the data containing the current entry size, last modify time, and mode </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">FilesTillSleep</parametername>
</parameternamelist>
<parameterdescription>
<para>- If this is zero the function will sleep for FM_CHILD_STAT_SLEEP_MS and reset it to FM_CHILD_STAT_SLEEP_FILECOUNT. Otherwise it will subtract 1 </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">GetSizeTimeMode</parametername>
</parameternamelist>
<parameterdescription>
<para>- Whether this function should call FM_ChildSizeTimeMode</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><table rows="2" cols="2"><row>
<entry thead="no"><para><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref> </para></entry><entry thead="no"><para></para></entry></row>
<row>
<entry thead="no"><para>Error return codes from <ref refid="osfileapi_8c_1ae2a42242548bcadd43e8aa9da1bec195" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_stat</ref>  </para></entry></row>
</table>
</para></simplesect>
<simplesect kind="see"><para>#FM_GetDirFile, #FM_GetDirPkt </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="apps/fm/fsw/src/fm_child.c" line="1641" column="1" bodyfile="apps/fm/fsw/src/fm_child.c" bodystart="1641" bodyend="1667"/>
        <references refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625">CFE_ES_PerfLogEntry</references>
        <references refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4">CFE_ES_PerfLogExit</references>
        <references refid="struct_f_m___dir_list_entry__t_1a6924de55addd6f0f8033752399ef8c15" compoundref="fm__msg_8h" startline="311">FM_DirListEntry_t::EntrySize</references>
        <references refid="fm__platform__cfg_8h_1ace83585f0302db2c752f269a07bb7df0" compoundref="fm__platform__cfg_8h" startline="264">FM_CHILD_STAT_SLEEP_FILECOUNT</references>
        <references refid="fm__platform__cfg_8h_1a7034e669b121a395215aa567b86242d4" compoundref="fm__platform__cfg_8h" startline="263">FM_CHILD_STAT_SLEEP_MS</references>
        <references refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" compoundref="fm__perfids_8h" startline="39">FM_CHILD_TASK_PERF_ID</references>
        <references refid="fm__child_8c_1a114300482e3667818c3a8c80d4a68526" compoundref="fm__child_8c" startline="1601" endline="1631">FM_ChildSizeTimeMode</references>
        <references refid="struct_f_m___dir_list_entry__t_1aab1619c4c08884bf7c1ee7ad6de9b631" compoundref="fm__msg_8h" startline="315">FM_DirListEntry_t::Mode</references>
        <references refid="struct_f_m___dir_list_entry__t_1a4fe06f056c574d976d85fab7f2d7c846" compoundref="fm__msg_8h" startline="313">FM_DirListEntry_t::ModifyTime</references>
        <references refid="osapi-os-core_8h_1a8f78bce95227e4e99fe6f0378835260e">OS_TaskDelay</references>
        <references refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="fm__child_8h_1aa0bc195d165713d7c107a09a55135d1a" compoundref="fm__child_8c" startline="1471" endline="1593">FM_ChildDirListFileLoop</referencedby>
        <referencedby refid="fm__child_8h_1a9eb81011943d9b7efd2817d9eff72e03" compoundref="fm__child_8c" startline="1222" endline="1346">FM_ChildDirListPktCmd</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment">**<sp/>$Id:<sp/>fm_child.c<sp/>1.16.1.5<sp/>2017/01/24<sp/>23:53:32EST<sp/>mdeschu<sp/>Exp<sp/><sp/>$</highlight></codeline>
<codeline lineno="3"><highlight class="comment">**</highlight></codeline>
<codeline lineno="4"><highlight class="comment">**<sp/><sp/>Copyright<sp/>(c)<sp/>2007-2014<sp/>United<sp/>States<sp/>Government<sp/>as<sp/>represented<sp/>by<sp/>the<sp/></highlight></codeline>
<codeline lineno="5"><highlight class="comment">**<sp/><sp/>Administrator<sp/>of<sp/>the<sp/>National<sp/>Aeronautics<sp/>and<sp/>Space<sp/>Administration.<sp/></highlight></codeline>
<codeline lineno="6"><highlight class="comment">**<sp/><sp/>All<sp/>Other<sp/>Rights<sp/>Reserved.<sp/><sp/></highlight></codeline>
<codeline lineno="7"><highlight class="comment">**</highlight></codeline>
<codeline lineno="8"><highlight class="comment">**<sp/><sp/>This<sp/>software<sp/>was<sp/>created<sp/>at<sp/>NASA&apos;s<sp/>Goddard<sp/>Space<sp/>Flight<sp/>Center.</highlight></codeline>
<codeline lineno="9"><highlight class="comment">**<sp/><sp/>This<sp/>software<sp/>is<sp/>governed<sp/>by<sp/>the<sp/>NASA<sp/>Open<sp/>Source<sp/>Agreement<sp/>and<sp/>may<sp/>be<sp/></highlight></codeline>
<codeline lineno="10"><highlight class="comment">**<sp/><sp/>used,<sp/>distributed<sp/>and<sp/>modified<sp/>only<sp/>pursuant<sp/>to<sp/>the<sp/>terms<sp/>of<sp/>that<sp/></highlight></codeline>
<codeline lineno="11"><highlight class="comment">**<sp/><sp/>agreement.</highlight></codeline>
<codeline lineno="12"><highlight class="comment">**</highlight></codeline>
<codeline lineno="13"><highlight class="comment">**<sp/>Purpose:<sp/>File<sp/>Manager<sp/>(FM)<sp/>Child<sp/>task<sp/>(low<sp/>priority<sp/>command<sp/>handler)</highlight></codeline>
<codeline lineno="14"><highlight class="comment">**</highlight></codeline>
<codeline lineno="15"><highlight class="comment">**<sp/>Author:<sp/>Scott<sp/>Walling<sp/>(Microtel)</highlight></codeline>
<codeline lineno="16"><highlight class="comment">**</highlight></codeline>
<codeline lineno="17"><highlight class="comment">**<sp/>Notes:</highlight></codeline>
<codeline lineno="18"><highlight class="comment">**</highlight></codeline>
<codeline lineno="19"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cfe_8h" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">cfe.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__msg_8h" kindref="compound">fm_msg.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__msgdefs_8h" kindref="compound">fm_msgdefs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__msgids_8h" kindref="compound">fm_msgids.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__events_8h" kindref="compound">fm_events.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__app_8h" kindref="compound">fm_app.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__child_8h" kindref="compound">fm_child.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__cmds_8h" kindref="compound">fm_cmds.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__cmd__utils_8h" kindref="compound">fm_cmd_utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__perfids_8h" kindref="compound">fm_perfids.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__platform__cfg_8h" kindref="compound">fm_platform_cfg.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fm__verify_8h" kindref="compound">fm_verify.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">/************************************************************************</highlight></codeline>
<codeline lineno="37"><highlight class="comment">**<sp/>OSAL<sp/>Compatibility<sp/>for<sp/>directory<sp/>name<sp/>access</highlight></codeline>
<codeline lineno="38"><highlight class="comment">**<sp/>New<sp/>OSAL<sp/>version<sp/>have<sp/>an<sp/>access<sp/>macro<sp/>to<sp/>get<sp/>the<sp/>string.<sp/><sp/>If<sp/>that</highlight></codeline>
<codeline lineno="39"><highlight class="comment">**<sp/>macro<sp/>is<sp/>defined,<sp/>use<sp/>it,<sp/>otherwise<sp/>assume<sp/>&quot;d_name&quot;<sp/>structure<sp/>member.</highlight></codeline>
<codeline lineno="40"><highlight class="comment">*************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>OS_DIRENTRY_NAME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>OS_DIRENTRY_NAME(x)<sp/><sp/><sp/><sp/><sp/>((x).d_name)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="fm__child_8c_1a2058f02f27ce53bd66f814fd0d891874" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>FM_QUEUE_SEM_NAME<sp/>&quot;FM_QUEUE_SEM&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>--<sp/>startup<sp/>initialization<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="fm__child_8h_1a3dd7c87e5bc7606add8e69323e0795f1" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><ref refid="fm__child_8c_1a3dd7c87e5bc7606add8e69323e0795f1" kindref="member">FM_ChildInit</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="55"><highlight class="normal">{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>TaskTextLen<sp/>=<sp/>64;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>TaskText[TaskTextLen];</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>Result;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>counting<sp/>semaphore<sp/>(given<sp/>by<sp/>parent<sp/>to<sp/>wake-up<sp/>child)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="osapi-os-core_8h_1a078ac65c4cf2acda58fa915fbdb188f6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_CountSemCreate</ref>(&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c96d444916b205fb90555252551b1fc" kindref="member">ChildSemaphore</ref>,<sp/><ref refid="fm__platform__cfg_8h_1a166202caab5a1347da966db9e5708aa0" kindref="member">FM_CHILD_SEM_NAME</ref>,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(TaskText,<sp/></highlight><highlight class="stringliteral">&quot;create<sp/>semaphore<sp/>failed&quot;</highlight><highlight class="normal">,<sp/>TaskTextLen);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>mutex<sp/>semaphore<sp/>(protect<sp/>access<sp/>to<sp/>ChildQueueCount)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="osapi-os-core_8h_1a1cec40bf769e2db8614c1ef6d9906a8d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_MutSemCreate</ref>(&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a252da43588c5ed504c3a9e4507162f31" kindref="member">ChildQueueCountSem</ref>,<sp/><ref refid="fm__child_8c_1a2058f02f27ce53bd66f814fd0d891874" kindref="member">FM_QUEUE_SEM_NAME</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(TaskText,<sp/></highlight><highlight class="stringliteral">&quot;create<sp/>queue<sp/>count<sp/>semaphore<sp/>failed&quot;</highlight><highlight class="normal">,<sp/>TaskTextLen);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>child<sp/>task<sp/>(low<sp/>priority<sp/>command<sp/>handler)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="cfe__es__api_8c_1a64768543df91e7856b4356fdc70ebe8c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_CreateChildTask</ref>(&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab1ac60c7deb5bef92cf454331634b398" kindref="member">ChildTaskID</ref>,</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__platform__cfg_8h_1a1483497ee6c5c69e341cbad381134353" kindref="member">FM_CHILD_TASK_NAME</ref>,</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1ae1fcecb533fa5da32afa94345ad87d7f" kindref="member">FM_ChildTask</ref>,<sp/>0,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__platform__cfg_8h_1a3412d5f9f7c7846d492a0ae74697ec9d" kindref="member">FM_CHILD_TASK_STACK_SIZE</ref>,</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__platform__cfg_8h_1adff03cc829c9dafd69a3561cd2ab711a" kindref="member">FM_CHILD_TASK_PRIORITY</ref>,</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__platform__cfg_8h_1acf7bdce9fed1c9b5b28a9aeda58e8fbd" kindref="member">FM_CHILD_TASK_FLAGS</ref>);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(TaskText,<sp/></highlight><highlight class="stringliteral">&quot;create<sp/>task<sp/>failed&quot;</highlight><highlight class="normal">,<sp/>TaskTextLen);</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1ad4a61f37bfb39bca1513288828862d8a" kindref="member">FM_CHILD_INIT_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Child<sp/>Task<sp/>initialization<sp/>error:<sp/>%s:<sp/>result<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TaskText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Result);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(Result);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildInit()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>--<sp/>task<sp/>entry<sp/>point<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="fm__child_8h_1ae1fcecb533fa5da32afa94345ad87d7f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1ae1fcecb533fa5da32afa94345ad87d7f" kindref="member">FM_ChildTask</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="111"><highlight class="normal">{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*TaskText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Child<sp/>Task&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>Result;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="116"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>The<sp/>child<sp/>task<sp/>runs<sp/>until<sp/>the<sp/>parent<sp/>dies<sp/>(normal<sp/>end)<sp/>or</highlight></codeline>
<codeline lineno="117"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>until<sp/>it<sp/>encounters<sp/>a<sp/>fatal<sp/>error<sp/>(semaphore<sp/>error,<sp/>etc.)...</highlight></codeline>
<codeline lineno="118"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="cfe__es__api_8c_1a1e008c905bb89083293355b71ce4bc2d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_RegisterChildTask</ref>();</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1ad4a61f37bfb39bca1513288828862d8a" kindref="member">FM_CHILD_INIT_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>initialization<sp/>error:<sp/>register<sp/>child<sp/>failed:<sp/>result<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TaskText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Result);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a3a36c6ab37a533eb52dad9ecac3af376" kindref="member">FM_CHILD_INIT_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>initialization<sp/>complete&quot;</highlight><highlight class="normal">,<sp/>TaskText);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Child<sp/>task<sp/>process<sp/>loop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a04b7cf4ab2461b64d56c0016401e5455" kindref="member">FM_ChildLoop</ref>();</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>the<sp/>parent<sp/>from<sp/>invoking<sp/>the<sp/>child<sp/>task<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c96d444916b205fb90555252551b1fc" kindref="member">ChildSemaphore</ref><sp/>=<sp/><ref refid="fm__defs_8h_1ac0a385f4717c2957e470a522d6dcd797" kindref="member">FM_CHILD_SEM_INVALID</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>call<sp/>allows<sp/>cFE<sp/>to<sp/>clean-up<sp/>system<sp/>resources<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__es__api_8c_1a263795095b7eda1070864d75add8d91a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_ExitChildTask</ref>();</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildTask()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>--<sp/>main<sp/>process<sp/>loop<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="fm__child_8h_1a04b7cf4ab2461b64d56c0016401e5455" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a04b7cf4ab2461b64d56c0016401e5455" kindref="member">FM_ChildLoop</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="154"><highlight class="normal">{</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*TaskText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Child<sp/>Task<sp/>termination<sp/>error:<sp/>&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>Result<sp/>=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(Result<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Pend<sp/>on<sp/>the<sp/>&quot;handshake&quot;<sp/>semaphore<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="osapi-os-core_8h_1a5823afb4723b533c182c8493e93078ea" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_CountSemTake</ref>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c96d444916b205fb90555252551b1fc" kindref="member">ChildSemaphore</ref>);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Mark<sp/>the<sp/>period<sp/>when<sp/>this<sp/>task<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogEntry</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>==<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>the<sp/>parent/child<sp/>handshake<sp/>is<sp/>not<sp/>broken<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a145677a299584ed8f7661cf67980dce6" kindref="member">ChildQueueCount</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a6a97cd04595479bfad3c01ecd23d4c46" kindref="member">FM_CHILD_TERM_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>empty<sp/>queue&quot;</highlight><highlight class="normal">,<sp/>TaskText);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>result<sp/>that<sp/>will<sp/>terminate<sp/>child<sp/>task<sp/>run<sp/>loop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="cfe__error_8h_1ab482895eae31f97bcb2aaaf4809cb945" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_OS_ERROR</ref>;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" kindref="member">ChildReadIndex</ref><sp/>&gt;=<sp/><ref refid="fm__platform__cfg_8h_1a5946b5cc35e5d43c6a3236b729305567" kindref="member">FM_CHILD_QUEUE_DEPTH</ref>)</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a6a97cd04595479bfad3c01ecd23d4c46" kindref="member">FM_CHILD_TERM_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>invalid<sp/>queue<sp/>index:<sp/>index<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TaskText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" kindref="member">ChildReadIndex</ref>);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>result<sp/>that<sp/>will<sp/>terminate<sp/>child<sp/>task<sp/>run<sp/>loop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="cfe__error_8h_1ab482895eae31f97bcb2aaaf4809cb945" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_OS_ERROR</ref>;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Invoke<sp/>the<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a3fc80ba42ab816e891167a85c640f9bf" kindref="member">FM_ChildProcess</ref>();</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a6a97cd04595479bfad3c01ecd23d4c46" kindref="member">FM_CHILD_TERM_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>semaphore<sp/>take<sp/>failed:<sp/>result<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TaskText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)Result);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogExit</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildLoop()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>--<sp/>interface<sp/>handshake<sp/>processor<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215" refid="fm__child_8h_1a3fc80ba42ab816e891167a85c640f9bf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a3fc80ba42ab816e891167a85c640f9bf" kindref="member">FM_ChildProcess</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="216"><highlight class="normal">{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*TaskText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Child<sp/>Task&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>CmdArgs<sp/>=<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a843f6fbceda7b12674959b382409119d" kindref="member">ChildQueue</ref>[<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" kindref="member">ChildReadIndex</ref>];</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Invoke<sp/>the<sp/>command<sp/>specific<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>)</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a13c7bb50072bef1eb88376a9cc294526" kindref="member">FM_COPY_CC</ref>:</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1ab443b52c6ce1682760dc98b74f675806" kindref="member">FM_ChildCopyCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a3b861d8e0f17cd3ee7f8fd6b11ebbb04" kindref="member">FM_MOVE_CC</ref>:</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1ab4328867626461a989a53c46556f29c9" kindref="member">FM_ChildMoveCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a31217b5303b3c219d6f0b82af5df3a57" kindref="member">FM_RENAME_CC</ref>:</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a1189ef8aad610e70fe9d36d7a9f684a9" kindref="member">FM_ChildRenameCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1aaad7efb631674edce885b94330ed6310" kindref="member">FM_DELETE_CC</ref>:</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a5cf5d58bf0f535d5028d348888d93fc6" kindref="member">FM_ChildDeleteCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a0ced7949ac26982a8b3839a79d2df727" kindref="member">FM_DELETE_ALL_CC</ref>:</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a6ca53203cb0bd42a38f2e10c14e2b294" kindref="member">FM_ChildDeleteAllCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a4f9b7dc7f6d4f2b9d887b412d8d5419c" kindref="member">FM_DECOMPRESS_CC</ref>:</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a3a3dad84b3d793f17ec51fbccbabb24a" kindref="member">FM_ChildDecompressCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a88bd1dbfcda3821055d9e7640fb4eb7a" kindref="member">FM_CONCAT_CC</ref>:</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a56e7773f1b8ab3fea6e3511edbbce859" kindref="member">FM_ChildConcatCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1ada86146b2a3c857cd48947545294b6f2" kindref="member">FM_CREATE_DIR_CC</ref>:</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1aeff2a44bc96d3197178b65c2a3d8968d" kindref="member">FM_ChildCreateDirCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a51e23a4d8cf42841743a01686eb97b85" kindref="member">FM_DELETE_DIR_CC</ref>:</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a88d72fce98a917ff068ae8aad857af13" kindref="member">FM_ChildDeleteDirCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1ab76c0b00331550b02c42bd7d2166d32c" kindref="member">FM_GET_FILE_INFO_CC</ref>:</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a02cd414b57bf1a531f26419fbdb0f941" kindref="member">FM_ChildFileInfoCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1ae4525ebab17346a1340824e97e00d5f1" kindref="member">FM_GET_DIR_FILE_CC</ref>:</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1af8674c8eb239138b4fc1b7bea8d857b8" kindref="member">FM_ChildDirListFileCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a0c70b01f18aefa087fba4372be96261b" kindref="member">FM_GET_DIR_PKT_CC</ref>:</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a9eb81011943d9b7efd2817d9eff72e03" kindref="member">FM_ChildDirListPktCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1a4b9711a4ca14deedc4f3abce2162764c" kindref="member">FM_DELETE_INT_CC</ref>:</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a5cf5d58bf0f535d5028d348888d93fc6" kindref="member">FM_ChildDeleteCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="fm__msgdefs_8h_1adfda056d4436f4f55f40be106fd4bc87" kindref="member">FM_SET_FILE_PERM_CC</ref>:</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a4075be244ac10994f306259f9fbccd57" kindref="member">FM_ChildSetPermissionsCmd</ref>(CmdArgs);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a67cb706de0a5232fd7bad7ca6fad588c" kindref="member">FM_CHILD_EXE_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>execution<sp/>error:<sp/>invalid<sp/>command<sp/>code:<sp/>cc<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TaskText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>the<sp/>handshake<sp/>queue<sp/>read<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" kindref="member">ChildReadIndex</ref>++;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" kindref="member">ChildReadIndex</ref><sp/>&gt;=<sp/><ref refid="fm__platform__cfg_8h_1a5946b5cc35e5d43c6a3236b729305567" kindref="member">FM_CHILD_QUEUE_DEPTH</ref>)</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab1a8ce69edcc6a01fc81f96f252cc4bd" kindref="member">ChildReadIndex</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Prevent<sp/>parent/child<sp/>updating<sp/>queue<sp/>counter<sp/>at<sp/>same<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-core_8h_1a77239ad1acd87f235cdc45142cc0d39f" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_MutSemTake</ref>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a252da43588c5ed504c3a9e4507162f31" kindref="member">ChildQueueCountSem</ref>);</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a145677a299584ed8f7661cf67980dce6" kindref="member">ChildQueueCount</ref>--;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-core_8h_1a48964b6567f9ceda86a51ebc02fb88c5" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_MutSemGive</ref>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a252da43588c5ed504c3a9e4507162f31" kindref="member">ChildQueueCountSem</ref>);</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildProcess()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Copy<sp/>File<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313" refid="fm__child_8h_1ab443b52c6ce1682760dc98b74f675806" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1ab443b52c6ce1682760dc98b74f675806" kindref="member">FM_ChildCopyCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="314"><highlight class="normal">{</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Copy<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>OS_Status;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Note<sp/>the<sp/>order<sp/>of<sp/>the<sp/>arguments<sp/>to<sp/>OS_cp<sp/>(src,tgt)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a61ccbf4b4b770fe470765cd10ad9706d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_cp</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1afd7b1f56eabbcf2543eda9adcb571d87" kindref="member">FM_COPY_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_cp<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a61936ebdd90baf4aa685b6f27b94b71b" kindref="member">FM_COPY_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildCopyCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Move<sp/>File<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358" refid="fm__child_8h_1ab4328867626461a989a53c46556f29c9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1ab4328867626461a989a53c46556f29c9" kindref="member">FM_ChildMoveCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="359"><highlight class="normal">{</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Move<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>OS_Status;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a13e9c66fca3b72651bc00304e89cc54b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_mv</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a8167fd4722f3a915559ccacae82cc659" kindref="member">FM_MOVE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_mv<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a4a5e6a8fdbceda128c09f356509722a6" kindref="member">FM_MOVE_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildMoveCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Rename<sp/>File<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402" refid="fm__child_8h_1a1189ef8aad610e70fe9d36d7a9f684a9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a1189ef8aad610e70fe9d36d7a9f684a9" kindref="member">FM_ChildRenameCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="403"><highlight class="normal">{</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Rename<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>OS_Status;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a2b7e1718909ff6a95d2c0b7bd21b41ed" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_rename</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a5b8f714271a3b934a9c7c29829d7d71a" kindref="member">FM_RENAME_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_rename<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a769cf8e730c1e1bbcbc330819db1fdec" kindref="member">FM_RENAME_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildRenameCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Delete<sp/>File<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446" refid="fm__child_8h_1a5cf5d58bf0f535d5028d348888d93fc6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a5cf5d58bf0f535d5028d348888d93fc6" kindref="member">FM_ChildDeleteCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="447"><highlight class="normal">{</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Delete<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>OS_Status;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a2ee7caab771e650d41302ca5b1ab5d5c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_remove</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a696b8ee5cefa4508cb0562a17182d7fc" kindref="member">FM_DELETE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_remove<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref><sp/>!=<sp/><ref refid="fm__msgdefs_8h_1a4b9711a4ca14deedc4f3abce2162764c" kindref="member">FM_DELETE_INT_CC</ref>)</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1ad8a6fb70c65523b86f3015b2546685fb" kindref="member">FM_DELETE_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildDeleteCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Delete<sp/>All<sp/>Files<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492" refid="fm__child_8h_1a6ca53203cb0bd42a38f2e10c14e2b294" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a6ca53203cb0bd42a38f2e10c14e2b294" kindref="member">FM_ChildDeleteAllCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="493"><highlight class="normal">{</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Delete<sp/>All<sp/>Files&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*Directory;</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*DirWithSep;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a2352c3c6c5ad0819aa5a633da30b84d1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirp_t</ref><sp/><sp/><sp/><sp/>DirPtr;</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a1a6d5c1c6478f1b5f409a50552d07fd7" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirent_t</ref><sp/>*DirEntry;</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OS_Status;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilenameState;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NameLength;</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DeleteCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilesNotDeletedCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirectoriesSkippedCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Filename[OS_MAX_PATH_LEN];</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="511"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Command<sp/>argument<sp/>useage<sp/>for<sp/>this<sp/>command:</highlight></codeline>
<codeline lineno="512"><highlight class="comment"><sp/><sp/><sp/><sp/>**</highlight></codeline>
<codeline lineno="513"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;CommandCode<sp/>=<sp/>FM_DELETE_ALL_CC</highlight></codeline>
<codeline lineno="514"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Source1<sp/><sp/><sp/><sp/><sp/>=<sp/>directory<sp/>name</highlight></codeline>
<codeline lineno="515"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Source2<sp/><sp/><sp/><sp/><sp/>=<sp/>directory<sp/>name<sp/>plus<sp/>separator</highlight></codeline>
<codeline lineno="516"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/>Directory<sp/><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/>DirWithSep<sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>;</highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>directory<sp/>so<sp/>that<sp/>we<sp/>can<sp/>read<sp/>from<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/>DirPtr<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_opendir</ref>(Directory);</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DirPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref>)</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1ad8ac4b872fb009db2a192e41b9413306" kindref="member">FM_DELETE_ALL_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_opendir<sp/>failed:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>Directory);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>each<sp/>directory<sp/>entry<sp/>and<sp/>delete<sp/>the<sp/>files<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((DirEntry<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_readdir</ref>(DirPtr))<sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/></highlight></codeline>
<codeline lineno="538"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>Ignore<sp/>the<sp/>&quot;.&quot;<sp/>and<sp/>&quot;..&quot;<sp/>directory<sp/>entries<sp/></highlight></codeline>
<codeline lineno="539"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" kindref="member">FM_THIS_DIRECTORY</ref>)<sp/>!=<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" kindref="member">FM_PARENT_DIRECTORY</ref>)<sp/>!=<sp/>0))</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Construct<sp/>full<sp/>path<sp/>filename<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NameLength<sp/>=<sp/>strlen(DirWithSep)<sp/>+<sp/>strlen(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="545"><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NameLength<sp/>&gt;=<sp/>OS_MAX_PATH_LEN)</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilesNotDeletedCount++;</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Note:<sp/>Directory<sp/>name<sp/>already<sp/>has<sp/>trailing<sp/>&quot;/&quot;<sp/>appended<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(Filename,<sp/>DirWithSep);</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcat(Filename,<sp/><ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>What<sp/>kind<sp/>of<sp/>directory<sp/>entry<sp/>is<sp/>this?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilenameState<sp/>=<sp/><ref refid="fm__cmd__utils_8c_1afe8ea141831a4e9ff8c09dd79236321e" kindref="member">FM_GetFilenameState</ref>(Filename,<sp/>OS_MAX_PATH_LEN,<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>);</highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FilenameState<sp/>==<sp/><ref refid="fm__defs_8h_1a10834035fd7cd08a222187e03aa26bb6" kindref="member">FM_NAME_IS_INVALID</ref>)</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilesNotDeletedCount++;</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FilenameState<sp/>==<sp/><ref refid="fm__defs_8h_1aa79f45a73628796a1ab1fa6cec523b60" kindref="member">FM_NAME_IS_NOT_IN_USE</ref>)</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>result<sp/>is<sp/>very<sp/>unlikely<sp/>-<sp/>the<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/><sp/>name<sp/>existed<sp/>a<sp/>moment<sp/>ago<sp/>when<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/><sp/>the<sp/>directory<sp/>entry<sp/>was<sp/>read<sp/>but<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/><sp/>now<sp/>the<sp/>call<sp/>to<sp/>OS_stat()<sp/>failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/><sp/>implying<sp/>that<sp/>the<sp/>entry<sp/>is<sp/>gone<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilesNotDeletedCount++;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FilenameState<sp/>==<sp/><ref refid="fm__defs_8h_1a5d38d9d67fee9f8d622b4b551e5b590f" kindref="member">FM_NAME_IS_DIRECTORY</ref>)</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirectoriesSkippedCount++;</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FilenameState<sp/>==<sp/><ref refid="fm__defs_8h_1a79468f39f089172833ed4610f230bccd" kindref="member">FM_NAME_IS_FILE_OPEN</ref>)</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilesNotDeletedCount++;</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FilenameState<sp/>==<sp/><ref refid="fm__defs_8h_1a2304a68959eb31b48738bace641a592c" kindref="member">FM_NAME_IS_FILE_CLOSED</ref>)</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a2ee7caab771e650d41302ca5b1ab5d5c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_remove</ref>(Filename))<sp/>==<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="585"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>After<sp/>deleting<sp/>the<sp/>file,<sp/>rewind<sp/>the<sp/>directory</highlight></codeline>
<codeline lineno="586"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**<sp/>to<sp/>keep<sp/>the<sp/>file<sp/>system<sp/>from<sp/>getting<sp/>confused</highlight></codeline>
<codeline lineno="587"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1aa0beb91f47463f63aae201b887be4dc0" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_rewinddir</ref>(DirPtr);</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Increment<sp/>delete<sp/>count<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DeleteCount++;</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilesNotDeletedCount++;</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>&quot;.&quot;<sp/>or<sp/>&quot;..&quot;<sp/>directory<sp/>entries<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>while<sp/>OS_readdir<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_closedir</ref>(DirPtr);</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1aa406615f534d5d655b30e2443d3a6e2e" kindref="member">FM_DELETE_ALL_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>deleted<sp/>%d<sp/>files:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)DeleteCount,<sp/>Directory);</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>FilesNotDeletedCount<sp/>&gt;<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>errors<sp/>occured,<sp/>report<sp/>generic<sp/>event(s)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a1c0c088f32c0f42efe4b416b53d9c3af" kindref="member">FM_DELETE_ALL_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>one<sp/>or<sp/>more<sp/>files<sp/>could<sp/>not<sp/>be<sp/>deleted.<sp/>Files<sp/>may<sp/>be<sp/>open<sp/>:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>Directory);</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="618"><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>DirectoriesSkippedCount<sp/>&gt;<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>errors<sp/>occured,<sp/>report<sp/>generic<sp/>event(s)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a1c0c088f32c0f42efe4b416b53d9c3af" kindref="member">FM_DELETE_ALL_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>one<sp/>or<sp/>more<sp/>directories<sp/>skipped<sp/>:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>Directory);</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="627"><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>end<sp/>if<sp/>DirPtr<sp/>==<sp/>NULL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildDeleteAllCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Decompress<sp/>File<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645" refid="fm__child_8h_1a3a3dad84b3d793f17ec51fbccbabb24a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a3a3dad84b3d793f17ec51fbccbabb24a" kindref="member">FM_ChildDecompressCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="646"><highlight class="normal">{</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Decompress<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/>CFE_Status;</highlight></codeline>
<codeline lineno="649"><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Decompress<sp/>source<sp/>file<sp/>into<sp/>target<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/>CFE_Status<sp/>=<sp/><ref refid="cfe__fs__decompress_8c_1a2d9160967617e454ed049a0b6c202ae8" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_Decompress</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CFE_Status<sp/>!=<sp/><ref refid="cfe__error_8h_1ab2b6b188c32c70b8ca0578b7a7bc091b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="659"><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1ab728d1305f7bd285a4fdb6f5a8128f6d" kindref="member">FM_DECOM_CFE_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>CFE_FS_Decompress<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)CFE_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="668"><highlight class="normal"></highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a7cab09d166baec6395c38224cb7b4e9e" kindref="member">FM_DECOM_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="674"><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildDecompressCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Concatenate<sp/>Files<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"></highlight></codeline>
<codeline lineno="690" refid="fm__child_8h_1a56e7773f1b8ab3fea6e3511edbbce859" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a56e7773f1b8ab3fea6e3511edbbce859" kindref="member">FM_ChildConcatCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="691"><highlight class="normal">{</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Concat<sp/>Files&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>ConcatResult<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>CopyInProgress<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>CreatedTgtFile<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>OpenedSource2<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>OpenedTgtFile<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LoopCount;</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OS_Status;</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileHandleSrc;</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileHandleTgt;</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesRead;</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesWritten;</highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>source<sp/>file<sp/>#1<sp/>to<sp/>the<sp/>target<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a61ccbf4b4b770fe470765cd10ad9706d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_cp</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="710"><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="714"><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1af88e259b5e2db1eaadf4a298a14868f1" kindref="member">FM_CONCAT_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_cp<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>src<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CreatedTgtFile<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="724"><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>source<sp/>file<sp/>#2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CreatedTgtFile)</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileHandleSrc<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a32b00c0a65370a5dd7fde6157a249980" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_open</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>,<sp/><ref refid="osapi-os-filesys_8h_1a9d92578f2d09bd724bc5bbc6c78fc84c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_READ_ONLY</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FileHandleSrc<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="733"><highlight class="normal"></highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1af88e259b5e2db1eaadf4a298a14868f1" kindref="member">FM_CONCAT_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_open<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>src2<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)FileHandleSrc,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>);</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OpenedSource2<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>target<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OpenedSource2)</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileHandleTgt<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a32b00c0a65370a5dd7fde6157a249980" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_open</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>,<sp/><ref refid="osapi-os-filesys_8h_1a2788e8d8f495bac9f6933fffbf9f2b93" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_READ_WRITE</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FileHandleTgt<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1af88e259b5e2db1eaadf4a298a14868f1" kindref="member">FM_CONCAT_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_open<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)FileHandleTgt,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OpenedTgtFile<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="764"><highlight class="normal"></highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Append<sp/>source<sp/>file<sp/>#2<sp/>to<sp/>target<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OpenedTgtFile)</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Seek<sp/>to<sp/>end<sp/>of<sp/>target<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a0b68c81a6ebf54f71e09b402874fbe9f" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_lseek</ref>(FileHandleTgt,<sp/>0,<sp/><ref refid="osapi-os-filesys_8h_1aa32664bb78a844908f95c7ca369309be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SEEK_END</ref>);</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CopyInProgress<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LoopCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="772"><highlight class="normal"></highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(CopyInProgress)</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesRead<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a43dace419af92095b82f0b788ffb31f9" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_read</ref>(FileHandleSrc,<sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1aad1e50b4015ed83fbd4fa9fcffc23b98" kindref="member">ChildBuffer</ref>,</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__platform__cfg_8h_1ae41510cbe8ec5f58635ff6510faadd63" kindref="member">FM_CHILD_FILE_BLOCK_SIZE</ref>);</highlight></codeline>
<codeline lineno="777"><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesRead<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Success<sp/>-<sp/>finished<sp/>reading<sp/>source<sp/>file<sp/>#2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CopyInProgress<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ConcatResult<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesRead<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CopyInProgress<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1af88e259b5e2db1eaadf4a298a14868f1" kindref="member">FM_CONCAT_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_read<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesRead,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>);</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>source<sp/>file<sp/>#2<sp/>to<sp/>target<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesWritten<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1aa4cff610350a94b341e81af75941aecd" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_write</ref>(FileHandleTgt,<sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1aad1e50b4015ed83fbd4fa9fcffc23b98" kindref="member">ChildBuffer</ref>,<sp/>BytesRead);</highlight></codeline>
<codeline lineno="798"><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesWritten<sp/>!=<sp/>BytesRead)</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CopyInProgress<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="803"><highlight class="normal"></highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1af88e259b5e2db1eaadf4a298a14868f1" kindref="member">FM_CONCAT_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_write<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>expected<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesWritten,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesRead);</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Avoid<sp/>CPU<sp/>hogging<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CopyInProgress)</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LoopCount++;</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(LoopCount<sp/>==<sp/><ref refid="fm__platform__cfg_8h_1af1428dea27332a7d934fa984a9ad2421" kindref="member">FM_CHILD_FILE_LOOP_COUNT</ref>)</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Give<sp/>up<sp/>the<sp/>CPU<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogExit</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-core_8h_1a8f78bce95227e4e99fe6f0378835260e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_TaskDelay</ref>(<ref refid="fm__platform__cfg_8h_1ac0d6c709f86f04a72da408ca551daaf4" kindref="member">FM_CHILD_FILE_SLEEP_MS</ref>);</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogEntry</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LoopCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="826"><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OpenedTgtFile)</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Close<sp/>target<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_close</ref>(FileHandleTgt);</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="832"><highlight class="normal"></highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OpenedSource2)</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Close<sp/>source<sp/>file<sp/>#2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_close</ref>(FileHandleSrc);</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="838"><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((CreatedTgtFile<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)<sp/>&amp;&amp;<sp/>(ConcatResult<sp/>==<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>))</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Remove<sp/>partial<sp/>target<sp/>file<sp/>after<sp/>concat<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a2ee7caab771e650d41302ca5b1ab5d5c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_remove</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ConcatResult<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="848"><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a717355caf97174153b7f332ead52465a" kindref="member">FM_CONCAT_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>src1<sp/>=<sp/>%s,<sp/>src2<sp/>=<sp/>%s,<sp/>tgt<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="858"><highlight class="normal"></highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="860"><highlight class="normal"></highlight></codeline>
<codeline lineno="861"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildConcatCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"></highlight></codeline>
<codeline lineno="863"><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="865"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Get<sp/>File<sp/>Info<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="869"><highlight class="normal"></highlight></codeline>
<codeline lineno="870" refid="fm__child_8h_1a02cd414b57bf1a531f26419fbdb0f941" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a02cd414b57bf1a531f26419fbdb0f941" kindref="member">FM_ChildFileInfoCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="871"><highlight class="normal">{</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Get<sp/>File<sp/>Info&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/>GettingCRC<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/>CurrentCRC<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/>LoopCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/>BytesRead;</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/>FileHandle;</highlight></codeline>
<codeline lineno="878"><highlight class="normal"></highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="881"><highlight class="normal"></highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="883"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Command<sp/>argument<sp/>useage<sp/>for<sp/>this<sp/>command:</highlight></codeline>
<codeline lineno="884"><highlight class="comment"><sp/><sp/><sp/><sp/>**</highlight></codeline>
<codeline lineno="885"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;CommandCode<sp/><sp/><sp/>=<sp/>FM_GET_DIR_FILE_CC</highlight></codeline>
<codeline lineno="886"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Source1<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>name<sp/>of<sp/>directory<sp/>or<sp/>file</highlight></codeline>
<codeline lineno="887"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;FileInfoState<sp/>=<sp/>state<sp/>of<sp/>directory<sp/>or<sp/>file</highlight></codeline>
<codeline lineno="888"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;FileInfoSize<sp/><sp/>=<sp/>file<sp/>size,<sp/>else<sp/>zero</highlight></codeline>
<codeline lineno="889"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;FileInfoTime<sp/><sp/>=<sp/>last<sp/>modify<sp/>time</highlight></codeline>
<codeline lineno="890"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>file<sp/>info<sp/>packet<sp/>(set<sp/>all<sp/>data<sp/>to<sp/>zero)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a67765875dfff1d3d6d7cbc4a7ae2f8f0" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_InitMsg</ref>(&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>,<sp/><ref refid="fm__msgids_8h_1a15d63179bd9a49bcb71ff87239f095f2" kindref="member">FM_FILE_INFO_TLM_MID</ref>,</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___file_info_pkt__t" kindref="compound">FM_FileInfoPkt_t</ref>),<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>);</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>directory<sp/>or<sp/>filename<sp/>state,<sp/>name,<sp/>size<sp/>and<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>.<ref refid="struct_f_m___file_info_pkt__t_1a06265b37f21c3c7a43a6872c1c1b57cb" kindref="member">FileStatus</ref><sp/>=<sp/>(<ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint8</ref>)<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a43574f0288c5ccd390ac3ea0ec98423b" kindref="member">FileInfoState</ref>;</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/>strcpy(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>.<ref refid="struct_f_m___file_info_pkt__t_1ac536da4de434341d63cd6d8260f9247e" kindref="member">Filename</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="899"><highlight class="normal"></highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>.<ref refid="struct_f_m___file_info_pkt__t_1a0eb2fb1848e16f5479b3e24ca33e4ae5" kindref="member">FileSize</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a261709a0524b1483098e330071fc0282" kindref="member">FileInfoSize</ref>;</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>.<ref refid="struct_f_m___file_info_pkt__t_1ad105064ddcb99d1ce3f9456f7e7bd72c" kindref="member">LastModifiedTime</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a67fc0f589b2ca3aea5acda08ac513a72" kindref="member">FileInfoTime</ref>;</highlight></codeline>
<codeline lineno="902"><highlight class="normal"></highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Validate<sp/>CRC<sp/>algorithm<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref><sp/>!=<sp/><ref refid="fm__defs_8h_1a11cb3115f4e6fdb685ea98c65a470854" kindref="member">FM_IGNORE_CRC</ref>)</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a43574f0288c5ccd390ac3ea0ec98423b" kindref="member">FileInfoState</ref><sp/>!=<sp/><ref refid="fm__defs_8h_1a2304a68959eb31b48738bace641a592c" kindref="member">FM_NAME_IS_FILE_CLOSED</ref>)</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Can<sp/>only<sp/>calculate<sp/>CRC<sp/>for<sp/>closed<sp/>files<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="910"><highlight class="normal"></highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1acae0f8206969b93071746127af66f2db" kindref="member">FM_GET_FILE_INFO_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>warning:<sp/>unable<sp/>to<sp/>compute<sp/>CRC:<sp/>invalid<sp/>file<sp/>state<sp/>=<sp/>%d,<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a43574f0288c5ccd390ac3ea0ec98423b" kindref="member">FileInfoState</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="914"><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref><sp/>=<sp/><ref refid="fm__defs_8h_1a11cb3115f4e6fdb685ea98c65a470854" kindref="member">FM_IGNORE_CRC</ref>;</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref><sp/>!=<sp/><ref refid="cfe__mission__cfg_8h_1a7307e5911f60929cd3e0168fc588f3ba" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_CRC_8</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref><sp/>!=<sp/><ref refid="cfe__mission__cfg_8h_1aefbb9d92cd44551b03db17d5899ef231" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_CRC_16</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref><sp/>!=<sp/><ref refid="cfe__mission__cfg_8h_1a9fb84dadb2922dbcc08fbe4423510e75" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_CRC_32</ref>))</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Can<sp/>only<sp/>calculate<sp/>CRC<sp/>using<sp/>known<sp/>algorithms<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="923"><highlight class="normal"></highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1acae0f8206969b93071746127af66f2db" kindref="member">FM_GET_FILE_INFO_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>warning:<sp/>unable<sp/>to<sp/>compute<sp/>CRC:<sp/>invalid<sp/>CRC<sp/>type<sp/>=<sp/>%d,<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="927"><highlight class="normal"></highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref><sp/>=<sp/><ref refid="fm__defs_8h_1a11cb3115f4e6fdb685ea98c65a470854" kindref="member">FM_IGNORE_CRC</ref>;</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="931"><highlight class="normal"></highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compute<sp/>CRC<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref><sp/>!=<sp/><ref refid="fm__defs_8h_1a11cb3115f4e6fdb685ea98c65a470854" kindref="member">FM_IGNORE_CRC</ref>)</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileHandle<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a32b00c0a65370a5dd7fde6157a249980" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_open</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/><ref refid="osapi-os-filesys_8h_1a9d92578f2d09bd724bc5bbc6c78fc84c" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_READ_ONLY</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="936"><highlight class="normal"></highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FileHandle<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>CRC<sp/>failure<sp/>event<sp/>(warning)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1acae0f8206969b93071746127af66f2db" kindref="member">FM_GET_FILE_INFO_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>warning:<sp/>unable<sp/>to<sp/>compute<sp/>CRC:<sp/>OS_open<sp/>result<sp/>=<sp/>%d,<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)FileHandle,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="945"><highlight class="normal"></highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GettingCRC<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GettingCRC<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="952"><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(GettingCRC)</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesRead<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a43dace419af92095b82f0b788ffb31f9" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_read</ref>(FileHandle,<sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1aad1e50b4015ed83fbd4fa9fcffc23b98" kindref="member">ChildBuffer</ref>,</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__platform__cfg_8h_1ae41510cbe8ec5f58635ff6510faadd63" kindref="member">FM_CHILD_FILE_BLOCK_SIZE</ref>);</highlight></codeline>
<codeline lineno="957"><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesRead<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Finished<sp/>reading<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GettingCRC<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_close</ref>(FileHandle);</highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>CRC<sp/>to<sp/>telemetry<sp/>packet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>.<ref refid="struct_f_m___file_info_pkt__t_1ae876fb6929aa671e0ea28ef3287f96f1" kindref="member">CRC_Computed</ref><sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>.<ref refid="struct_f_m___file_info_pkt__t_1aacc3d6d448c7661a8ed15297092a0fe2" kindref="member">CRC</ref><sp/>=<sp/>CurrentCRC;</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesRead<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Error<sp/>reading<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CurrentCRC<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GettingCRC<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_close</ref>(FileHandle);</highlight></codeline>
<codeline lineno="974"><highlight class="normal"></highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>CRC<sp/>failure<sp/>event<sp/>(warning)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1acae0f8206969b93071746127af66f2db" kindref="member">FM_GET_FILE_INFO_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>warning:<sp/>unable<sp/>to<sp/>compute<sp/>CRC:<sp/>OS_read<sp/>result<sp/>=<sp/>%d,<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesRead,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Continue<sp/>CRC<sp/>calculation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CurrentCRC<sp/>=<sp/><ref refid="cfe__es__api_8c_1ae9f5d3540d243c9f57ea73658c758c91" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_CalculateCRC</ref>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1aad1e50b4015ed83fbd4fa9fcffc23b98" kindref="member">ChildBuffer</ref>,<sp/>BytesRead,</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CurrentCRC,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a47b393dd270a21886bd0aedd629dd1d2" kindref="member">FileInfoCRC</ref>);</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="987"><highlight class="normal"></highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Avoid<sp/>CPU<sp/>hogging<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(GettingCRC)</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LoopCount++;</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(LoopCount<sp/>==<sp/><ref refid="fm__platform__cfg_8h_1af1428dea27332a7d934fa984a9ad2421" kindref="member">FM_CHILD_FILE_LOOP_COUNT</ref>)</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Give<sp/>up<sp/>the<sp/>CPU<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogExit</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-core_8h_1a8f78bce95227e4e99fe6f0378835260e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_TaskDelay</ref>(<ref refid="fm__platform__cfg_8h_1ac0d6c709f86f04a72da408ca551daaf4" kindref="member">FM_CHILD_FILE_SLEEP_MS</ref>);</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogEntry</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LoopCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>.<ref refid="struct_f_m___file_info_pkt__t_1aacc3d6d448c7661a8ed15297092a0fe2" kindref="member">CRC</ref><sp/>=<sp/>CurrentCRC;</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"></highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Timestamp<sp/>and<sp/>send<sp/>file<sp/>info<sp/>telemetry<sp/>packet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1aaab4db240d18fa4017741f0f7680e4e1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_TimeStampMsg</ref>((<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_Msg_t</ref><sp/>*)<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>);</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_SendMsg</ref>((<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_Msg_t</ref><sp/>*)<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab04d63649dbe8d53acf9bce4dcaa6d60" kindref="member">FileInfoPkt</ref>);</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"></highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(debug)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a439196cca44f092b17a9679cf091a792" kindref="member">FM_GET_FILE_INFO_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"></highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"></highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"></highlight></codeline>
<codeline lineno="1022"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildFileInfoCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight></codeline>
<codeline lineno="1024"><highlight class="normal"></highlight></codeline>
<codeline lineno="1025"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1027"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Create<sp/>Directory<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1028"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1029"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1030"><highlight class="normal"></highlight></codeline>
<codeline lineno="1031" refid="fm__child_8h_1aeff2a44bc96d3197178b65c2a3d8968d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1aeff2a44bc96d3197178b65c2a3d8968d" kindref="member">FM_ChildCreateDirCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="1032"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Create<sp/>Directory&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>OS_Status;</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"></highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"></highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a7b0c66b65e536179a6ff655671490cf6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_mkdir</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"></highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"></highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1ae281de89683ac6faf9e4c56cffdf6099" kindref="member">FM_CREATE_DIR_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_mkdir<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a5ce09eb7d68da904fdc6ca4b69c113b0" kindref="member">FM_CREATE_DIR_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>src<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"></highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"></highlight></codeline>
<codeline lineno="1065"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildCreateDirCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1066"><highlight class="normal"></highlight></codeline>
<codeline lineno="1067"><highlight class="normal"></highlight></codeline>
<codeline lineno="1068"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1070"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Delete<sp/>Directory<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1071"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1073"><highlight class="normal"></highlight></codeline>
<codeline lineno="1074" refid="fm__child_8h_1a88d72fce98a917ff068ae8aad857af13" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a88d72fce98a917ff068ae8aad857af13" kindref="member">FM_ChildDeleteDirCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="1075"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Delete<sp/>Directory&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/>RemoveTheDir<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a2352c3c6c5ad0819aa5a633da30b84d1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirp_t</ref><sp/>DirPtr;</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a1a6d5c1c6478f1b5f409a50552d07fd7" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirent_t</ref><sp/>*DirEntry;</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>OS_Status;</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"></highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"></highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>the<sp/>dir<sp/>so<sp/>we<sp/>can<sp/>see<sp/>if<sp/>it<sp/>is<sp/>empty<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/>DirPtr<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_opendir</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"></highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DirPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref>)</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1afdcc3ca4ab3218fa2fadda6563c7033e" kindref="member">FM_DELETE_DIR_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_opendir<sp/>failed:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"></highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RemoveTheDir<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Look<sp/>for<sp/>a<sp/>directory<sp/>entry<sp/>that<sp/>is<sp/>not<sp/>&quot;.&quot;<sp/>or<sp/>&quot;..&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(((DirEntry<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_readdir</ref>(DirPtr))<sp/>!=<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref>)<sp/>&amp;&amp;<sp/>(RemoveTheDir<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>))</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" kindref="member">FM_THIS_DIRECTORY</ref>)<sp/>!=<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" kindref="member">FM_PARENT_DIRECTORY</ref>)<sp/>!=<sp/>0))</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a714c9f64c8d55f7be5427a53bce8bf9a" kindref="member">FM_DELETE_DIR_EMPTY_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>directory<sp/>is<sp/>not<sp/>empty:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"></highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RemoveTheDir<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"></highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_closedir</ref>(DirPtr);</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"></highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(RemoveTheDir)</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Remove<sp/>the<sp/>directory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1aa769d1593b6193a5ace2fdf73449726e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_rmdir</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"></highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1afdcc3ca4ab3218fa2fadda6563c7033e" kindref="member">FM_DELETE_DIR_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_rmdir<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"></highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1ae4fe0b934b9949c4693b72ad96490ddf" kindref="member">FM_DELETE_DIR_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>src<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"></highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"></highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"></highlight></codeline>
<codeline lineno="1147"><highlight class="normal"></highlight></codeline>
<codeline lineno="1148"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildDeleteDirCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1149"><highlight class="normal"></highlight></codeline>
<codeline lineno="1150"><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1152"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1153"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Get<sp/>Directory<sp/>List<sp/>(to<sp/>file)<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1154"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1155"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1156"><highlight class="normal"></highlight></codeline>
<codeline lineno="1157" refid="fm__child_8h_1af8674c8eb239138b4fc1b7bea8d857b8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1af8674c8eb239138b4fc1b7bea8d857b8" kindref="member">FM_ChildDirListFileCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="1158"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Directory<sp/>List<sp/>to<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/>Result;</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/>FileHandle;</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a2352c3c6c5ad0819aa5a633da30b84d1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirp_t</ref><sp/>DirPtr;</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"></highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"></highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1168"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Command<sp/>argument<sp/>useage<sp/>for<sp/>this<sp/>command:</highlight></codeline>
<codeline lineno="1169"><highlight class="comment"><sp/><sp/><sp/><sp/>**</highlight></codeline>
<codeline lineno="1170"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;CommandCode<sp/>=<sp/>FM_GET_DIR_FILE_CC</highlight></codeline>
<codeline lineno="1171"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Source1<sp/><sp/><sp/><sp/><sp/>=<sp/>directory<sp/>name</highlight></codeline>
<codeline lineno="1172"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Source2<sp/><sp/><sp/><sp/><sp/>=<sp/>directory<sp/>name<sp/>plus<sp/>separator</highlight></codeline>
<codeline lineno="1173"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Target<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>output<sp/>filename</highlight></codeline>
<codeline lineno="1174"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1175"><highlight class="normal"></highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>directory<sp/>for<sp/>reading<sp/>directory<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/>DirPtr<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_opendir</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"></highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DirPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref>)</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"></highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" kindref="member">FM_GET_DIR_FILE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_opendir<sp/>failed:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>output<sp/>file,<sp/>write<sp/>placeholder<sp/>for<sp/>statistics,<sp/>etc.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="fm__child_8c_1a37da339a9867e1cb45d831c81d4a0a0a" kindref="member">FM_ChildDirListFileInit</ref>(&amp;FileHandle,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>);</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>directory<sp/>listing<sp/>and<sp/>write<sp/>contents<sp/>to<sp/>output<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1af357d80f88bcbf029ae0ef0e87dc3532" kindref="member">FM_ChildDirListFileLoop</ref>(DirPtr,<sp/>FileHandle,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a56979d80689087c98698cc8d72aac4fa" kindref="member">Target</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a9f87c57ce25f4da9ae5118c1d48ff447" kindref="member">GetSizeTimeMode</ref>);</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"></highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Close<sp/>output<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_close</ref>(FileHandle);</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"></highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Close<sp/>directory<sp/>list<sp/>access<sp/>handle<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_closedir</ref>(DirPtr);</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"></highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"></highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"></highlight></codeline>
<codeline lineno="1213"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildDirListFileCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"></highlight></codeline>
<codeline lineno="1216"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1217"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1218"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Get<sp/>Directory<sp/>List<sp/>(to<sp/>pkt)<sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1219"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1220"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1221"><highlight class="normal"></highlight></codeline>
<codeline lineno="1222" refid="fm__child_8h_1a9eb81011943d9b7efd2817d9eff72e03" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a9eb81011943d9b7efd2817d9eff72e03" kindref="member">FM_ChildDirListPktCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="1223"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Directory<sp/>List<sp/>to<sp/>Packet&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LogicalName[OS_MAX_PATH_LEN];</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StillProcessing;</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a2352c3c6c5ad0819aa5a633da30b84d1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirp_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirPtr;</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a1a6d5c1c6478f1b5f409a50552d07fd7" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirent_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*DirEntry;</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ListIndex;</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_f_m___dir_list_entry__t" kindref="compound">FM_DirListEntry_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ListEntry;</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PathLength;</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EntryLength;</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilesTillSleep<sp/>=<sp/><ref refid="fm__platform__cfg_8h_1ace83585f0302db2c752f269a07bb7df0" kindref="member">FM_CHILD_STAT_SLEEP_FILECOUNT</ref>;</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"></highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>current<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"></highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1239"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/>Command<sp/>argument<sp/>useage<sp/>for<sp/>this<sp/>command:</highlight></codeline>
<codeline lineno="1240"><highlight class="comment"><sp/><sp/><sp/><sp/>**</highlight></codeline>
<codeline lineno="1241"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;CommandCode<sp/><sp/><sp/>=<sp/>FM_GET_DIR_PKT_CC</highlight></codeline>
<codeline lineno="1242"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Source1<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>directory<sp/>name</highlight></codeline>
<codeline lineno="1243"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;Source2<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>directory<sp/>name<sp/>plus<sp/>separator</highlight></codeline>
<codeline lineno="1244"><highlight class="comment"><sp/><sp/><sp/><sp/>**<sp/><sp/>CmdArgs-&gt;DirListOffset<sp/>=<sp/>index<sp/>of<sp/>1st<sp/>reported<sp/>dir<sp/>entry</highlight></codeline>
<codeline lineno="1245"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/>PathLength<sp/>=<sp/>strlen(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>);</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"></highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>source<sp/>directory<sp/>for<sp/>reading<sp/>directory<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/>DirPtr<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a8fae404f11203ae6870750f56ab29f7f" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_opendir</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"></highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DirPtr<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref>)</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"></highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a822606d2445d0f9059c6e3ee1147a21f" kindref="member">FM_GET_DIR_PKT_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_opendir<sp/>failed:<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>directory<sp/>list<sp/>telemetry<sp/>packet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a67765875dfff1d3d6d7cbc4a7ae2f8f0" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_InitMsg</ref>(&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>,<sp/><ref refid="fm__msgids_8h_1ad562246df6fcd9b37b29136cbc8030f8" kindref="member">FM_DIR_LIST_TLM_MID</ref>,</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___dir_list_pkt__t" kindref="compound">FM_DirListPkt_t</ref>),<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>);</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"></highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1a257df7548e089d59f310f3d7df3f525b" kindref="member">DirName</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>OS_MAX_PATH_LEN);</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1a2e59494f9ce58d6af81ace2752c7426d" kindref="member">FirstFile</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a24772d4fcca2e475028e4ca6c9f32772" kindref="member">DirListOffset</ref>;</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"></highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StillProcessing<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(StillProcessing<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)</highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>next<sp/>directory<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirEntry<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_readdir</ref>(DirPtr);</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"></highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DirEntry<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref>)</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>reading<sp/>directory<sp/>-<sp/>no<sp/>more<sp/>entries<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StillProcessing<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" kindref="member">FM_THIS_DIRECTORY</ref>)<sp/>!=<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" kindref="member">FM_PARENT_DIRECTORY</ref>)<sp/>!=<sp/>0))</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>not<sp/>count<sp/>the<sp/>&quot;.&quot;<sp/>and<sp/>&quot;..&quot;<sp/>directory<sp/>entries<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1aefa9a21fa2bc5eac53d7964cb3cfd31b" kindref="member">TotalFiles</ref>++;</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"></highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>collecting<sp/>directory<sp/>entries<sp/>at<sp/>command<sp/>specified<sp/>offset<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>collecting<sp/>directory<sp/>entries<sp/>when<sp/>telemetry<sp/>packet<sp/>is<sp/>full<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1aefa9a21fa2bc5eac53d7964cb3cfd31b" kindref="member">TotalFiles</ref><sp/>&gt;<sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1a2e59494f9ce58d6af81ace2752c7426d" kindref="member">FirstFile</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1ad6f7a56cb9f91964e6631ee1c0b8c616" kindref="member">PacketFiles</ref><sp/>&lt;<sp/><ref refid="fm__platform__cfg_8h_1ab89d57a7bce1efbbf4b2bdb0884dfda0" kindref="member">FM_DIR_LIST_PKT_ENTRIES</ref>))</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>a<sp/>shorthand<sp/>access<sp/>to<sp/>the<sp/>packet<sp/>list<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ListIndex<sp/>=<sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1ad6f7a56cb9f91964e6631ee1c0b8c616" kindref="member">PacketFiles</ref>;</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ListEntry<sp/>=<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1a4226d73a64f77ecd0ca701b023eca345" kindref="member">FileList</ref>[ListIndex];</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"></highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EntryLength<sp/>=<sp/>strlen(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"></highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Verify<sp/>combined<sp/>directory<sp/>plus<sp/>filename<sp/>length<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((EntryLength<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ListEntry-&gt;<ref refid="struct_f_m___dir_list_entry__t_1a46f50fa5eef0f02cb914d8f571010c9e" kindref="member">EntryName</ref>))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((PathLength<sp/>+<sp/>EntryLength)<sp/>&lt;<sp/>OS_MAX_PATH_LEN))</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>filename<sp/>to<sp/>directory<sp/>listing<sp/>telemetry<sp/>packet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(ListEntry-&gt;<ref refid="struct_f_m___dir_list_entry__t_1a46f50fa5eef0f02cb914d8f571010c9e" kindref="member">EntryName</ref>,<sp/><ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"></highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Build<sp/>filename<sp/>-<sp/>Directory<sp/>already<sp/>has<sp/>path<sp/>separator<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(LogicalName,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>);</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcat(LogicalName,<sp/><ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"></highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a50ccf8c801c6fbdce2a63f765785a210" kindref="member">FM_ChildSleepStat</ref>(LogicalName,<sp/>ListEntry,<sp/>&amp;FilesTillSleep,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a9f87c57ce25f4da9ae5118c1d48ff447" kindref="member">GetSizeTimeMode</ref>);</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"></highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>another<sp/>entry<sp/>to<sp/>the<sp/>telemetry<sp/>packet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>.<ref refid="struct_f_m___dir_list_pkt__t_1ad6f7a56cb9f91964e6631ee1c0b8c616" kindref="member">PacketFiles</ref>++;</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"></highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>warning<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a2d6822b74cba795363bf98b4b9a78650" kindref="member">FM_GET_DIR_PKT_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>warning:<sp/>dir<sp/>+<sp/>entry<sp/>is<sp/>too<sp/>long:<sp/>dir<sp/>=<sp/>%s,<sp/>entry<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a3a5970ec75ac4dae67e4332483a173c1" kindref="member">Source2</ref>,<sp/><ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"></highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1ace81f82cce91c1ad43f8ee3be18e3e92" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_closedir</ref>(DirPtr);</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"></highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Timestamp<sp/>and<sp/>send<sp/>directory<sp/>listing<sp/>telemetry<sp/>packet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1aaab4db240d18fa4017741f0f7680e4e1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_TimeStampMsg</ref>((<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_Msg_t</ref><sp/>*)<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>);</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__sb_8h_1a91b4b63f7d168bd78dc92d894ad7f77d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_SendMsg</ref>((<ref refid="union_c_f_e___s_b___msg__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_SB_Msg_t</ref><sp/>*)<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a2131954e5df81a49a6a5e0983deed924" kindref="member">DirListPkt</ref>);</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"></highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1aa3a76cb27baacb14c4b39ddb3e6b519d" kindref="member">FM_GET_DIR_PKT_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>offset<sp/>=<sp/>%d,<sp/>dir<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a24772d4fcca2e475028e4ca6c9f32772" kindref="member">DirListOffset</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>);</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"></highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"></highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Report<sp/>previous<sp/>child<sp/>task<sp/>activity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a19ad449daffa1d4c54fa0689a7fc3ba5" kindref="member">ChildPreviousCC</ref><sp/>=<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a68825ec693ea10e1532c659578b24b2b" kindref="member">CommandCode</ref>;</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8e817c673fa32a0c5f6c0bd97dde52c0" kindref="member">ChildCurrentCC</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"></highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"></highlight></codeline>
<codeline lineno="1346"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildDirListPktCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1347"><highlight class="normal"></highlight></codeline>
<codeline lineno="1348"><highlight class="normal"></highlight></codeline>
<codeline lineno="1349"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1350"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1351"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>command<sp/>handler<sp/>--<sp/>Set<sp/>File<sp/>Permissions<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1352"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1353"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1354" refid="fm__child_8h_1a4075be244ac10994f306259f9fbccd57" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a4075be244ac10994f306259f9fbccd57" kindref="member">FM_ChildSetPermissionsCmd</ref>(<ref refid="struct_f_m___child_queue_entry__t" kindref="compound">FM_ChildQueueEntry_t</ref><sp/>*CmdArgs)</highlight></codeline>
<codeline lineno="1355"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>OS_Status;</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Set<sp/>Permissions&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/>OS_Status<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1aef31b0db7ad2f42c096c4e0db9152911" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_chmod</ref>(CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a8d610b7a7b3e079c2ade72401a100593" kindref="member">Mode</ref>);</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"></highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(OS_Status<sp/>==<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"></highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1abdb4792a8f523393ff983cd1415ab9a7" kindref="member">FM_SET_PERM_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>file<sp/>=<sp/>%s,<sp/>access<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a8d610b7a7b3e079c2ade72401a100593" kindref="member">Mode</ref>);</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"></highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>OS<sp/>error<sp/>message<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a9ff454962e31f7acf84eb2594fa225a1" kindref="member">FM_SET_PERM_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>OS_chmod<sp/>error,<sp/>RC=0x%08X,<sp/>file<sp/>=<sp/>%s,<sp/>access<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)OS_Status,<sp/>CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a093c4da10e3df7e9b48db22f81ad0c55" kindref="member">Source1</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)CmdArgs-&gt;<ref refid="struct_f_m___child_queue_entry__t_1a8d610b7a7b3e079c2ade72401a100593" kindref="member">Mode</ref>);</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1381"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildSetPermissionsCmd()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1382"><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1384"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1385"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>utility<sp/>function<sp/>--<sp/>create<sp/>dir<sp/>list<sp/>output<sp/>file<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1386"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1387"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1388"><highlight class="normal"></highlight></codeline>
<codeline lineno="1389" refid="fm__child_8h_1a37da339a9867e1cb45d831c81d4a0a0a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a37da339a9867e1cb45d831c81d4a0a0a" kindref="member">FM_ChildDirListFileInit</ref>(<ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>*FileHandlePtr,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*Directory,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*Filename)</highlight></codeline>
<codeline lineno="1390"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/>*CmdText<sp/><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Directory<sp/>List<sp/>to<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandResult<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_f_e___f_s___header__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_Header_t</ref><sp/><sp/><sp/><sp/>FileHeader;</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileHandle;</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesWritten;</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"></highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>standard<sp/>cFE<sp/>File<sp/>Header<sp/>for<sp/>the<sp/>Directory<sp/>Listing<sp/>File<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/>CFE_PSP_MemSet(&amp;FileHeader,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___f_s___header__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_Header_t</ref>));</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/>FileHeader.<ref refid="struct_c_f_e___f_s___header__t_1ac1b5794c41f04cd1eee346f033f44e3a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">SubType</ref><sp/>=<sp/><ref refid="fm__platform__cfg_8h_1a4824237f0ee2c1bf26065322180f0450" kindref="member">FM_DIR_LIST_FILE_SUBTYPE</ref>;</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/>strcpy(FileHeader.<ref refid="struct_c_f_e___f_s___header__t_1adc2b15b18f9bfcbee4aa3c8d9100163b" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">Description</ref>,<sp/>CmdText);</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"></highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>directory<sp/>listing<sp/>output<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/>FileHandle<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a9e28b3226a066b1ea186650ed36b9b81" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_creat</ref>(Filename,<sp/><ref refid="osapi-os-filesys_8h_1a2788e8d8f495bac9f6933fffbf9f2b93" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_READ_WRITE</ref>);</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FileHandle<sp/>&gt;=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>the<sp/>standard<sp/>CFE<sp/>file<sp/>header<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesWritten<sp/>=<sp/><ref refid="cfe__fs__api_8c_1a7f0315f283029e5ec7ade9fdfd38875d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_WriteHeader</ref>(FileHandle,<sp/>&amp;FileHeader);</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesWritten<sp/>==<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___f_s___header__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_Header_t</ref>))</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>directory<sp/>statistics<sp/>structure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFE_PSP_MemSet(&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" kindref="member">DirListFileStats</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___dir_list_file_stats__t" kindref="compound">FM_DirListFileStats_t</ref>));</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" kindref="member">DirListFileStats</ref>.<ref refid="struct_f_m___dir_list_file_stats__t_1a983f17b43cef6579ba60405df49c55fe" kindref="member">DirName</ref>,<sp/>Directory);</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"></highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>blank<sp/>FM<sp/>directory<sp/>statistics<sp/>structure<sp/>as<sp/>a<sp/>place<sp/>holder<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesWritten<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1aa4cff610350a94b341e81af75941aecd" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_write</ref>(FileHandle,<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" kindref="member">DirListFileStats</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___dir_list_file_stats__t" kindref="compound">FM_DirListFileStats_t</ref>));</highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesWritten<sp/>==<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___dir_list_file_stats__t" kindref="compound">FM_DirListFileStats_t</ref>))</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Return<sp/>output<sp/>file<sp/>handle<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*FileHandlePtr<sp/>=<sp/>FileHandle;</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandResult<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"></highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" kindref="member">FM_GET_DIR_FILE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_write<sp/>blank<sp/>stats<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>expected<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesWritten,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___dir_list_file_stats__t" kindref="compound">FM_DirListFileStats_t</ref>));</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandResult<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"></highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" kindref="member">FM_GET_DIR_FILE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>CFE_FS_WriteHeader<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>expected<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesWritten,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___f_s___header__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_Header_t</ref>));</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1442"><highlight class="normal"></highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Close<sp/>output<sp/>file<sp/>after<sp/>write<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CommandResult<sp/>==<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>)</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1af78f50e6ee6c96959e44130dd7956cf6" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_close</ref>(FileHandle);</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandResult<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"></highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" kindref="member">FM_GET_DIR_FILE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_creat<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>file<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)FileHandle,<sp/>Filename);</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"></highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(CommandResult);</highlight></codeline>
<codeline lineno="1461"><highlight class="normal"></highlight></codeline>
<codeline lineno="1462"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>FM_ChildDirListFileInit<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1463"><highlight class="normal"></highlight></codeline>
<codeline lineno="1464"><highlight class="normal"></highlight></codeline>
<codeline lineno="1465"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1466"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1467"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>utility<sp/>function<sp/>--<sp/>write<sp/>to<sp/>dir<sp/>list<sp/>output<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1468"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1469"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1470"><highlight class="normal"></highlight></codeline>
<codeline lineno="1471" refid="fm__child_8h_1aa0bc195d165713d7c107a09a55135d1a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1af357d80f88bcbf029ae0ef0e87dc3532" kindref="member">FM_ChildDirListFileLoop</ref>(<ref refid="osapi-os-filesys_8h_1a2352c3c6c5ad0819aa5a633da30b84d1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirp_t</ref><sp/>DirPtr,<sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>FileHandle,</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*Directory,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*DirWithSep,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*Filename,<sp/><ref refid="common__types_8h_1adde6aaee8457bee49c2a92621fe22b79" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint8</ref><sp/>getSizeTimeMode)</highlight></codeline>
<codeline lineno="1473"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/>*CmdText<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Directory<sp/>List<sp/>to<sp/>File&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/>WriteLength<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___dir_list_entry__t" kindref="compound">FM_DirListEntry_t</ref>);</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/>ReadingDirectory<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/>CommandResult<sp/>=<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>;</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/>DirEntries<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/>FileEntries<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/>EntryLength;</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/>PathLength;</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/>BytesWritten;</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/>FilesTillSleep<sp/>=<sp/><ref refid="fm__platform__cfg_8h_1ace83585f0302db2c752f269a07bb7df0" kindref="member">FM_CHILD_STAT_SLEEP_FILECOUNT</ref>;</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>TempName[OS_MAX_PATH_LEN];</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a1a6d5c1c6478f1b5f409a50552d07fd7" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_dirent_t</ref><sp/>*DirEntry;</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_f_m___dir_list_entry__t" kindref="compound">FM_DirListEntry_t</ref><sp/><sp/>DirListData;</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"></highlight></codeline>
<codeline lineno="1488"><highlight class="normal"></highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/>PathLength<sp/>=<sp/>strlen(DirWithSep);</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"></highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Until<sp/>end<sp/>of<sp/>directory<sp/>entries<sp/>or<sp/>output<sp/>file<sp/>write<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((CommandResult<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)<sp/>&amp;&amp;<sp/>(ReadingDirectory<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>))</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirEntry<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1a586c69a5687d3983b35c5a63248e9b63" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_readdir</ref>(DirPtr);</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"></highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Normal<sp/>loop<sp/>end<sp/>-<sp/>no<sp/>more<sp/>directory<sp/>entries<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DirEntry<sp/>==<sp/><ref refid="common__types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">NULL</ref>)</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReadingDirectory<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a7f53b4e889cc5ae4de811692deb71257" kindref="member">FM_THIS_DIRECTORY</ref>)<sp/>!=<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(strcmp(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry),<sp/><ref refid="fm__defs_8h_1a84b91514f4828d40fe11541e2bd5fe01" kindref="member">FM_PARENT_DIRECTORY</ref>)<sp/>!=<sp/>0))</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>not<sp/>count<sp/>the<sp/>&quot;.&quot;<sp/>and<sp/>&quot;..&quot;<sp/>files<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirEntries++;</highlight></codeline>
<codeline lineno="1506"><highlight class="normal"></highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Count<sp/>all<sp/>files<sp/>-<sp/>write<sp/>limited<sp/>number<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FileEntries<sp/>&lt;<sp/><ref refid="fm__platform__cfg_8h_1abd424538512fb782d2c9714936010a8d" kindref="member">FM_DIR_LIST_FILE_ENTRIES</ref>)</highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EntryLength<sp/>=<sp/>strlen(<ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1511"><highlight class="normal"></highlight></codeline>
<codeline lineno="1512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((EntryLength<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(DirListData.<ref refid="struct_f_m___dir_list_entry__t_1a46f50fa5eef0f02cb914d8f571010c9e" kindref="member">EntryName</ref>))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((PathLength<sp/>+<sp/>EntryLength)<sp/>&lt;<sp/>OS_MAX_PATH_LEN))</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Build<sp/>qualified<sp/>directory<sp/>entry<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(TempName,<sp/>DirWithSep);</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcat(TempName,<sp/><ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Populate<sp/>directory<sp/>list<sp/>file<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(DirListData.<ref refid="struct_f_m___dir_list_entry__t_1a46f50fa5eef0f02cb914d8f571010c9e" kindref="member">EntryName</ref>,<sp/><ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"></highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a50ccf8c801c6fbdce2a63f765785a210" kindref="member">FM_ChildSleepStat</ref>(TempName,<sp/>(<ref refid="struct_f_m___dir_list_entry__t" kindref="compound">FM_DirListEntry_t</ref><sp/>*)&amp;DirListData,<sp/>&amp;FilesTillSleep,<sp/>getSizeTimeMode);</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"></highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>directory<sp/>list<sp/>file<sp/>entry<sp/>to<sp/>output<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesWritten<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1aa4cff610350a94b341e81af75941aecd" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_write</ref>(FileHandle,<sp/>&amp;DirListData,<sp/>WriteLength);</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"></highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesWritten<sp/>==<sp/>WriteLength)</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileEntries++;</highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandResult<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"></highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" kindref="member">FM_GET_DIR_FILE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_write<sp/>entry<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>expected<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesWritten,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)WriteLength);</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a828ef37cb969dd7acaad3d0ae9d63103" kindref="member">ChildCmdWarnCounter</ref>++;</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"></highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a55bf771c49e815e8f25eb9860c9885ff" kindref="member">FM_GET_DIR_FILE_WARNING_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a9bc5a36744c852941ce1aa5e07932ff4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_INFORMATION</ref>,</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>combined<sp/>directory<sp/>and<sp/>entry<sp/>name<sp/>too<sp/>long:<sp/>dir<sp/>=<sp/>%s,<sp/>entry<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>Directory,<sp/><ref refid="fm__child_8c_1abf9dff3db1765bdbb1d6f5807453fe9a" kindref="member">OS_DIRENTRY_NAME</ref>(*DirEntry));</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"></highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>directory<sp/>statistics<sp/>in<sp/>output<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((CommandResult<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)<sp/>&amp;&amp;<sp/>(DirEntries<sp/>!=<sp/>0))</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>entries<sp/>found<sp/>in<sp/>directory<sp/>vs<sp/>entries<sp/>written<sp/>to<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" kindref="member">DirListFileStats</ref>.<ref refid="struct_f_m___dir_list_file_stats__t_1a03717b4dfffff70af08b5c8dad73831f" kindref="member">DirEntries</ref><sp/>=<sp/>DirEntries;</highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" kindref="member">DirListFileStats</ref>.<ref refid="struct_f_m___dir_list_file_stats__t_1a0ab57f4b5d2a04edd9c7fccdcd38c6f4" kindref="member">FileEntries</ref><sp/>=<sp/>FileEntries;</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"></highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Back<sp/>up<sp/>to<sp/>the<sp/>start<sp/>of<sp/>the<sp/>statisitics<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a0b68c81a6ebf54f71e09b402874fbe9f" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_lseek</ref>(FileHandle,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_c_f_e___f_s___header__t" kindref="compound" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_FS_Header_t</ref>),<sp/><ref refid="osapi-os-filesys_8h_1a43ec0724caab103627a9def565cdfcaf" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SEEK_SET</ref>);</highlight></codeline>
<codeline lineno="1564"><highlight class="normal"></highlight></codeline>
<codeline lineno="1565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>an<sp/>updated<sp/>version<sp/>of<sp/>the<sp/>statistics<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WriteLength<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_f_m___dir_list_file_stats__t" kindref="compound">FM_DirListFileStats_t</ref>);</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BytesWritten<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1aa4cff610350a94b341e81af75941aecd" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_write</ref>(FileHandle,<sp/>&amp;<ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a4c8ee2573a1f81d966f230b4939b2ee5" kindref="member">DirListFileStats</ref>,<sp/>WriteLength);</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"></highlight></codeline>
<codeline lineno="1569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(BytesWritten<sp/>!=<sp/>WriteLength)</highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandResult<sp/>=<sp/><ref refid="common__types_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">FALSE</ref>;</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1ab3c24048bd47e77c7b0a78cad02bdb6f" kindref="member">ChildCmdErrCounter</ref>++;</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"></highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>failure<sp/>event<sp/>(error)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a0de1deb142efbbaeb5a553a09e8713c4" kindref="member">FM_GET_DIR_FILE_OS_ERR_EID</ref>,<sp/><ref refid="cfe__evs_8h_1ad98a59324d59e7f8a2f6162887197832" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_ERROR</ref>,</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>error:<sp/>OS_write<sp/>update<sp/>stats<sp/>failed:<sp/>result<sp/>=<sp/>%d,<sp/>expected<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)BytesWritten,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)WriteLength);</highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"></highlight></codeline>
<codeline lineno="1581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>command<sp/>completion<sp/>event<sp/>(info)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(CommandResult<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__app_8c_1ace72ec999539ff12d0816f73f479d250" kindref="member">FM_GlobalData</ref>.<ref refid="struct_f_m___global_data__t_1a8a3186f5da1ad8f35e988e4a3894d150" kindref="member">ChildCmdCounter</ref>++;</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"></highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__evs_8c_1aab8630735c7be46fb4162323a112d298" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_SendEvent</ref>(<ref refid="fm__events_8h_1a706b5547a82c41f76ddbfa6401f9fb7f" kindref="member">FM_GET_DIR_FILE_CMD_EID</ref>,<sp/><ref refid="cfe__evs_8h_1a5551720d052dd752fcf22af0dcdc9d4e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_EVS_DEBUG</ref>,</highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>command:<sp/>wrote<sp/>%d<sp/>of<sp/>%d<sp/>names:<sp/>dir<sp/>=<sp/>%s,<sp/>filename<sp/>=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CmdText,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)FileEntries,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)DirEntries,<sp/>Directory,<sp/>Filename);</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"></highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1592"><highlight class="normal"></highlight></codeline>
<codeline lineno="1593"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildDirListFileLoop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1594"><highlight class="normal"></highlight></codeline>
<codeline lineno="1595"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1596"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1597"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>utility<sp/>function<sp/>--<sp/>get<sp/>dir<sp/>entry<sp/>size<sp/>and<sp/>time<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1598"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1599"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1600"><highlight class="normal"></highlight></codeline>
<codeline lineno="1601" refid="fm__child_8h_1a114300482e3667818c3a8c80d4a68526" refkind="member"><highlight class="normal"><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><ref refid="fm__child_8c_1a114300482e3667818c3a8c80d4a68526" kindref="member">FM_ChildSizeTimeMode</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*Filename,<sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/>*FileSize,<sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/>*FileTime,<sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/>*FileMode)</highlight></codeline>
<codeline lineno="1602"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Result;</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="osapi-os-filesys_8h_1a58a78dc721065cb8c7839b65c2096b5e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_fstat_t</ref><sp/><sp/>FileStatus;</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="common__types_8h_1a9560e25c315bae45d1ed4e2ce49ce55a" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">uint32</ref><sp/><sp/><sp/><sp/><sp/><sp/>FileStatTime;</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"></highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/>CFE_PSP_MemSet(&amp;FileStatus,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="osapi-os-filesys_8h_1a58a78dc721065cb8c7839b65c2096b5e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">os_fstat_t</ref>));</highlight></codeline>
<codeline lineno="1608"><highlight class="normal"></highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/>Result<sp/>=<sp/><ref refid="osapi-os-filesys_8h_1ae2a42242548bcadd43e8aa9da1bec195" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_stat</ref>(Filename,<sp/>&amp;FileStatus);</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"></highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Result<sp/>!=<sp/><ref refid="osapi_8h_1a35b2b8984c2833372a467771063b05be" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_SUCCESS</ref>)</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*FileSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*FileTime<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FileStatTime<sp/>=<sp/>FileStatus.st_mtime;</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"></highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Convert<sp/>the<sp/>file<sp/>system<sp/>time<sp/>to<sp/>spacecraft<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*FileTime<sp/>=<sp/><ref refid="cfe__time_8h_1a0f8b1968e967bd7596b0e5dd353dc35d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_TIME_FS2CFESeconds</ref>(FileStatTime);</highlight></codeline>
<codeline lineno="1622"><highlight class="normal"></highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*FileSize<sp/>=<sp/>FileStatus.st_size;</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*FileMode<sp/>=<sp/>FileStatus.st_mode;</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"></highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(Result);</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"></highlight></codeline>
<codeline lineno="1631"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>FM_ChildSizeTimeMode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1632"><highlight class="normal"></highlight></codeline>
<codeline lineno="1633"><highlight class="normal"></highlight></codeline>
<codeline lineno="1634"><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1636"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1637"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FM<sp/>child<sp/>task<sp/>utility<sp/>function<sp/>--<sp/>sleep<sp/>between<sp/>OS_stat<sp/>on<sp/>files*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1638"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1639"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1640"><highlight class="normal"></highlight></codeline>
<codeline lineno="1641" refid="fm__child_8h_1aacef3ed2d1c3a8b63506bb7bd7a740c7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="fm__child_8c_1a50ccf8c801c6fbdce2a63f765785a210" kindref="member">FM_ChildSleepStat</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*Filename,<sp/><ref refid="struct_f_m___dir_list_entry__t" kindref="compound">FM_DirListEntry_t</ref><sp/>*DirListData,<sp/><ref refid="common__types_8h_1a5eb512da689eec1a7472ab97e2ab6be3" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">int32</ref><sp/>*FilesTillSleep,<sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/>getSizeTimeMode)</highlight></codeline>
<codeline lineno="1642"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>command<sp/>requested<sp/>size<sp/>and<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(getSizeTimeMode<sp/>==<sp/><ref refid="common__types_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">TRUE</ref>)</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*FilesTillSleep<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a19d8dd9bb016a1bec9fdae7cfeb3fbd4" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogExit</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osapi-os-core_8h_1a8f78bce95227e4e99fe6f0378835260e" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">OS_TaskDelay</ref>(<ref refid="fm__platform__cfg_8h_1a7034e669b121a395215aa567b86242d4" kindref="member">FM_CHILD_STAT_SLEEP_MS</ref>);</highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cfe__es_8h_1a9ef217a6193ed3db2235b850d5219625" kindref="member" external="/home/vagrant/airliner/build/reference/default/docs/html/cfe/detailed_design/cfe.tag">CFE_ES_PerfLogEntry</ref>(<ref refid="fm__perfids_8h_1ae31fc803cdbd757497c3d3777ad608ac" kindref="member">FM_CHILD_TASK_PERF_ID</ref>);</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*FilesTillSleep<sp/>=<sp/><ref refid="fm__platform__cfg_8h_1ace83585f0302db2c752f269a07bb7df0" kindref="member">FM_CHILD_STAT_SLEEP_FILECOUNT</ref>;</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"></highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>file<sp/>size,<sp/>date,<sp/>and<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fm__child_8c_1a114300482e3667818c3a8c80d4a68526" kindref="member">FM_ChildSizeTimeMode</ref>(Filename,<sp/>&amp;(DirListData-&gt;<ref refid="struct_f_m___dir_list_entry__t_1a6924de55addd6f0f8033752399ef8c15" kindref="member">EntrySize</ref>),</highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;(DirListData-&gt;<ref refid="struct_f_m___dir_list_entry__t_1a4fe06f056c574d976d85fab7f2d7c846" kindref="member">ModifyTime</ref>),</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;(DirListData<sp/>-&gt;<ref refid="struct_f_m___dir_list_entry__t_1aab1619c4c08884bf7c1ee7ad6de9b631" kindref="member">Mode</ref>));</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*FilesTillSleep)--;</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirListData-&gt;<ref refid="struct_f_m___dir_list_entry__t_1a6924de55addd6f0f8033752399ef8c15" kindref="member">EntrySize</ref><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirListData-&gt;<ref refid="struct_f_m___dir_list_entry__t_1a4fe06f056c574d976d85fab7f2d7c846" kindref="member">ModifyTime</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DirListData-&gt;<ref refid="struct_f_m___dir_list_entry__t_1aab1619c4c08884bf7c1ee7ad6de9b631" kindref="member">Mode</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1667"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>FM_ChildSleepStat<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1668"><highlight class="normal"></highlight></codeline>
<codeline lineno="1669"><highlight class="normal"></highlight><highlight class="comment">/************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1670"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>End<sp/>of<sp/>File<sp/>Comment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1671"><highlight class="normal"></highlight><highlight class="comment">/************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1672"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="apps/fm/fsw/src/fm_child.c"/>
  </compounddef>
</doxygen>
